{
    "openapi": "3.0.2",
    "info": {
        "title": "任务管理",
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "http://{host}:{port}/api",
            "description": "",
            "variables": {
                "host": {

                },
                "port": {

                }
            }
        }
    ],
    "paths": {
        "/data-replicator/v1/jobs": {
            "get": {
                "parameters": [
                    {
                        "name": "sort",
                        "description": "排序类型，默认update_time",
                        "schema": {
                            "type": "string"
                        },
                        "in": "query",
                        "required": false
                    },
                    {
                        "name": "direction",
                        "description": "排序方向，默认DESC,[DESC,ASC]",
                        "schema": {
                            "type": "string"
                        },
                        "in": "query"
                    },
                    {
                        "name": "limit",
                        "description": "每页数量，默认10，范围为 [1, 1000]",
                        "schema": {
                            "type": "integer"
                        },
                        "in": "query",
                        "required": false
                    },
                    {
                        "name": "offset",
                        "description": "偏移量，默认为0（>=0）",
                        "schema": {
                            "type": "integer"
                        },
                        "in": "query",
                        "required": false
                    },
                    {
                        "name": "job_name",
                        "description": "任务名称，重名校验（精确查询）",
                        "schema": {
                            "type": "string"
                        },
                        "in": "query",
                        "required": false
                    },
                    {
                        "name": "job_states",
                        "description": "任务状态\n0：失败\n1：运行中\n2：关闭\n3：休眠中",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "integer"
                            }
                        },
                        "in": "query",
                        "required": false
                    },
                    {
                        "name": "name_pattern",
                        "description": "任务名称，模糊查询",
                        "schema": {
                            "type": "string"
                        },
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ListResult"
                                },
                                "examples": {
                                    "密码不作为返回结果": {
                                        "value": {
                                            "entries": [
                                                {
                                                    "src_cluster_sasl_username": "",
                                                    "sink_cluster_sasl_username": "anyrobot_data_replicator",
                                                    "job_id": "415452930074770180",
                                                    "job_name": "测试",
                                                    "job_state": 1,
                                                    "comment": "test",
                                                    "create_time": "2022-07-07 09:54:08",
                                                    "update_time": "2022-07-07 09:54:08",
                                                    "src_cluster_id": "zHybvkTzRQGNeRFmAbB3eg",
                                                    "src_cluster_addresses": [
                                                        "10.4.128.125:31000"
                                                    ],
                                                    "is_src_cluster_sasl": false,
                                                    "is_src_cluster_ssl": false,
                                                    "sink_cluster_id": "CORKILGMSNW8MzPqfdbcIQ",
                                                    "sink_cluster_addresses": [
                                                        "10.4.14.35:31007"
                                                    ],
                                                    "is_sink_cluster_sasl": true,
                                                    "is_sink_cluster_ssl": true,
                                                    "allowed_topics": [
                                                        "kafka_topic"
                                                    ],
                                                    "not_allowed_topics": [
                                                        "kafka_topic"
                                                    ],
                                                    "is_open_timed_replication": false,
                                                    "timed_replication_start_time": "00:00",
                                                    "timed_replication_duration": 300,
                                                    "details": ""
                                                }
                                            ],
                                            "total_count": 1
                                        }
                                    }
                                }
                            }
                        },
                        "description": "获取任务列表成功"
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "OffsetInvalidParameter": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.OffsetInvalidParameter",
                                            "description": "Invalid OffsetParameter",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "LimitInvalidParameter": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.LimitInvalidParameter",
                                            "description": "Invalid LimitParameter",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "DirectionInvalidParameter": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.DirectionInvalidParameter",
                                            "description": "Invalid DirectionParameter",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "SortInvalidParameter": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.SortInvalidParameter",
                                            "description": "Invalid SortParameter",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    }
                                }
                            }
                        },
                        "description": "参数不合法"
                    },
                    "500": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "JobInternalError": {
                                        "value": {
                                            "error_code": "DataReplicator.InternalError.JobInternalError",
                                            "description": "InternalError Job",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    }
                                }
                            }
                        },
                        "description": "服务器内部错误"
                    }
                },
                "description": "jobs"
            },
            "post": {
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/AddOrUpdateJobParams"
                            },
                            "examples": {
                                "example": {
                                    "value": {
                                        "comment": "",
                                        "allowed_topics": [
                                        ],
                                        "not_allowed_topics": [
                                        ],
                                        "sink_cluster_addresses": [
                                            "10.4.105.113:31000"
                                        ],
                                        "job_name": "多域复制A",
                                        "src_cluster_addresses": [
                                            "10.4.110.32:31000"
                                        ],
                                        "is_src_cluster_sasl": true,
                                        "is_src_cluster_ssl": false,
                                        "src_cluster_sasl_password": "replicator",
                                        "is_sink_cluster_sasl": true,
                                        "is_sink_cluster_ssl": false,
                                        "sink_cluster_sasl_password": "eisoo.com",
                                        "sink_cluster_sasl_username": "replicator",
                                        "src_cluster_sasl_username": "eisoo.com",
                                        "is_open_timed_replication": true,
                                        "timed_replication_duration": 300,
                                        "timed_replication_start_time": "00:00"
                                    }
                                }
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/JobIdResult"
                                },
                                "examples": {
                                    "createSuccessExample": {
                                        "value": {
                                            "job_id": "419417529442642865"
                                        }
                                    }
                                }
                            }
                        },
                        "description": "任务新建成功"
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "JobNameInvalid": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.JobNameInvalidParameter",
                                            "description": "Invalid JobNameParameter",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "JobNameExist": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.JobNameExist",
                                            "description": "JobName Exist",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "JobNameNull": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.JobNameNull",
                                            "description": "JobName Null",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "SrcClusterAddressesInvaliid": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.SrcClusterAddressesInvalidParameter",
                                            "description": "Invalid SrcClusterAddressesParameter",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "JobTotalOutOfRange": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.JobTotalOutOfRange",
                                            "description": "JobTotals Out Of Range",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "JobClusterDoubleExist": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.JobClusterDoubleExist",
                                            "description": "Job ClusterDouble Exist",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "SrcClusterAddressesNull": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.SrcClusterAddressesNull",
                                            "description": "SrcClusterAddresses Null",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "SrcClusterIdDifferent": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.SrcClusterIdDifferent",
                                            "description": "SrcCluster Different ClusterId",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "SameSrcSinkClusterId": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.SameSrcSinkClusterId",
                                            "description": "Src Sink Same ClusterId",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "SrcClusterAddressesDisconnected": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.SrcClusterAddressesDisconnected",
                                            "description": "SrcClusterAddresses Disconnected",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "GenerateIDFailed": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.GenerateIDFailed",
                                            "description": "GenerateID Failed",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "TopicsInvalid": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.TopicsInvalidParameter",
                                            "description": "Invalid TopicsParameter",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "SrcSaslUerNameNull": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.SrcSaslUerNameNull",
                                            "description": "SrcSaslUserName Null",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "SrcSaslPasswordNull": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.SrcSaslPasswordNull",
                                            "description": "SrcSaslPassword Null",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "SinkClusterAddressesInvalid": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.SinkClusterAddressesInvalidParameter",
                                            "description": "Invalid SinkClusterAddressesParameter",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "SinkClusterAddressesNull": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.SinkClusterAddressesNull",
                                            "description": "SinkClusterAddresses Null",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "SinkClusterIdDifferent": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.SinkClusterIdDifferent",
                                            "description": "SinkCluster Different ClusterId",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "SinkClusterAddressesDisconnected": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.SinkClusterAddressesDisconnected",
                                            "description": "SinkClusterAddresses Disconnected",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "SinkSaslUerNameNull": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.SinkSaslUerNameNull",
                                            "description": "SinkSaslUserName Null",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "SinkSaslPasswordNull": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.SinkSaslPasswordNull",
                                            "description": "SinkSaslPassword Null",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "TimedReplicationStartTimeInvalid": {
                                        "value": {
                                            "error_code": "DataReplicator.BadReque.TimedReplicationStartTimeInvalidParameter",
                                            "description": "Invalid TimedReplicationStartTimeParameter",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "TimedReplicationDurationOutOfRange": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.TimedReplicationDurationOutOfRange",
                                            "description": "TimedReplicationDuration Out Of Range",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    }
                                }
                            }
                        },
                        "description": "请求参数不合法"
                    },
                    "500": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "JobInternalError": {
                                        "value": {
                                            "error_code": "DataReplicator.InternalError.JobInternalError",
                                            "description": "InternalError Job",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "ReplicatorJobInternalError": {
                                        "value": {
                                            "error_code": "DataReplicator.InternalError.ReplicatorJobInternalError",
                                            "description": "InternalError ReplicatorJob",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "KafkaInternalError": {
                                        "value": {
                                            "error_code": "DataReplicator.InternalError.KafkaInternalError",
                                            "description": "InternalError kafka",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    }
                                }
                            }
                        },
                        "description": "服务器内部错误"
                    }
                },
                "description": "jobs"
            }
        },
        "/data-replicator/v1/jobs/{job_id}": {
            "get": {
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/JobDetails"
                                },
                                "examples": {
                                    "密码不作为结果返回": {
                                        "value": {
                                            "src_cluster_sasl_username": "",
                                            "sink_cluster_sasl_username": "anyrobot_data_replicator",
                                            "job_id": "415452930074770180",
                                            "job_name": "测试",
                                            "job_state": 1,
                                            "comment": "test",
                                            "create_time": "2022-07-07 09:54:08",
                                            "update_time": "2022-07-07 10:29:43",
                                            "src_cluster_id": "zHybvkTzRQGNeRFmAbB3eg",
                                            "src_cluster_addresses": [
                                                "10.4.128.125:31000"
                                            ],
                                            "is_src_cluster_sasl": false,
                                            "is_src_cluster_ssl": false,
                                            "sink_cluster_id": "CORKILGMSNW8MzPqfdbcIQ",
                                            "sink_cluster_addresses": [
                                                "10.4.14.35:31007"
                                            ],
                                            "is_sink_cluster_sasl": true,
                                            "is_sink_cluster_ssl": true,
                                            "allowed_topics": [
                                                "kafka_topic"
                                            ],
                                            "not_allowed_topics": [
                                                "kafka_topic"
                                            ],
                                            "is_open_timed_replication": false,
                                            "timed_replication_start_time": "00:00",
                                            "timed_replication_duration": 300,
                                            "details": ""
                                        }
                                    }
                                }
                            }
                        },
                        "description": "获取某个任务详情"
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "JobIdInvalidParameter": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.JobIdInvalidParameter",
                                            "description": "Invalid JobIdParameter",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "JobIdNull": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.JobIdNull",
                                            "description": "JobId Null",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    }
                                }
                            }
                        },
                        "description": "参数验证不合法"
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "JobNotFound": {
                                        "value": {
                                            "error_code": "DataReplicator.NotFound.JobNotFound",
                                            "description": "NotFound  Job",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    }
                                }
                            }
                        },
                        "description": "任务不存在"
                    },
                    "500": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "JobInternalError": {
                                        "value": {
                                            "error_code": "DataReplicator.InternalError.JobInternalError",
                                            "description": "InternalError Job",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    }
                                }
                            }
                        },
                        "description": "服务器内部错误"
                    }
                },
                "description": "jobs/{job_id}"
            },
            "put": {
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/AddOrUpdateJobParams"
                            },
                            "examples": {
                                "example": {
                                    "value": {
                                        "comment": "",
                                        "allowed_topics": [
                                        ],
                                        "not_allowed_topics": [
                                        ],
                                        "sink_cluster_addresses": [
                                            "10.4.110.32:31000"
                                        ],
                                        "job_name": "aaaa",
                                        "src_cluster_addresses": [
                                            "10.4.105.113:31000"
                                        ],
                                        "is_src_cluster_sasl": true,
                                        "is_src_cluster_ssl": false,
                                        "src_cluster_sasl_password": "replicator",
                                        "is_sink_cluster_sasl": true,
                                        "is_sink_cluster_ssl": false,
                                        "sink_cluster_sasl_password": "replicator",
                                        "sink_cluster_sasl_username": "eisoo.com",
                                        "src_cluster_sasl_username": "eisoo.com",
                                        "is_open_timed_replication": false,
                                        "timed_replication_duration": 300,
                                        "timed_replication_start_time": "00:00"
                                    }
                                }
                            }
                        }
                    },
                    "required": true
                },
                "parameters": [
                    {
                        "name": "job_id",
                        "description": "任务编号",
                        "schema": {
                            "type": "string"
                        },
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/JobIdResult"
                                },
                                "examples": {
                                    "UpdateJobSuccess": {
                                        "value": {
                                            "job_id": "419417529442642865"
                                        }
                                    }
                                }
                            }
                        },
                        "description": "修改任务信息成功"
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "JobNameNull": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.JobNameNull",
                                            "description": "JobName Null",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "SrcClusterAddressesInvalidParameter": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.SrcClusterAddressesInvalidParameter",
                                            "description": "Invalid SrcClusterAddressesParameter",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "JobNameInvalidParameter": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.JobNameInvalidParameter",
                                            "description": "Invalid JobNameParameter",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "SrcClusterAddressesNull": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.SrcClusterAddressesNull",
                                            "description": "SrcClusterAddresses Null",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "JobNameExist": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.JobNameExist",
                                            "description": "JobName Exist",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "SrcClusterIdDifferent": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.SrcClusterIdDifferent",
                                            "description": "Different SrcClusterId",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "SrcClusterIdUpdated": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.SrcClusterIdUpdated",
                                            "description": "SrcClusterId Updated",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "SrcClusterAddressesDisconnected": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.SrcClusterAddressesDisconnected",
                                            "description": "SrcCluster Address Disconnected",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "SrcSaslUerNameNull": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.SrcSaslUerNameNull",
                                            "description": "SrcSaslUserName Null",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "TopicsInvalidParameter": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.TopicsInvalidParameter",
                                            "description": "Invalid TopicsParameter",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "SinkSaslPasswordNull": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.SinkSaslPasswordNull",
                                            "description": "SinkSaslPassword Null",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "SinkClusterAddressesInvalidParameter": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.SinkClusterAddressesInvalidParameter",
                                            "description": "Invalid SinkClusterAddressesParameter",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "SinkClusterAddressesNull": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.SinkClusterAddressesNull",
                                            "description": "SinkClusterAddresses Null",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "SinkClusterIdDifferent": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.SinkClusterIdDifferent",
                                            "description": "Different SinkClusterId",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "SinkClusterIdUpdated": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.SinkClusterIdUpdated",
                                            "description": "SinkClusterId Updated",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "SinkClusterAddressesDisconnected": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.SinkClusterAddressesDisconnected",
                                            "description": "SinkCluster Address Disconnected",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "SinkSaslUerNameNull": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.SinkSaslUerNameNull",
                                            "description": "SinkSaslUserName Null",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "SrcSaslPasswordNull": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.SrcSaslPasswordNull",
                                            "description": "SinkSaslPassword Null",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "TimedReplicationStartTimeInvalidParameter": {
                                        "value": {
                                            "error_code": "DataReplicator.BadReque.TimedReplicationStartTimeInvalidParameter",
                                            "description": "Invalid TimedReplicationStartTimeParameter",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "TimedReplicationDurationOutOfRange": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.TimedReplicationDurationOutOfRange",
                                            "description": "TimedReplicationDuration Out Of Range",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    }
                                }
                            }
                        },
                        "description": "参数不合法"
                    },
                    "500": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "JobInternalError": {
                                        "value": {
                                            "error_code": "DataReplicator.InternalError.JobInternalError",
                                            "description": "InternalError Job",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "ReplicatorJobInternalError": {
                                        "value": {
                                            "error_code": "DataReplicator.InternalError.ReplicatorJobInternalError",
                                            "description": "InternalError ReplicatorJob",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "KafkaInternalError": {
                                        "value": {
                                            "error_code": "DataReplicator.InternalError.KafkaInternalError",
                                            "description": "InternalError kafka",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "TaskInternalError": {
                                        "value": {
                                            "error_code": "DataReplicator.InternalError.TaskInternalError",
                                            "description": "InternalError task",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    }
                                }
                            }
                        },
                        "description": "服务器内部错误"
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "JobNotFound": {
                                        "value": {
                                            "error_code": "DataReplicator.NotFound.JobNotFound",
                                            "description": "NotFound  Job",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    }
                                }
                            }
                        },
                        "description": "任务资源不存在"
                    }
                },
                "description": "jobs/{job_id}"
            },
            "delete": {
                "parameters": [
                    {
                        "name": "job_id",
                        "description": "任务编号",
                        "schema": {
                            "type": "string"
                        },
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "204": {
                        "description": "删除任务成功"
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "JobNotFound": {
                                        "value": {
                                            "error_code": "DataReplicator.NotFound.JobNotFound",
                                            "description": "NotFound  Job",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    }
                                }
                            }
                        },
                        "description": "任务资源不存在"
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "JobIdInvalidParameter": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.JobIdInvalidParameter",
                                            "description": "Invalid JobIdParameter",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "JobIdNull": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.JobIdNull",
                                            "description": "JobId Null",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    }
                                }
                            }
                        },
                        "description": "参数验证不合法"
                    },
                    "500": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "JobInternalError": {
                                        "value": {
                                            "error_code": "DataReplicator.InternalError.JobInternalError",
                                            "description": "InternalError Job",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "ReplicatorJobInternalError": {
                                        "value": {
                                            "error_code": "DataReplicator.InternalError.ReplicatorJobInternalError",
                                            "description": "InternalError ReplicatorJob",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "KafkaInternalError": {
                                        "value": {
                                            "error_code": "DataReplicator.InternalError.KafkaInternalError",
                                            "description": "InternalError kafka",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "TaskInternalError": {
                                        "value": {
                                            "error_code": "DataReplicator.InternalError.TaskInternalError",
                                            "description": "InternalError task",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    }
                                }
                            }
                        },
                        "description": "服务器内部错误"
                    }
                },
                "description": "jobs/{job_id}"
            },
            "parameters": [
                {
                    "name": "job_id",
                    "description": "任务编号",
                    "schema": {
                        "type": "string"
                    },
                    "in": "path",
                    "required": true
                }
            ]
        },
        "/data-replicator/v1/jobs/{job_id}/attr/state": {
            "put": {
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UpdateStateParam"
                            },
                            "examples": {
                                "ex": {
                                    "value": {
                                        "state": 1
                                    }
                                },
                                "ex1": {
                                    "value": {
                                        "state": 2
                                    }
                                }
                            }
                        }
                    },
                    "required": true
                },
                "parameters": [
                    {
                        "name": "job_id",
                        "description": "任务编号",
                        "schema": {
                            "type": "string"
                        },
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UpdateStateResponse"
                                },
                                "examples": {
                                    "startJobSuccess": {
                                        "value": {
                                            "job_id": 402877047124294400,
                                            "state": 1
                                        }
                                    },
                                    "PauseJobSuccess": {
                                        "value": {
                                            "job_id": 402877047124294400,
                                            "state": 2
                                        }
                                    }
                                }
                            }
                        },
                        "description": "成功修改任务状态"
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "JobIdNull": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.JobIdNull",
                                            "description": "JobId Null",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "JobIdInvalidParameter": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.JobIdInvalidParameter",
                                            "description": "Invalid JobIdParameter",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "JobStateInvalidParameter": {
                                        "value": {
                                            "error_code": "DataReplicator.BadRequest.JobStateInvalidParameter",
                                            "description": "Invalid JobStateParameter",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    }
                                }
                            }
                        },
                        "description": "参数校验不合法"
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "JobNotFound": {
                                        "value": {
                                            "error_code": "DataReplicator.NotFound.JobNotFound",
                                            "description": "NotFound  Job",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    }
                                }
                            }
                        },
                        "description": "任务资源不存在"
                    },
                    "500": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "JobInternalError": {
                                        "value": {
                                            "error_code": "DataReplicator.InternalError.JobInternalError",
                                            "description": "InternalError Job",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "ReplicatorJobInternalError": {
                                        "value": {
                                            "error_code": "DataReplicator.InternalError.ReplicatorJobInternalError",
                                            "description": "InternalError ReplicatorJob",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "KafkaInternalError": {
                                        "value": {
                                            "error_code": "DataReplicator.InternalError.KafkaInternalError",
                                            "description": "InternalError kafka",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    },
                                    "TaskInternalError": {
                                        "value": {
                                            "error_code": "DataReplicator.InternalError.TaskInternalError",
                                            "description": "InternalError task",
                                            "error_details": "some text",
                                            "error_link": "some text",
                                            "solution": "some text"
                                        }
                                    }
                                }
                            }
                        },
                        "description": "服务器内部错误"
                    }
                },
                "description": "jobs/{job_id}/attr/state"
            },
            "parameters": [
                {
                    "name": "job_id",
                    "description": "任务编号",
                    "schema": {
                        "type": "integer"
                    },
                    "in": "path",
                    "required": true
                }
            ]
        }
    },
    "components": {
        "schemas": {
            "JobDetails": {
                "description": "任务详情",
                "required": [
                    "job_name",
                    "job_state",
                    "comment",
                    "update_time",
                    "src_cluster_addresses",
                    "sink_cluster_addresses",
                    "job_id",
                    "not_allowed_topics",
                    "allowed_topics",
                    "create_time",
                    "details",
                    "src_cluster_id",
                    "sink_cluster_id",
                    "is_src_cluster_sasl",
                    "is_src_cluster_ssl",
                    "is_sink_cluster_sasl",
                    "is_sink_cluster_ssl",
                    "is_open_timed_replication"
                ],
                "type": "object",
                "properties": {
                    "comment": {
                        "description": "备注",
                        "type": "string"
                    },
                    "update_time": {
                        "description": "更新时间",
                        "type": "string"
                    },
                    "details": {
                        "description": "任务详情",
                        "type": "string"
                    },
                    "sink_cluster_addresses": {
                        "description": "目标集群主机地址",
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "job_name": {
                        "description": "任务名称",
                        "type": "string"
                    },
                    "job_id": {
                        "description": "任务编号",
                        "type": "string"
                    },
                    "not_allowed_topics": {
                        "description": "不允许复制的topics",
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "src_cluster_addresses": {
                        "description": "源集群主机地址",
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "create_time": {
                        "description": "创建时间",
                        "type": "string"
                    },
                    "allowed_topics": {
                        "description": "允许复制的topics",
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "src_cluster_id": {
                        "description": "源集群ID",
                        "type": "string"
                    },
                    "sink_cluster_id": {
                        "description": "目标集群ID",
                        "type": "string"
                    },
                    "job_state": {
                        "description": "任务状态\n0：失败\n1：运行中\n2：关闭\n3：休眠中",
                        "type": "integer"
                    },
                    "is_src_cluster_sasl": {
                        "description": "源集群是否开启了sasl：false 未开启，true 开启",
                        "type": "boolean"
                    },
                    "is_src_cluster_ssl": {
                        "description": "源集群是否开启了ssl：0 未开启，1 开启",
                        "type": "boolean"
                    },
                    "is_sink_cluster_sasl": {
                        "description": "目标集群是否开启了sasl：false 未开启，true 开启",
                        "type": "boolean"
                    },
                    "is_sink_cluster_ssl": {
                        "description": "目标集群是否开启了ssl：false 未开启，true 开启",
                        "type": "boolean"
                    },
                    "sink_cluster_sasl_username": {
                        "description": "目标集群开启sasl的用户名",
                        "type": "string"
                    },
                    "src_cluster_sasl_username": {
                        "description": "源集群开启sasl的用户名",
                        "type": "string"
                    },
                    "is_open_timed_replication": {
                        "description": "是否开启定时复制",
                        "type": "boolean"
                    },
                    "timed_replication_start_time": {
                        "description": "开启定时复制的开始时间 ; 格式:时:分(如00:00，01:00）；范围（00:00-23:59）；如果开启了定时复制，默认00:00",
                        "type": "string"
                    },
                    "timed_replication_duration": {
                        "description": "定时复制的持续时间（多少分钟）; 范围（0<duration<1440）; 如果开启了定时复制,默认300",
                        "type": "string"
                    }
                }
            },
            "ListResult": {
                "description": "分页查询结果",
                "required": [
                    "entries",
                    "total_count"
                ],
                "type": "object",
                "properties": {
                    "entries": {
                        "description": "任务列表",
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/JobDetails"
                        }
                    },
                    "total_count": {
                        "description": "总条目",
                        "type": "integer"
                    }
                }
            },
            "Error": {
                "description": "错误码",
                "required": [
                    "error_code",
                    "description",
                    "error_details",
                    "error_link",
                    "solution"
                ],
                "type": "object",
                "properties": {
                    "error_code": {
                        "description": "错误码，供开发者查看的错误信息",
                        "type": "string"
                    },
                    "description": {
                        "description": "错误描述",
                        "type": "string"
                    },
                    "error_details": {
                        "description": "错误细节",
                        "type": "string"
                    },
                    "error_link": {
                        "description": "错误信息地址",
                        "type": "string"
                    },
                    "solution": {
                        "description": "错误处理建议",
                        "type": "string"
                    }
                }
            },
            "AddOrUpdateJobParams": {
                "description": "新建任务请求参数",
                "required": [
                    "job_name",
                    "src_cluster_addresses",
                    "sink_cluster_addresses",
                    "is_src_cluster_sasl",
                    "is_src_cluster_ssl",
                    "is_sink_cluster_sasl",
                    "is_sink_cluster_ssl",
                    "is_open_timed_replication"
                ],
                "type": "object",
                "properties": {
                    "comment": {
                        "description": "备注",
                        "type": "string"
                    },
                    "allowed_topics": {
                        "description": "允许复制的topics",
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "not_allowed_topics": {
                        "description": "不允许复制的topics",
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "sink_cluster_addresses": {
                        "description": "目标集群主机地址",
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "job_name": {
                        "description": "任务名称",
                        "type": "string"
                    },
                    "src_cluster_addresses": {
                        "description": "源集群主机地址",
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "is_src_cluster_sasl": {
                        "description": "源集群是否开启了sasl：false 未开启，true 开启",
                        "type": "boolean"
                    },
                    "is_src_cluster_ssl": {
                        "description": "源集群是否开启了ssl：false 未开启，true 开启",
                        "type": "boolean"
                    },
                    "src_cluster_sasl_password": {
                        "description": "源集群开启sasl的密码",
                        "type": "string"
                    },
                    "is_sink_cluster_sasl": {
                        "description": "目标集群是否开启了sasl：false 未开启，true 开启",
                        "type": "boolean"
                    },
                    "is_sink_cluster_ssl": {
                        "description": "目标集群是否开启了ssl：false 未开启，true 开启",
                        "type": "boolean"
                    },
                    "sink_cluster_sasl_password": {
                        "description": "目标集群开启sasl的密码",
                        "type": "string"
                    },
                    "sink_cluster_sasl_username": {
                        "description": "目标集群开启sasl的用户名",
                        "type": "string"
                    },
                    "src_cluster_sasl_username": {
                        "description": "源集群开启sasl的用户名",
                        "type": "string"
                    },
                    "is_open_timed_replication": {
                        "description": "是否开启定时复制",
                        "type": "boolean"
                    },
                    "timed_replication_duration": {
                        "description": "定时复制的持续时间（多少分钟）; 范围（0<duration<1440）; 如果开启了定时复制,默认300",
                        "type": "integer"
                    },
                    "timed_replication_start_time": {
                        "description": "开启定时复制的开始时间 ; 格式:时:分(如00:00，01:00）；范围（00:00-23:59）；如果开启了定时复制，默认00:00",
                        "type": "string"
                    }
                }
            },
            "TestHosts": {
                "description": "检测主机ip连通性",
                "required": [
                    "cluster_addresses",
                    "is_cluster_sasl",
                    "is_cluster_ssl"
                ],
                "type": "object",
                "properties": {
                    "cluster_addresses": {
                        "description": "主机地址",
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "is_cluster_sasl": {
                        "description": "集群是否开启了sasl：false 未开启,true 开启",
                        "type": "boolean"
                    },
                    "is_cluster_ssl": {
                        "description": "集群是否开启了ssl：false 未开启，true 开启",
                        "type": "boolean"
                    },
                    "cluster_sasl_password": {
                        "description": "集群开启sasl的密码",
                        "type": "string"
                    },
                    "cluster_sasl_username": {
                        "description": "集群开启sasl的用户名",
                        "type": "string"
                    }
                }
            },
            "UpdateStateParam": {
                "description": "修改任务状态",
                "required": [
                    "state"
                ],
                "type": "object",
                "properties": {
                    "state": {
                        "description": "任务状态\nstate只能是1或2;\n1：运行中\n2：关闭",
                        "type": "integer"
                    }
                }
            },
            "JobIdResult": {
                "description": "新建或修改任务结果",
                "required": [
                    "job_id"
                ],
                "type": "object",
                "properties": {
                    "job_id": {
                        "description": "任务编号",
                        "type": "string"
                    }
                }
            },
            "UpdateStateResponse": {
                "description": "更新任务状态返回信息",
                "required": [
                    "job_id",
                    "state"
                ],
                "type": "object",
                "properties": {
                    "job_id": {
                        "description": "任务id",
                        "type": "integer"
                    },
                    "state": {
                        "description": "任务状态",
                        "type": "integer"
                    }
                }
            }
        }
    }
}