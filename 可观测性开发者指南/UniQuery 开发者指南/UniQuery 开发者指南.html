<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/606060 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <meta name="content-class" content="yinxiang.markdown"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="539"/>

<div><span><div style="font-size: 14px; margin: 0; padding: 0; width: 100%;"><h1 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 41px; border-bottom: 3px double #999; color: #000; margin-top: 14px;">Uniquery</h1>
<h1 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 41px; border-bottom: 3px double #999; color: #000;">第1章 背景</h1>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">AnyRobot Eyes 提供从数据生成、数据采集到数据解析、数据查询一系列组件，帮助实现服务的可观测性。本文档旨在讲解如何使用数据查询组件UniQuery。</p>
<h1 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 41px; border-bottom: 3px double #999; color: #000;">第2章 统一查询UniQuery</h1>
<h2 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 34px; border-bottom: 1px solid #dbdbdb; color: #333;">2.1 技术原理</h2>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">2.1.1 概览</h3>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">UniQuery是一个基于OpenSearch的查询服务，为用户提供结构化、非结构化文本的多条件检索、统计、分析服务，支持多种接口协议，有限兼容OpenSearch的原生接口。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">OpenSearch是一个基于Lucene的分布式开源搜索和分析引擎，起初源于ElasticSearch7.10.2的开源分支，在目前的版本中完全兼容ElasticSearch。</p>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">2.1.2 相关技术</h3>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">2.1.2.1 HTTPS</h4>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">定义</h5>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">HTTPS协议是由HTTP加上TLS/SSL协议构建的可进行加密传输、身份认证的网络协议，主要通过数字证书、加密算法、非对称密钥等技术完成互联网数据传输加密，实现互联网传输安全保护。</p>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">优点</h5>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">数据保密性：保证数据内容在传输的过程中不会被第三方查看；</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">数据完整性：及时发现被第三方篡改的传输内容；</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">数据完整性：及时发现被第三方篡改的传输内容。</li>
</ul>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">常用方法</h5>
<table style="margin: 2px 0 14px; color: #333; width: auto; border-collapse: collapse; box-sizing: border-box;"><thead style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">方法</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">说明</th></tr></thead><tbody style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">GET</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">GET请求用于从服务端获取关于资源的信息。这些信息将以报头（headers）和表示（representation）的形式返回给客户端；客户端在发送GET请求时不需提供表示（representation）</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">POST</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">POST请求的作用是为已有资源创建一个从属资源。这里的已有资源，可以是新建资源在数据结构意义上的父资源（就像树根与树叶的关系），也可以是一个专门用于生成其他资源的“工厂（factory）”资源。POST请求所携带的表示（representation）描述了该新资源的初始状态</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">PUT</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">PUT请求用于设定资源状态。客户端通常会在发送PUT请求时提供一个表示，服务器将根据此表示来创建或修改资源的状态</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">DELETE</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">DELETE请求用于删除资源。客户端在发送DELETE请求时无需提供表示</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">HEAD</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">与GET类似，不同点在于HEAD只返回报头、不返回表示（representation）</td></tr></tbody></table>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">状态码</h5>
<table style="margin: 2px 0 14px; color: #333; width: auto; border-collapse: collapse; box-sizing: border-box;"><thead style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">状态码</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">作用描述</th></tr></thead><tbody style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">200-299</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">成功状态码：服务器已接收到客户端发送的请求，该请求已完成或正在完成</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">300-399</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">重定向状态码：服务器已接收到客户端发送的请求，但是客户端必须采取进一步的措施才能完成请求。通常包括重定向到其他URL</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">400-499</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">客户端错误状态码：处理请求时，发生客户端错误，通常是因为客户端未提供正确的参数，无法访问资源或试图执行原本无法执行的操作</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">500-599</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">服务器错误状态码：服务器已接收到客户端发送的请求，但是服务器在处理请求时发生了错误。这些错误表示服务器出现问题，而不是客户请求出现问题</td></tr></tbody></table>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">2.1.2.2 Restful</h4>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">定义</h5>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">
<p style="line-height: 160%; box-sizing: content-box; color: #333; margin: 0;">REST是一种分布式应用的架构风格，也是一种大流量分布式应用的设计方法论；</p>
</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">
<p style="line-height: 160%; box-sizing: content-box; color: #333; margin: 0;">REST是Web本身的架构风格，是设计、开发Web相关规范、Web应用、Web服务的指导原则。</p>
</li>
</ul>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">特征</h5>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><img src="images/restful_features.png" style="line-height: 160%; margin: 4px 0 10px; box-sizing: border-box; vertical-align: top; max-width: 100%;"></img></p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">可寻址性：如果一个Web服务将其数据集里有价值部分作为资源（resource）发布出来，那么该应用就是可寻址的（addressable）。即，每个资源的URI（统一资源标识符）是唯一的；</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">统一接口：客户端与资源之间的所有交互，通过HTTP方法来确定并完成对资源的操作；</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">无状态性：一个REST式服务从不保存任何客户端在应用中所处状态的信息，服务就会按当前的资源状态（资源的信息）来独立处理各个客户端请求；</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">连通性：服务器通过资源当前的状态信息给出链接与表单来引导客户端在应用中所处状态的信息的变迁。</li>
</ul>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">2.1.2.3 JSON</h4>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">定义</h5>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">ContentBus API HTTP请求及响应body中的参数大部分使用JSON格式，JSON(JavaScript Object Notation)是一种轻量级的数据交换格式。简洁和清晰的层次结构使得JSON成为理想的数据交换语言。易于人阅读和编写，同时也易于机器解析和生成，并有效地提升网络传输效率。</p>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">特征</h5>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">
<p style="line-height: 160%; box-sizing: content-box; color: #333; margin: 0;">可读性：数据格式比较简单，易于读写；格式压缩，占用带宽较小；</p>
</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">
<p style="line-height: 160%; box-sizing: content-box; color: #333; margin: 0;">解析难度：易于解析这种语言，客户端JavaScript可以通过 eval() 进行JSON数据的读取；</p>
</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">
<p style="line-height: 160%; box-sizing: content-box; color: #333; margin: 0;">语言支持：支持多种语言，包括ActionScript，C，C#，ColdFusion，Java，JavaScript，Perl，php，Python，Ruby等语言服务器端语言，便于服务器端的解析；</p>
</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">
<p style="line-height: 160%; box-sizing: content-box; color: #333; margin: 0;">维护性：JSON格式能够直接为服务器端代码使用，大大简化了服务器端和客户端的代码开发量，但是完成的任务不变，且易于维护。</p>
</li>
</ul>
<h2 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 34px; border-bottom: 1px solid #dbdbdb; color: #333;">2.2 DSL查询语言</h2>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">2.2.1 定义</h3>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">领域特定语言（英语：domain-specific language简写为DSL）指的是专注于某个应用程序领域的计算机语言。又译作领域专用语言。不同于普通的跨领域通用计算机语言(GPL)，领域特定语言只用在某些特定的领域。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">在OpenSearch中，提供了基于Restful风格的json格式DSL语言来定义查询，功能丰富且具有多种表达形式，能够满足Lucene的绝大部分功能。</p>
<ol style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">OpenSearch将查询DSL视为查询的AST（抽象语法树），它由两种子句组成：</li>
</ol>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">叶子查询子句：
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333; margin-top: 0; margin-bottom: 0;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">叶查询子句中寻找一个特定的值在某一特定领域，如 match，term或 range查询。这些查询可以自己使用。</li>
</ul>
</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">复合查询子句
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333; margin-top: 0; margin-bottom: 0;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">复合查询子句包装其他叶查询或复合查询，并用于以逻辑方式组合多个查询（例如 bool或dis_max查询），或更改其行为（例如 constant_score查询）。查询子句的行为会有所不同，具体取决于它们是在 查询上下文中还是在过滤器上下文中使用。</li>
</ul>
</li>
</ul>
<ol start="2" style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">查询支持两种类型：</li>
</ol>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">过滤查询
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333; margin-top: 0; margin-bottom: 0;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">查询结构如下：</li>
</ul>
</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{
       <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;query&quot;</span>: {
              <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;bool&quot;</span>: {
                     <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;must&quot;</span>: {},
                     <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;filter&quot;</span>: {},
                     <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;must_not&quot;</span>: {},
                     <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;should&quot;</span>: {},
                     <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;minimum_should_match&quot;</span>: {}
              }
       }
}
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">结构说明：</li>
</ul>
<table style="margin: 2px 0 14px; color: #333; width: auto; border-collapse: collapse; box-sizing: border-box;"><thead style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">键</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">类型</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">含义</th></tr></thead><tbody style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">query</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">json</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">定义过滤查询语句</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">bool</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">json</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">定义布尔查询</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">must</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">json/array(object)</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">定义必须匹配的条件, 等同于AND，可为数组或者json格式的单个条件,该请求包含文档匹配度评分机制</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">must_not</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">json/array(object)</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">定义必须不匹配的条件, 等同于NOT，可为数组或者json格式的单个条件</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">filter</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">json/array(object)</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">定义必须匹配的条件,等同于AND，可为数组或者json格式的单个条件，该请求不包含文档评分机制。</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">should</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">json/array(object)</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">定义可匹配的条件</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">minimum_should_match</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">number</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">定义should条件中需要匹配的条件个数</td></tr></tbody></table>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">条件查询示例</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">以下{field_name}都代表需要查询的属性名称，根据日志结构定义。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">* 时间范围过滤：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{
    &quot;range&quot;:{
        {field_name}:{
            &quot;format&quot;:&quot;epoch_millis||yyyy-MM-dd HH:mm:ss&quot;,
            &quot;gte&quot;:&quot;2021-07-01T01:49:10.893Z&quot;,
            &quot;lt&quot;:&quot;2021-07-08T01:49:10.893Z&quot;
        }
    }
}
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">  format：指定时间解析的字符串格式，以上述为例，代表gte和lt中的时间字符串以format中的格式解析，与存储的字段格式无关；</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">  gte：开始的时间，包含边界；</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">  lt：结束的时间，不包含边界，若需要包含边界，可改为lte。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">* 数值范围过滤：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{
    &quot;range&quot;:{
        {field_name}:{
            &quot;gte&quot;:20,              //{value_name}的范围上界，包含边界
            &quot;lt&quot;:40                //{value_name}的范围下界，不包含边界
        }
    }
}
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">* 字段值过滤：</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Match：模糊查询，通常用于对text类型字段的查询,会对进行查询的文本先进行分词操作；</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><img src="images/fuzzy_matching_query.png" style="line-height: 160%; margin: 4px 0 10px; box-sizing: border-box; vertical-align: top; max-width: 100%;"></img></p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Term：精确查询，通常用于对keyword和有精确值的字段进行查询,不会对进行查询的文本进行分词操作</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><img src="images/term_level_query.png" style="line-height: 160%; margin: 4px 0 10px; box-sizing: border-box; vertical-align: top; max-width: 100%;"></img></p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">说明：{value}代表为字段过滤的值。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">* 单值过滤</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{
    &quot;term&quot;:{
        {field_name}:{value}
    }
}
{
    &quot;match&quot;:{
        {field_name}:{value}
    }
}
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">* 多值过滤</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{
    &quot;terms&quot;:{
        {field_name}:[{value1},{value2}]
    }
}
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">说明：若field为字符串类型，想要精确查询，需要加“.keyword”后缀。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">* 字段存在查询</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{
    &quot;exists&quot;: {
      &quot;field&quot;: {field_name}
    }
 }
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">聚合查询
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333; margin-top: 0; margin-bottom: 0;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">查询结构</li>
</ul>
</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">结构如下：</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">* 单层聚合：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{
    &quot;aggs&quot;:{
        &lt;agg_name1&gt;:{}
    }
}
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">* 多层聚合：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{
    &quot;aggs&quot;:{
        &lt;agg_name1&gt;:{
            &quot;aggs&quot;:{
                &lt;agg_name2&gt;:{}
            }
        }
    }
}
</code></pre>
<table style="margin: 2px 0 14px; color: #333; width: auto; border-collapse: collapse; box-sizing: border-box;"><thead style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">键</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">类型</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">含义</th></tr></thead><tbody style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">aggs</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">json</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">定义聚合查询语句</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">&lt;agg_name&gt;</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">json</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">聚合查询桶名称，自定义</td></tr></tbody></table>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">聚合查询示例---&lt;agg_name&gt;内的语句定义
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333; margin-top: 0; margin-bottom: 0;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">统计计数</li>
</ul>
</li>
</ul>
<table style="margin: 2px 0 14px; color: #333; width: auto; border-collapse: collapse; box-sizing: border-box;"><thead style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">键</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">类型</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">含义</th></tr></thead><tbody style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">terms</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">json</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">定义统计计数查询</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">order</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">json</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">定义排序规则，默认以文档数（doc_count）倒序排序</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">field</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">string</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">定义聚合字段</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">shard_size</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">number</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">定义分片级别的返回top值</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">size</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">number</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">定义返回top值</td></tr></tbody></table>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">示例：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{
  &quot;aggs&quot;: {
    &lt;agg_name&gt;: {
      &quot;terms&quot;: {
        &quot;field&quot;:&lt;field_name&gt;,
        &quot;order&quot;: {
          &quot;_count&quot;: &quot;desc&quot;      //此处为默认值，_count代表文档数即doc_count
        },
        &quot;shard_size&quot;: 200,
        &quot;size&quot;: 100
      }
    }
  }
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">* 时间直方图：</p>
<table style="margin: 2px 0 14px; color: #333; width: auto; border-collapse: collapse; box-sizing: border-box;"><thead style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">键</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">类型</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">含义</th></tr></thead><tbody style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">date_histogram</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">json</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">定义时间直方图聚合</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">field</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">string</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">定义聚合字段</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">calendar_interval</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">string</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">日历时间间隔</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">fixed_interval</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">string</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">固定时间间隔</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">interval</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">string</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">时间间隔</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">time_zone</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">string</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">时区，不指定则默认UTC</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">min_doc_count</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">number</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">返回桶文档数最小数量，默认会返回全部</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">order</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">json</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">定义排序规则，默认为时间倒叙排序</td></tr></tbody></table>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">说明：</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">calendar_interval：日历时间间隔，支持minute/1m、hour/1h、day/1d、week/1w、month/1M、quarter/1q、year/1y</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">fixed_interval：固定时间间隔，支持ms、s、m、h、d</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">interval：时间间隔，支持日历和固定时间格式，但在未来可能会被删除</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">order：排序若想为文档数排序，定义和统计计数中一致</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">示例：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;date_histogram&quot;</span>: {
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;field&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;@timestamp&quot;</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;fixed_interval&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;2d&quot;</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;min_doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;time_zone&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;Asia/Shanghai&quot;</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;order&quot;</span>: {
            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;_count&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;desc&quot;</span>
        }
    }
}
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">* top_hits聚合</p>
<table style="margin: 2px 0 14px; color: #333; width: auto; border-collapse: collapse; box-sizing: border-box;"><thead style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">键</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">类型</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">含义</th></tr></thead><tbody style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">top_hits</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">json</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">定义top_hits聚合</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">size</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">number</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">定义返回top数量</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">sort</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">json</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">定义排序规则</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">_source</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">json</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">定义此处为自定义字段的设置</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">include</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">array</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">定义返回的字段</td></tr></tbody></table>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">示例：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;top_hits&quot;</span>:{
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;size&quot;</span>:<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;sort&quot;</span>:[
            {
                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;@timestamp&quot;</span>:<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;desc&quot;</span>
            }
        ],
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;_source&quot;</span>:{
            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;includes&quot;</span>:[
                <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;共享地址url&quot;</span>,
                <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;共享地址类型&quot;</span>,
                <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;名称&quot;</span>
            ]
        }
    }
}
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">查询时区说明</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">查询返回的时间：存储格式即返回格式，根据解析规则定义时间字段的解析格式，若指定为UTC时间，则存储就是UTC时间，数据返回也是UTC时间字符串。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">查询的时间：查询时指定时间分为两种</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">1. 时间范围过滤查询，返回指定时间范围内的数据<br/>
2.  聚合查询---时间直方图，将时间按指定间隔进行分桶</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">时间范围过滤</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{
    &quot;range&quot;:{
        {field_name}:{
            &quot;format&quot;:&quot;epoch_millis||yyyy-MM-dd HH:mm:ss&quot;,
            &quot;gte&quot;:&quot;2021-07-01T01:49:10.893Z&quot;,
            &quot;lt&quot;:&quot;2021-07-08T01:49:10.893Z&quot;
        }
    }
}
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">时间说明：建议使用如示例中的UTC时间字符串或者时间戳进行查询，若想使用本地时间，需加参数“time_zone”,例如上海本地时间，&quot;time_zone&quot;:&quot;Asia/shanghai&quot;</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">支持时区和UTC偏移量</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">如图：查询结果一致。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><img src="images/time_range_filter1.png" style="line-height: 160%; margin: 4px 0 10px; box-sizing: border-box; vertical-align: top; max-width: 100%;"></img></p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><img src="images/time_range_filter2.png" style="line-height: 160%; margin: 4px 0 10px; box-sizing: border-box; vertical-align: top; max-width: 100%;"></img></p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><img src="images/time_range_filter3.png" style="line-height: 160%; margin: 4px 0 10px; box-sizing: border-box; vertical-align: top; max-width: 100%;"></img></p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">聚合时间直方图</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;date_histogram&quot;</span>: {
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;field&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;@timestamp&quot;</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;fixed_interval&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;2d&quot;</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;min_doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;time_zone&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;Asia/Shanghai&quot;</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;order&quot;</span>: {
            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;_count&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;desc&quot;</span>
        }
    }
}
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">时区参数：”time_zone”</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">这里使用时区时，返回的分桶时间字段的key值将会按此时区转换返回，默认存储为UTC时间，转换也是按UTC时间完成。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">例如，存储为”2016-12-01T00:00:00.000Z”,查询时区为&quot;Asia/Shanghai&quot;，将会返回”2016-12-01T00:00:00.000+8:00”。</p>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">2.2.2 API文档</h3>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">2.2.2.1 Search查询接口</h4>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">URL：/api/uniquery/v1/dsl/{x_library}/_search
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">
<p style="line-height: 160%; box-sizing: content-box; color: #333; margin: 0;">请求方式：POST</p>
</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">
<p style="line-height: 160%; box-sizing: content-box; color: #333; margin: 0;">内容格式：JSON</p>
</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">
<p style="line-height: 160%; box-sizing: content-box; color: #333; margin: 0;">URL路径参数：</p>
</li>
</ul>
<table style="margin: 2px 0 14px; color: #333; width: auto; border-collapse: collapse; box-sizing: border-box;"><thead style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">参数</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">是否必填</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">类型</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">说明</th></tr></thead><tbody style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">x_library</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">否</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">string</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">索引库名称，扩展参数，也可放于body中，都为空则默认返回空数据集，若两个都有，则取交集查询</td></tr></tbody></table>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">请求参数：</li>
</ul>
<table style="margin: 2px 0 14px; color: #333; width: auto; border-collapse: collapse; box-sizing: border-box;"><thead style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">参数</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">是否必填</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">类型</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">说明</th></tr></thead><tbody style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">scroll</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">否</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">string</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">指定搜索为滚动分页查询，保留分页搜索上下文的有效时间（支持数字+时间单位s,m,h）最长不超过24h</td></tr></tbody></table>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">请求体参数：</li>
</ul>
<table style="margin: 2px 0 14px; color: #333; width: auto; border-collapse: collapse; box-sizing: border-box;"><thead style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">参数</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">是否必填</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">类型</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">说明</th></tr></thead><tbody style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">x_library</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">否</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">array</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">该参数为 dsl 之外的扩展参数，指定查询的索引库名称，和路径中一致。非必须参数。若路径和 body 中均无此参数，则读取 ar_dataview 参数来查询，若此时无 ar_dataview 参数，则默认空数据集返回；若两个都有，则取交集查询；若交集为空，则默认空数据集返回</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">ar_dataview</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">否</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">string</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">该参数为 dsl 之外的扩展参数，指定查询的日志分组 ID，非必须参数，若路径和 body 中均无索引库名称 x_library 参数，则取此参数来查询。只支持指定一个日志分组 ID。</td></tr></tbody></table>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">返回结果：</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">返回为OpenSearch的原生接口返回内容，为json格式。</p>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">2.2.2.2 Scroll滚动分页接口</h4>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">URL：/api/uniquery/v1/dsl/_search/scroll</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">请求方式：POST</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">内容格式：JSON</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">请求头参数：</li>
</ul>
<table style="margin: 2px 0 14px; color: #333; width: auto; border-collapse: collapse; box-sizing: border-box;"><thead style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">参数</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">是否必填</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">类型</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">说明</th></tr></thead><tbody style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">Authorization</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">否</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">string</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">认证信息BearerToken</td></tr></tbody></table>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">请求体参数：</li>
</ul>
<table style="margin: 2px 0 14px; color: #333; width: auto; border-collapse: collapse; box-sizing: border-box;"><thead style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">参数</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">是否必填</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">类型</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">说明</th></tr></thead><tbody style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">scroll</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">否</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">string</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">为本次请求保留分页搜索上下文的有效时间（支持数字+时间单位s,m,h），最长不超过24h</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">scroll_id</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">是</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">string</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">分页查询id</td></tr></tbody></table>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">返回结果：</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">返回为OpenSearch的原生接口返回内容，为json格式。</p>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">2.2.2.3 Count总数查询接口</h4>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">
<p style="line-height: 160%; box-sizing: content-box; color: #333; margin: 0;">URL：/api/uniquery/v1/dsl/{x_library}/_count</p>
</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">
<p style="line-height: 160%; box-sizing: content-box; color: #333; margin: 0;">请求方式：POST</p>
</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">
<p style="line-height: 160%; box-sizing: content-box; color: #333; margin: 0;">内容格式：JSON</p>
</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">
<p style="line-height: 160%; box-sizing: content-box; color: #333; margin: 0;">URL路径参数：</p>
</li>
</ul>
<table style="margin: 2px 0 14px; color: #333; width: auto; border-collapse: collapse; box-sizing: border-box;"><thead style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">参数</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">是否必填</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">类型</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">说明</th></tr></thead><tbody style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">x_library</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">否</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">string</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">索引库名称，扩展参数，也可放于body中，都为空则默认返回空数据集，若两个都有，则取交集查询</td></tr></tbody></table>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">请求体参数：</li>
</ul>
<table style="margin: 2px 0 14px; color: #333; width: auto; border-collapse: collapse; box-sizing: border-box;"><thead style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">参数</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">是否必填</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">类型</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">说明</th></tr></thead><tbody style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">x_library</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">否</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">array</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">该参数为 dsl 之外的扩展参数，指定查询的索引库名称，和路径中一致。非必须参数。若路径和 body 中均无此参数，则读取 ar_dataview 参数来查询，若此时无 ar_dataview 参数，则默认空数据集返回；若两个都有，则取交集查询；若交集为空，则默认空数据集返回</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">ar_dataview</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">否</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">string</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">该参数为 dsl 之外的扩展参数，指定查询的日志分组 ID，非必须参数，若路径和 body 中均无索引库名称 x_library 参数，则取此参数来查询。只支持指定一个日志分组 ID。</td></tr></tbody></table>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">返回结果：</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">返回为OpenSearch的原生接口返回内容，为json格式。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">windows系统下可打开以下文件查看更多详细示例：</p>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">2.2.3 开发与实践</h3>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">2.2.3.1 调用流程</h4>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">调用过程如下图所示：</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><img src="images/dsl_query_process.png" style="line-height: 160%; margin: 4px 0 10px; box-sizing: border-box; vertical-align: top; max-width: 100%;"></img></p>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">2.2.3.2 请求示例</h4>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">第1步</strong>**   **往opensearch/es写入test类型数据：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">curl -X POST &quot;http://localhost:9200/_bulk?pretty&quot; -H 'Content-Type: application/json' -uadmin:eisoo.com123 -d'
{ &quot;index&quot; : { &quot;_index&quot; : &quot;test-000001&quot;, &quot;_id&quot; : &quot;1&quot; } }
{ &quot;type&quot; :&quot;test&quot;,&quot;@timestamp&quot;:&quot;2021-01-08T15:00:02.059158Z&quot;,&quot;operation&quot;: &quot;create&quot;,&quot;description&quot;: &quot;用户“张三”新建文件“产品资料/产品白皮书1.pdf”。&quot;,&quot;target_object&quot;: {&quot;type&quot;: &quot;file&quot;,&quot;id&quot;: &quot;gns://D42F2729C56E489A948985D4E75C5813/EC3264CCC61D4560BD92C1D1411FD691&quot;,&quot;path&quot;: &quot;产品资料/产品白皮书1.pdf&quot;,&quot;size&quot;: 12815410,&quot;doc_lib&quot;: {&quot;id&quot;: &quot;gns://D42F2729C56E489A948985D4E75C5810&quot;,&quot;type&quot;: &quot;department_doc_lib1&quot;}}}
{ &quot;index&quot; : { &quot;_index&quot; : &quot;test-000001&quot;, &quot;_id&quot; : &quot;2&quot; } }
{&quot;type&quot;:&quot;test&quot;,&quot;@timestamp&quot;:&quot;2021-08-18T15:00:02.059158Z&quot;,&quot;operation&quot;: &quot;delete&quot;,&quot;description&quot;: &quot;用户“张三”新建文件“产品资料/产品白皮书2.pdf”。&quot;,&quot;target_object&quot;: {&quot;type&quot;: &quot;file&quot;,&quot;id&quot;: &quot;gns://D42F2729C56E489A948985D4E75C5813/EC3264CCC61D4560BD92C1D1411FD692&quot;,&quot;path&quot;: &quot;产品资料/产品白皮书2.pdf&quot;,&quot;size&quot;: 12815408,&quot;doc_lib&quot;: {&quot;id&quot;: &quot;gns://D42F2729C56E489A948985D4E75C5811&quot;,&quot;type&quot;: &quot;department_doc_lib2&quot;}}}
{ &quot;index&quot; : { &quot;_index&quot; : &quot;test-000001&quot;, &quot;_id&quot; : &quot;3&quot; } }
{&quot;type&quot;:&quot;test&quot;,&quot;@timestamp&quot;:&quot;2021-04-08T15:10:02.059158Z&quot;,&quot;operation&quot;: &quot;rename&quot;,&quot;description&quot;: &quot;用户“张三”新建文件“产品资料/产品白皮书3.pdf”。&quot;,&quot;target_object&quot;: {&quot;type&quot;: &quot;file&quot;,&quot;id&quot;: &quot;gns://D42F2729C56E489A948985D4E75C5813/EC3264CCC61D4560BD92C1D1411FD693&quot;,&quot;path&quot;: &quot;产品资料/产品白皮书3.pdf&quot;,&quot;size&quot;: 12815318,&quot;doc_lib&quot;: {&quot;id&quot;: &quot;gns://D42F2729C56E489A948985D4E75C5812&quot;,&quot;type&quot;: &quot;department_doc_lib3&quot;}}}
{ &quot;index&quot; : { &quot;_index&quot; : &quot;test-000001&quot;, &quot;_id&quot; : &quot;4&quot; } }
{&quot;type&quot;:&quot;test&quot;,&quot;@timestamp&quot;:&quot;2021-04-08T15:20:02.059158Z&quot;,&quot;operation&quot;: &quot;rename&quot;,&quot;description&quot;: &quot;用户“张三”新建文件“产品资料/产品白皮书1.pdf”。&quot;,&quot;target_object&quot;: {&quot;type&quot;: &quot;file&quot;,&quot;id&quot;: &quot;gns://D42F2729C56E489A948985D4E75C5813/EC3264CCC61D4560BD92C1D1411FD691&quot;,&quot;path&quot;: &quot;产品资料/产品白皮书1.pdf&quot;,&quot;size&quot;: 12815318,&quot;doc_lib&quot;: {&quot;id&quot;: &quot;gns://D42F2729C56E489A948985D4E75C5810&quot;,&quot;type&quot;: &quot;department_doc_lib1&quot;}}}
{ &quot;index&quot; : { &quot;_index&quot; : &quot;test-000001&quot;, &quot;_id&quot; : &quot;5&quot; } }
{&quot;type&quot;:&quot;test&quot;,&quot;@timestamp&quot;:&quot;2021-04-08T15:00:02.059158Z&quot;,&quot;operation&quot;: &quot;create&quot;,&quot;description&quot;: &quot;用户“张三”新建文件“产品资料/产品白皮书4.pdf”。&quot;,&quot;target_object&quot;: {&quot;type&quot;: &quot;file&quot;,&quot;id&quot;: &quot;gns://D42F2729C56E489A948985D4E75C5813/EC3264CCC61D4560BD92C1D1411FD694&quot;,&quot;path&quot;: &quot;产品资料/产品白皮书4.pdf&quot;,&quot;size&quot;: 12815318,&quot;doc_lib&quot;: {&quot;id&quot;: &quot;gns://D42F2729C56E489A948985D4E75C5813&quot;,&quot;type&quot;: &quot;department_doc_lib4&quot;}}}
{ &quot;index&quot; : { &quot;_index&quot; : &quot;test-000001&quot;, &quot;_id&quot; : &quot;6&quot; } }
{&quot;type&quot;:&quot;test&quot;,&quot;@timestamp&quot;:&quot;2021-04-08T16:00:02.059158Z&quot;,&quot;operation&quot;: &quot;rename&quot;,&quot;description&quot;: &quot;用户“张三”新建文件“产品资料/产品白皮书4.pdf”。&quot;,&quot;target_object&quot;: {&quot;type&quot;: &quot;file&quot;,&quot;id&quot;: &quot;gns://D42F2729C56E489A948985D4E75C5813/EC3264CCC61D4560BD92C1D1411FD694&quot;,&quot;path&quot;: &quot;产品资料/产品白皮书4.pdf&quot;,&quot;size&quot;: 12815318,&quot;doc_lib&quot;: {&quot;id&quot;: &quot;gns://D42F2729C56E489A948985D4E75C5813&quot;,&quot;type&quot;: &quot;department_doc_lib4&quot;}}}
'
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">第2步</strong>**   **返回结果如图为200，则写入成功。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><img src="images/result_of_bulk.png" style="line-height: 160%; margin: 4px 0 10px; box-sizing: border-box; vertical-align: top; max-width: 100%;"></img></p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">由数据结构设计可知，该数据类型为test，则索引库名称为test。</p>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">Search查询</h5>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">url</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">ip:port：为能够通信UniQuery服务的地址和端口号</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">http://ip:port/api/uniquery/v1/dsl/test/_search
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">Body</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">查询场景如下：每月为间隔时间，统计每个文档库类型下用户执行的操作，并且对操作进行统计计数。</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{
  <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;size&quot;</span>:<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
  <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;aggs&quot;</span>: {
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;1&quot;</span>: {
      <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;date_histogram&quot;</span>: {
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;field&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;@timestamp&quot;</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;calendar_interval&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;1M&quot;</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;min_doc_count&quot;</span>:<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;time_zone&quot;</span>:<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;Asia/Shanghai&quot;</span>
      },
      <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;aggs&quot;</span>:{
          <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;2&quot;</span>:{
              <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;terms&quot;</span>:{
                  <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;field&quot;</span>:<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;target_object.doc_lib.type.keyword&quot;</span>
              },
              <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;aggs&quot;</span>:{
                  <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;3&quot;</span>:{
                      <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;terms&quot;</span>:{
                          <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;field&quot;</span>:<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;operation.keyword&quot;</span>
                      }
                  }
              }
          }
      }
    }
  }
}
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">结果如下：</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;took&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">4</span>,
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;timed_out&quot;</span>: <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">false</span>,
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;_shards&quot;</span>: {
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;total&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;successful&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;skipped&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;failed&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>
    },
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;hits&quot;</span>: {
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;total&quot;</span>: {
            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;value&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">6</span>,
            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;relation&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;eq&quot;</span>
        },
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;max_score&quot;</span>: <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">null</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;hits&quot;</span>: []
    },
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;aggregations&quot;</span>: {
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;1&quot;</span>: {
            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;buckets&quot;</span>: [
                {
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key_as_string&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;2021-01-01T00:00:00.000+08:00&quot;</span>,
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1609430400000</span>,
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;2&quot;</span>: {
                        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count_error_upper_bound&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
                        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;sum_other_doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
                        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;buckets&quot;</span>: [
                            {
                                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;department_doc_lib1&quot;</span>,
                                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,
                                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;3&quot;</span>: {
                                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count_error_upper_bound&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
                                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;sum_other_doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
                                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;buckets&quot;</span>: [
                                        {
                                            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;create&quot;</span>,
                                            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                },
                {
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key_as_string&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;2021-04-01T00:00:00.000+08:00&quot;</span>,
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1617206400000</span>,
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">4</span>,
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;2&quot;</span>: {
                        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count_error_upper_bound&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
                        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;sum_other_doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
                        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;buckets&quot;</span>: [
                            {
                                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;department_doc_lib4&quot;</span>,
                                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">2</span>,
                                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;3&quot;</span>: {
                                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count_error_upper_bound&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
                                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;sum_other_doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
                                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;buckets&quot;</span>: [
                                        {
                                            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;create&quot;</span>,
                                            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>
                                        },
                                        {
                                            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;rename&quot;</span>,
                                            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>
                                        }
                                    ]
                                }
                            },
                            {
                                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;department_doc_lib1&quot;</span>,
                                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,
                                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;3&quot;</span>: {
                                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count_error_upper_bound&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
                                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;sum_other_doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
                                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;buckets&quot;</span>: [
                                        {
                                            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;rename&quot;</span>,
                                            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>
                                        }
                                    ]
                                }
                            },
                            {
                                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;department_doc_lib3&quot;</span>,
                                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,
                                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;3&quot;</span>: {
                                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count_error_upper_bound&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
                                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;sum_other_doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
                                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;buckets&quot;</span>: [
                                        {
                                            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;rename&quot;</span>,
                                            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                },
                {
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key_as_string&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;2021-08-01T00:00:00.000+08:00&quot;</span>,
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1627747200000</span>,
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;2&quot;</span>: {
                        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count_error_upper_bound&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
                        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;sum_other_doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
                        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;buckets&quot;</span>: [
                            {
                                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;department_doc_lib2&quot;</span>,
                                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,
                                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;3&quot;</span>: {
                                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count_error_upper_bound&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
                                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;sum_other_doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
                                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;buckets&quot;</span>: [
                                        {
                                            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;delete&quot;</span>,
                                            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                }
            ]
        }
    }
}
</code></pre>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">Search 查询使用日志分组请求示例</h5>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">第1步</strong>**   **给索引库创建日志分组：</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">创建日志分组可通过 AnyRobot 管理页面创建，也可以通过调用 API 创建。具体方式如下：</p>
<ol style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">方式一：登录 AnyRobot 页面创建日志分组：</li>
</ol>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">登录 AnyRobot，新建日志分组：</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">通过 &quot;数据管理-日志分组-新建日志分组&quot;<br/>
<img src="images/create_log_group1.png" style="line-height: 160%; margin: 4px 0 10px; box-sizing: border-box; vertical-align: top; max-width: 100%;"></img><br/>
<img src="images/create_log_group2.png" style="line-height: 160%; margin: 4px 0 10px; box-sizing: border-box; vertical-align: top; max-width: 100%;"></img></p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">获取日志分组id：</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">新建之后点击保存，在日志分组详情页可以查看到该分组的id：<br/>
<img src="images/loggroup_id.png" style="line-height: 160%; margin: 4px 0 10px; box-sizing: border-box; vertical-align: top; max-width: 100%;"></img></p>
<ol start="2" style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">方式二：调用 API 创建日志分组：</li>
</ol>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">先获取日志库id：</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">curl http://10.4.14.35/api/v1/dataManager/logWareHouse?dataType=test |jq .data[0].id
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">返回结果如下图：<br/>
<img src="images/get_logwarehouse_id.png" style="line-height: 160%; margin: 4px 0 10px; box-sizing: border-box; vertical-align: top; max-width: 100%;"></img></p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">创建日志分组：</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">把上面获取到的日志库 id 放入请求 body 的 logWareHouse 中，然后调用接口创建日志分组。</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">curl -X POST 'http://10.4.14.35/manager/loggroup?operate=create' -H 'user: f5a08cb056c539d76f373bbc94458e39' -H 'Content-Type: application/json' -d'
{
	&quot;description&quot;: &quot;&quot;,
	&quot;filters&quot;: {
		&quot;advance&quot;: &quot;&quot;,
		&quot;host&quot;: [
			&quot;*&quot;
		],
		&quot;logWareHouse&quot;: [
			&quot;098f6bcd4621d373cade4e832627b4f6&quot;
		],
		&quot;tags&quot;: [
			&quot;*&quot;
		],
		&quot;type&quot;: [
			{
				&quot;negative&quot;: 0,
				&quot;type&quot;: 0,
				&quot;value&quot;: &quot;test&quot;
			}
		]
	},
	&quot;groupName&quot;: &quot;test_loggroup&quot;,
	&quot;parentGroupId&quot;: &quot;&quot;
}
'
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">返回结果即为日志分组id，如下如所示：<br/>
<img src="images/loggroup_id_of_test.png" style="line-height: 160%; margin: 4px 0 10px; box-sizing: border-box; vertical-align: top; max-width: 100%;"></img></p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">第2步</strong>**   **发送dsl请求：</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">url</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">ip:port：为能够通信UniQuery服务的地址和端口号</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">http://ip:port/api/uniquery/v1/dsl/_search
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">Body</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">查询场景如下：每月为间隔时间，统计每个文档库类型下用户执行的操作，并且对操作进行统计计数。</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{
  <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;size&quot;</span>:<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
  <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;aggs&quot;</span>: {
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;1&quot;</span>: {
      <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;date_histogram&quot;</span>: {
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;field&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;@timestamp&quot;</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;calendar_interval&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;1M&quot;</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;min_doc_count&quot;</span>:<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;time_zone&quot;</span>:<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;Asia/Shanghai&quot;</span>
      },
      <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;aggs&quot;</span>:{
          <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;2&quot;</span>:{
              <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;terms&quot;</span>:{
                  <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;field&quot;</span>:<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;target_object.doc_lib.type.keyword&quot;</span>
              },
              <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;aggs&quot;</span>:{
                  <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;3&quot;</span>:{
                      <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;terms&quot;</span>:{
                          <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;field&quot;</span>:<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;operation.keyword&quot;</span>
                      }
                  }
              }
          }
      }
    }
  },
  <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;ar_dataview&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;12e67ca4-59c5-11ed-a2c9-426e99007676&quot;</span>
}
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">结果如下：</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;took&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">4</span>,
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;timed_out&quot;</span>: <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">false</span>,
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;_shards&quot;</span>: {
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;total&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;successful&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;skipped&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;failed&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>
    },
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;hits&quot;</span>: {
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;total&quot;</span>: {
            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;value&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">6</span>,
            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;relation&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;eq&quot;</span>
        },
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;max_score&quot;</span>: <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">null</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;hits&quot;</span>: []
    },
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;aggregations&quot;</span>: {
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;1&quot;</span>: {
            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;buckets&quot;</span>: [
                {
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key_as_string&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;2021-01-01T00:00:00.000+08:00&quot;</span>,
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1609430400000</span>,
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;2&quot;</span>: {
                        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count_error_upper_bound&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
                        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;sum_other_doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
                        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;buckets&quot;</span>: [
                            {
                                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;department_doc_lib1&quot;</span>,
                                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,
                                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;3&quot;</span>: {
                                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count_error_upper_bound&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
                                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;sum_other_doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
                                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;buckets&quot;</span>: [
                                        {
                                            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;create&quot;</span>,
                                            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                },
                {
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key_as_string&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;2021-04-01T00:00:00.000+08:00&quot;</span>,
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1617206400000</span>,
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">4</span>,
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;2&quot;</span>: {
                        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count_error_upper_bound&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
                        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;sum_other_doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
                        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;buckets&quot;</span>: [
                            {
                                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;department_doc_lib4&quot;</span>,
                                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">2</span>,
                                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;3&quot;</span>: {
                                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count_error_upper_bound&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
                                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;sum_other_doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
                                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;buckets&quot;</span>: [
                                        {
                                            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;create&quot;</span>,
                                            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>
                                        },
                                        {
                                            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;rename&quot;</span>,
                                            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>
                                        }
                                    ]
                                }
                            },
                            {
                                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;department_doc_lib1&quot;</span>,
                                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,
                                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;3&quot;</span>: {
                                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count_error_upper_bound&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
                                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;sum_other_doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
                                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;buckets&quot;</span>: [
                                        {
                                            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;rename&quot;</span>,
                                            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>
                                        }
                                    ]
                                }
                            },
                            {
                                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;department_doc_lib3&quot;</span>,
                                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,
                                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;3&quot;</span>: {
                                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count_error_upper_bound&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
                                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;sum_other_doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
                                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;buckets&quot;</span>: [
                                        {
                                            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;rename&quot;</span>,
                                            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                },
                {
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key_as_string&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;2021-08-01T00:00:00.000+08:00&quot;</span>,
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1627747200000</span>,
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;2&quot;</span>: {
                        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count_error_upper_bound&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
                        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;sum_other_doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
                        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;buckets&quot;</span>: [
                            {
                                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;department_doc_lib2&quot;</span>,
                                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,
                                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;3&quot;</span>: {
                                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count_error_upper_bound&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
                                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;sum_other_doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
                                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;buckets&quot;</span>: [
                                        {
                                            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;key&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;delete&quot;</span>,
                                            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                }
            ]
        }
    }
}
</code></pre>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">Scroll查询请求示例</h5>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">第1步</strong>**   **发送dsl请求；</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">url</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">ip:port：为能够通信UniQuery服务的地址和端口号</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">http://ip:port/api/uniquery/v1/dsl/test /_search?scroll=1m
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">Body</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">查询场景如下：获取test库下创建操作的事件</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{
  <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;query&quot;</span>:{
      <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;bool&quot;</span>:{
          <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;filter&quot;</span>:{
              <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;term&quot;</span>:{
                  <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;operation&quot;</span>:<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;create&quot;</span>
              }
          }
      }
  }
}
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">结果如下：</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;_scroll_id&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;FGluY2x1ZGVfY29udGV4dF91dWlkDXF1ZXJ5QW5kRmV0Y2gBFnVTazZRNzMzU3RXcGNFY2lkU0pmX0EAAAAAAD1J2hY3VC1YSnF6VlJOT084cVZiY1pCdG1B&quot;</span>,
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;took&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;timed_out&quot;</span>: <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">false</span>,
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;_shards&quot;</span>: {
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;total&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;successful&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;skipped&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;failed&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>
    },
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;hits&quot;</span>: {
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;total&quot;</span>: {
            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;value&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">2</span>,
            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;relation&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;eq&quot;</span>
        },
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;max_score&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0.0</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;hits&quot;</span>: [
            {
                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;_index&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;test-0&quot;</span>,
                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;_type&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;_doc&quot;</span>,
                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;_id&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;1&quot;</span>,
                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;_score&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0.0</span>,
                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;_source&quot;</span>: {
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;type&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;test&quot;</span>,
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;@timestamp&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;2021-01-08T15:00:02.059158Z&quot;</span>,
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;operation&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;create&quot;</span>,
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;description&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;用户“张三”新建文件“产品资料/产品白皮书1.pdf”。&quot;</span>,
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;target_object&quot;</span>: {
                        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;type&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;file&quot;</span>,
                        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;id&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;gns://D42F2729C56E489A948985D4E75C5813/EC3264CCC61D4560BD92C1D1411FD691&quot;</span>,
                        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;path&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;产品资料/产品白皮书1.pdf&quot;</span>,
                        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;size&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">12815410</span>,
                        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_lib&quot;</span>: {
                            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;id&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;gns://D42F2729C56E489A948985D4E75C5810&quot;</span>,
                            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;type&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;department_doc_lib1&quot;</span>
                        }
                    }
                }
            },
            {
                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;_index&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;test-0&quot;</span>,
                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;_type&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;_doc&quot;</span>,
                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;_id&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;5&quot;</span>,
                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;_score&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0.0</span>,
                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;_source&quot;</span>: {
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;type&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;test&quot;</span>,
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;@timestamp&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;2021-04-08T15:00:02.059158Z&quot;</span>,
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;operation&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;create&quot;</span>,
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;description&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;用户“张三”新建文件“产品资料/产品白皮书4.pdf”。&quot;</span>,
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;target_object&quot;</span>: {
                        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;type&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;file&quot;</span>,
                        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;id&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;gns://D42F2729C56E489A948985D4E75C5813/EC3264CCC61D4560BD92C1D1411FD694&quot;</span>,
                        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;path&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;产品资料/产品白皮书4.pdf&quot;</span>,
                        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;size&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">12815318</span>,
                        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;doc_lib&quot;</span>: {
                            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;id&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;gns://D42F2729C56E489A948985D4E75C5813&quot;</span>,
                            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;type&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;department_doc_lib4&quot;</span>
                        }
                    }
                }
            }
        ]
    }
}
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">第2步</strong>**   **发送scroll请求</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">url：</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">http://ip:port /api/search/v1/dsl/test/_search?scroll=1m
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">Body：</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{
  <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;scroll_id&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;FGluY2x1ZGVfY29udGV4dF91dWlkDXF1ZXJ5QW5kRmV0Y2gBFnVTazZRNzMzU3RXcGNFY2lkU0pmX0EAAAAAAD1J2xY3VC1YSnF6VlJOT084cVZiY1pCdG1B&quot;</span>
}
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">结果如下：</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">由于只有两条数据，所以第二次获取为空数据集</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;took&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">55</span>,
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;timed_out&quot;</span>: <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">false</span>,
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;_shards&quot;</span>: {
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;total&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;successful&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;skipped&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;failed&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>
    },
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;hits&quot;</span>: {
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;total&quot;</span>: {
            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;value&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">2</span>,
            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;relation&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;eq&quot;</span>
        },
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;max_score&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0.0</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;hits&quot;</span>: []
    }
}
</code></pre>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">Count查询</h5>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">url</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">ip:port：为能够通信UniQuery服务的地址和端口号</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">http://ip:port/api/uniquery/v1/dsl/test /_count
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">Body</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">查询场景如下：统计文档总数</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{
  <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;query&quot;</span>:{
       <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;match_all&quot;</span>: {}
  }
}
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">结果如下：</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">6</span>,
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;_shards&quot;</span>: {
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;total&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;successful&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;skipped&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;failed&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>
    }
}
</code></pre>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">Count 查询使用日志分组请求示例</h5>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">url</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">ip:port：为能够通信UniQuery服务的地址和端口号</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">http://ip:port/api/uniquery/v1/dsl/_count
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">Body</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">查询场景如下：统计文档总数</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{
  <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;query&quot;</span>:{
       <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;match_all&quot;</span>: {}
  },
  <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;ar_dataview&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;12e67ca4-59c5-11ed-a2c9-426e99007676&quot;</span>
}
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">结果如下：</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;count&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">6</span>,
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;_shards&quot;</span>: {
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;total&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;successful&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;skipped&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;failed&quot;</span>: <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>
    }
}
</code></pre>
<h2 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 34px; border-bottom: 1px solid #dbdbdb; color: #333;">2.3 PromQL查询语言</h2>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">2.3.1 定义</h3>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">PromQL（Prometheus Query Language）是Prometheus内置的数据查询语言，它能实现对事件序列数据的查询、聚合、逻辑运算等。它并且被广泛应用在Prometheus的日常应用当中，包括对数据查询、可视化、告警处理当中。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">通过 PromQL 的搜索引擎可支持对时序数据、日志数据做聚合查询。并在兼容 Prometheus 的 PromQL 的基础上扩展新的功能以支持特定场景的统计查询。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">UniQuery 将输入的 PromQL 解析成 AST，叶子节点把查询请求的过滤条件和聚合逻辑转换为DSL，根据索引选择和访问控制优化的结果，再结合索引和索引的分片数，并发从 Opensearch 中获取结果。之后对各个索引各个分片返回的数据做合并处理，再把数据逐层流转到上层节点执行，直到顶层节点执行完毕。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">在 PromQL 的表达式语言中，表达式或子表达式可以计算为以下三种类型之一：</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">瞬时向量 - 一组时间序列，每个时间序列包含一个样本，都共享相同的时间戳。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">范围向量 - 一组时间序列，其中包含每个时间序列在时间范围内随时间变化的数据点。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">标量 - 一个简单的数字浮点值。</li>
</ul>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">2.3.2 基本查询</h3>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">2.3.2.1 时间序列选择器</h4>
<ol style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">语义</li>
</ol>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">时间序列选择器也叫瞬时向量选择器。指按步长返回时间范围内具有此指标名称的所有时间序列。</p>
<ol start="2" style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">语法结构</li>
</ol>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="line-height: 160%; box-sizing: content-box;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">metric_name</span>&gt;</span></span>{<span style="line-height: 160%; box-sizing: content-box;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">label_matcher_list</span>&gt;</span></span>}
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">
<p style="line-height: 160%; box-sizing: content-box; color: #333; margin: 0;">必要参数:</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333; margin-top: 0; margin-bottom: 0;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">&lt;metric_name&gt;</code>: 需要查询的指标名，指标名称是存储在索引库中的一个字段，根据日志结构定义。</li>
</ul>
</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">
<p style="line-height: 160%; box-sizing: content-box; color: #333; margin: 0;">非必要参数:</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333; margin-top: 0; margin-bottom: 0;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">&lt;label_matcher_list&gt;</code>: 标签过滤条件列表，多个条件之间用逗号分隔。
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333; margin-top: 0; margin-bottom: 0;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">语法： <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">&lt;label_name&gt; &lt;标签匹配运算符&gt; &lt;label_value&gt;</code>。多个过滤条件用英文逗号分隔。
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333; margin-top: 0; margin-bottom: 0;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">&lt;label_name&gt;</code>: 需过滤的标签名，标签名称是存储在索引库中的一个字段，根据日志结构定义。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">&lt;label_value&gt;</code>: 标签过滤值，是个字符串。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">&lt;标签匹配运算符&gt;</code>：
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333; margin-top: 0; margin-bottom: 0;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">=</code>：选择与提供的字符串完全相等的标签。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">!=</code>：选择不等于提供的字符串的标签。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">=~</code>：选择与提供的字符串进行正则表达式匹配的标签。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">!~</code>：选择与提供的字符串进行正则表达式不匹配的标签。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ol start="3" style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">示例</li>
</ol>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">以下示例查询的是仅选择具有 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">system_metric_memory_total_bytes</code> 指标名称且 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">instance</code> 标签设置为 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">0.0.0.0</code> 的时间序列。</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">system<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_metric_</span>memory<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_total_</span>bytes{instance=&quot;0.0.0.0&quot;}
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">标签匹配也可以通过与内部标签匹配来应用于指标名称 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">__name__</code>。例如，表达式<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">system_metric_memory_total_bytes</code> 等价于 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">{__name__=&quot;system_metric_memory_total_bytes&quot;}</code>。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">指标名不能是关键字 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">bool</code>, <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">on</code>, <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">ignoring</code>, <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">group_left</code> 和 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">group_right</code>。</p>
<blockquote style="line-height: 160%; box-sizing: content-box; margin: 15px 0; border-left: 4px solid #ddd; padding: 0 15px; color: #777;">
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333; margin-top: 0; margin-bottom: 0;">on{} # Bad!</p>
</blockquote>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">此限制的解决方法是使用 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">__name__</code> 标签：</p>
<blockquote style="line-height: 160%; box-sizing: content-box; margin: 15px 0; border-left: 4px solid #ddd; padding: 0 15px; color: #777;">
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333; margin-top: 0; margin-bottom: 0;">{__name__=&quot;on&quot;} # Good!</p>
</blockquote>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">2.3.2.2 范围向量选择器</h4>
<ol style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">语义</li>
</ol>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">范围向量选择器选择的是当前时间回溯一段时间内的所有样本点。我们当前的 PromQL 尚未支持范围向量选择器的单独使用，应结合 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">irate</code>、<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">rate</code> 或者 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">increase</code> 函数使用。</p>
<ol start="2" style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">语法结构</li>
</ol>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="line-height: 160%; box-sizing: content-box;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">metric_name</span>&gt;</span></span>{<span style="line-height: 160%; box-sizing: content-box;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">label_matcher_list</span>&gt;</span></span>}[time_durations]
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">范围向量选择器的语法结构与时间序列选择器的语法结构类似，范围向量选择器多了一个用于定义时间区间的时间范围选择器 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">[]</code>。</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">time_durations</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">时间区间用一个数字，后面跟时间单位来定义。时间单位可以是如下之一：</p>
<blockquote style="line-height: 160%; box-sizing: content-box; margin: 15px 0; border-left: 4px solid #ddd; padding: 0 15px; color: #777;">
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333; margin-top: 0; margin-bottom: 0;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">ms - 毫秒</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">s - 秒</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">m - 分钟</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">h - 小时</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">d - 天 - 一天 24 小时</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">w - 周 - 一周 7 天</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">y - 年 - 一年 365 天</li>
</ul>
</blockquote>
<ol style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">示例</li>
</ol>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">与 irate 结合使用</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">以下示例表达式返回针对范围向量中每个时间序列的两个最近数据点的 HTTP 请求的每秒增长速率，最多可追溯 5 分钟：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">irate(http<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_requests_</span>total{job=&quot;api-server&quot;}[5m])
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">与 rate 结合使用</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">以下示例表达式返回针对范围向量中过去 5 分钟内的所有数据点的 HTTP 请求的每秒平均增长速率：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">rate(http<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_requests_</span>total{job=&quot;api-server&quot;}[5m])
</code></pre>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">2.3.3 操作符</h3>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">PromQL 的操作符包含算术二元运算符、一对一匹配的向量匹配、比较二元运算符、逻辑/集合二元运算符、聚合算子。</p>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">2.3.3.1 算术二元运算符</h4>
<ol style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">语义</li>
</ol>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">PromQL 中存在以下二元算术运算符：</p>
<blockquote style="line-height: 160%; box-sizing: content-box; margin: 15px 0; border-left: 4px solid #ddd; padding: 0 15px; color: #777;">
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333; margin-top: 0; margin-bottom: 0;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">+（添加）</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">-（减法）</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">*（乘法）</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">/（除法）</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">%（模数）</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">^（幂）</li>
</ul>
</blockquote>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">下面的列表显示了 PromQL 中算术二元运算符的优先级，从高到低。</p>
<blockquote style="line-height: 160%; box-sizing: content-box; margin: 15px 0; border-left: 4px solid #ddd; padding: 0 15px; color: #777;">
<ol style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal; margin-top: 0; margin-bottom: 0;">
<li style="line-height: 160%; box-sizing: content-box;">^</li>
<li style="line-height: 160%; box-sizing: content-box;">*, /, %</li>
<li style="line-height: 160%; box-sizing: content-box;">+,-</li>
</ol>
</blockquote>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">相同优先级的运算符是左结合的。例如， 2 * 3 % 2等价于(2 * 3) % 2。然而^是右结合的，所以2 ^ 3 ^ 2等价于2 ^ (3 ^ 2)。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">二元算术运算符在标量/标量、向量/标量和向量/向量值对之间定义:</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">在两个标量之间</strong>，它们评估为另一个标量，该标量是应用于两个标量操作数的运算符的结果。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">在瞬时向量和标量之间</strong>，运算符应用于向量中每个数据样本的值。例如，如果将时间序列瞬时向量乘以 2，则结果是另一个向量，其中原始向量的每个样本值都乘以 2。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">在两个瞬时向量之间</strong>，对左侧向量中的每个条目及其右侧向量中的匹配元素应用二元算术运算符 。结果传播到结果向量中，分组标签成为输出标签集。在右侧向量中找不到匹配条目的条目不属于结果。</p>
<ol start="2" style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">语法结构</li>
</ol>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">[<span style="line-height: 160%; box-sizing: content-box;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">vector</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">expr</span>&gt;</span></span> | <span style="line-height: 160%; box-sizing: content-box;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">scalar</span>&gt;</span></span>] <span style="line-height: 160%; box-sizing: content-box;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">bin-op</span>&gt;</span></span> [<span style="line-height: 160%; box-sizing: content-box;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">vector</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">expr</span>&gt;</span></span> | <span style="line-height: 160%; box-sizing: content-box;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">scalar</span>&gt;</span></span>]
</code></pre>
<ol start="3" style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">示例</li>
</ol>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">两个标量之间</li>
</ul>
<blockquote style="line-height: 160%; box-sizing: content-box; margin: 15px 0; border-left: 4px solid #ddd; padding: 0 15px; color: #777;">
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333; margin-top: 0; margin-bottom: 0;">1+2</p>
</blockquote>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">瞬时向量与标量之间</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">以下示例查询的是某个主机的总内存/1024。</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">system<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_metric_</span>memory<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_total_</span>bytes{instance=&quot;0.0.0.0&quot;} / 1024
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">两个瞬时向量之间</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">以下示例查询的是通过把总内存减去可用内存得到已用内存。</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">system<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_metric_</span>memory<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_total_</span>bytese<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_memory_</span>MemTotal<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_bytes{instance=&quot;0.0.0.0&quot;} - system_</span>metric<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_memory_</span>available_bytes{instance=&quot;0.0.0.0&quot;}
</code></pre>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">2.3.3.2 一对一的向量匹配</h4>
<ol style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">语义</li>
</ol>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">从两个向量中找到一对唯一的条目。如果两个向量具有完全相同的一组标签和相应的值，则它们匹配。ignoring 关键字允许在匹配时忽略某些标签，而关键字 on 允许将指定的标签集作为匹配的字段集。</p>
<ol start="2" style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">语法结构</li>
</ol>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="line-height: 160%; box-sizing: content-box;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">vector</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">expr</span>&gt;</span></span> <span style="line-height: 160%; box-sizing: content-box;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">bin-op</span>&gt;</span></span> on(<span style="line-height: 160%; box-sizing: content-box;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">label</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">list</span>&gt;</span></span>) <span style="line-height: 160%; box-sizing: content-box;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">vector</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">expr</span>&gt;</span></span>
<span style="line-height: 160%; box-sizing: content-box;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">vector</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">expr</span>&gt;</span></span> <span style="line-height: 160%; box-sizing: content-box;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">bin-op</span>&gt;</span></span> ignoring(<span style="line-height: 160%; box-sizing: content-box;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">label</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">list</span>&gt;</span></span>) <span style="line-height: 160%; box-sizing: content-box;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">vector</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">expr</span>&gt;</span></span>
</code></pre>
<ol start="3" style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">示例</li>
</ol>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">示例输入：</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">http_errors{method=&quot;get&quot;, code=&quot;500&quot;}  24
http_errors{method=&quot;get&quot;, code=&quot;404&quot;}  30
http_errors{method=&quot;put&quot;, code=&quot;501&quot;}  3
http_errors{method=&quot;post&quot;, code=&quot;500&quot;} 6
http_errors{method=&quot;post&quot;, code=&quot;404&quot;} 21

http_requests{method=&quot;get&quot;}  600
http_requests{method=&quot;del&quot;}  34
http_requests{method=&quot;post&quot;} 120
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">on 示例查询</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"> http<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_errors{code=&quot;500&quot;} / on(method) http_</span>requests
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">on 示例查询结果</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{method=&quot;get&quot;}  0.04            //  24 / 600
{method=&quot;post&quot;} 0.05            //   6 / 120
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">ignoring 示例查询</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"> http<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_errors{name=&quot;500&quot;} / ignoring(code) http_</span>requests
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">ignoring 示例查询结果</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{method=&quot;get&quot;}  0.04            //  24 / 600
{method=&quot;post&quot;} 0.05            //   6 / 120
</code></pre>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">2.3.3.3 比较二元运算符</h4>
<ol style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">语义</li>
</ol>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">PromQL 中存在以下比较二元运算符：</p>
<blockquote style="line-height: 160%; box-sizing: content-box; margin: 15px 0; border-left: 4px solid #ddd; padding: 0 15px; color: #777;">
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333; margin-top: 0; margin-bottom: 0;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">== (相等)</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">!= (不相等)</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">&gt; (大于)</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">&lt; (小于)</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">&gt;= (大于等于)</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">&lt;= (小于等于)</li>
</ul>
</blockquote>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">二元比较运算符在标量/标量、向量/标量和向量/向量值对之间定义，默认情况下，它们会对结果过滤。可以通过 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">bool</code> 修饰符来修改它们的行为，该修饰符将返回 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">0</code> 或 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">1</code> 的值而不是过滤。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">在两个标量之间</strong>，必须提供 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">bool</code> 修饰符，得到的结果是另外一个要么是 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">0</code>(<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">false</code>)，要么是 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">1</code>(<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">true</code>)的标量。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">在瞬时向量和标量之间</strong>，运算符应用于向量中每个数据样本的值。如果样本值与标量的比较结果为 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">false</code>，则该样本数据将会从结果向量中删除。若提供了 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">bool</code> 修饰符，则不会过滤掉比较结果为 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">false</code> 的数据，而是比较结果为 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">false</code> 的向量元素的值为 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">0</code>，比较结果为 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">true</code> 的向量元素的值为 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">1</code>。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">在两个瞬时向量之间</strong>，比较运算符默认是作为一个过滤器，应用与匹配条目。表达式结果不是 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">true</code> 或者在表达式的另一侧找不到匹配项的向量元素将从结果中删除；如果匹配上了，则返回结果为左侧向量的标签集和值。如果提供了 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">bool</code> 修饰符，则比较结果为 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">false</code> 的向量元素的值为 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">0</code>，而比较结果为 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">true</code> 的向量元素的值为 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">1</code>。</p>
<ol start="2" style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">语法结构</li>
</ol>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">[<span style="line-height: 160%; box-sizing: content-box;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">vector</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">expr</span>&gt;</span></span> | <span style="line-height: 160%; box-sizing: content-box;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">scalar</span>&gt;</span></span>] <span style="line-height: 160%; box-sizing: content-box;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">bin-op</span>&gt;</span></span> [bool] [<span style="line-height: 160%; box-sizing: content-box;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">vector</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">expr</span>&gt;</span></span> | <span style="line-height: 160%; box-sizing: content-box;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">scalar</span>&gt;</span></span>]
</code></pre>
<ol start="3" style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">示例</li>
</ol>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">两个标量之间</li>
</ul>
<blockquote style="line-height: 160%; box-sizing: content-box; margin: 15px 0; border-left: 4px solid #ddd; padding: 0 15px; color: #777;">
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333; margin-top: 0; margin-bottom: 0;">5 &gt; bool 3</p>
</blockquote>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">瞬时向量与标量之间</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">以下示例查询的是所有主机内存使用率大于指定阈值的节点数量。</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">count ((1 - (node<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_memory_</span>MemAvailable<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_bytes / node_</span>memory<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_MemTotal_</span>bytes))* 100 &gt;= 85)
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">两个瞬时向量之间</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">以下示例查询的是所有主机已用内存大于可用内存的节点数量。</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">count(node<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_memory_</span>MemUsed<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_bytes &gt; node_</span>memory<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_MemAvailable_</span>bytes)
</code></pre>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">2.3.3.4 逻辑/集合二元运算符</h4>
<ol style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">语义</li>
</ol>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">PromQL 中的逻辑/集合二元运算符只能定义在两个向量之间，逻辑/集合二元运算符有：</p>
<blockquote style="line-height: 160%; box-sizing: content-box; margin: 15px 0; border-left: 4px solid #ddd; padding: 0 15px; color: #777;">
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333; margin-top: 0; margin-bottom: 0;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">and (交集)</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">or (并集)</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">unless (排除)</li>
</ul>
</blockquote>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">vector1 and vector2</strong>，会生成一个向量，该向量由 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">vector1</code> 中与 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">vector2</code> 的标签集完全匹配的元素组成，指标名和指标值从左侧向量中继承。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">vector1 or vector2</strong>，会生成一个向量，该向量包含 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">vector1</code> 中所有的元素，以及 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">vector2</code> 中没有与 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">vector1</code> 匹配到的所有元素。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">vector1 unless vector2</strong>，会生成一个向量，该向量中的元素由 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">vector1</code> 中没有与 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">vector2</code> 匹配的元素组成。</p>
<ol start="2" style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">语法结构</li>
</ol>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">[<span style="line-height: 160%; box-sizing: content-box;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">vector</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">expr</span>&gt;</span></span>] <span style="line-height: 160%; box-sizing: content-box;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">bin-op</span>&gt;</span></span> [<span style="line-height: 160%; box-sizing: content-box;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">vector</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">expr</span>&gt;</span></span>]
</code></pre>
<ol start="3" style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">示例</li>
</ol>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">vector1 and vector2</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">以下示例查询的是 k8s 的有状态应用的不可用数。</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">count((kube<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_statefulset_</span>status<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_replicas_</span>ready{namespace=~&quot;namespace&quot;} == 0) and (kube<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_statefulset_</span>status_replicas{namespace=~&quot;namespace&quot;} &gt; 0))
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">vector1 or vector2</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">以下示例查询的是各节点的磁盘容量。</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">sum(node<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_filesystem_</span>size<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_bytes{fstype=&quot;xfs&quot;,mountpoint=&quot;/&quot;} or node_</span>filesystem<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_size_</span>bytes{fstype=~&quot;ext.*&quot;})by(kubernetes<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_node_</span>name)
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">vector1 and vector2</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">以下示例查询的是各节点中指定挂载路径下除去 ext 的磁盘容量。</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">sum(node<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_filesystem_</span>size<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_bytes{mountpoint=&quot;/&quot;} unless node_</span>filesystem<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_size_</span>bytes{fstype=~&quot;ext.*&quot;})by(kubernetes<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_node_</span>name)
</code></pre>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">2.3.3.5 聚合算子</h4>
<ol style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">语义</li>
</ol>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">支持以下内置聚合运算符，可用于聚合指标下的时间序列，从而生成具有聚合值的标签更少的时间序列：</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">用于聚合单个即时向量的元素，从而生成具有聚合值的元素更少的新向量</p>
<blockquote style="line-height: 160%; box-sizing: content-box; margin: 15px 0; border-left: 4px solid #ddd; padding: 0 15px; color: #777;">
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333; margin-top: 0; margin-bottom: 0;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">count （基于标签对一组时间序列分组计数）</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">sum （基于标签对一组时间序列分组后对指标值求和）</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">avg （基于标签对一组时间序列分组后对指标值求平均值）</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">max （基于标签对一组时间序列分组后对指标值求最大值）</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">min （基于标签对一组时间序列分组后对指标值求最小值）</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">topk （基于标签对一组时间序列分组后对指标值降序取前k）</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">bottomk （基于标签对一组时间序列分组后对指标值升序取前k</li>
</ul>
</blockquote>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">这些运算符既可以用于聚合所有的标签，也可以通过包含 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">by</code> 或者 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">without</code> 子句来保留不同的标签。这些子句可以在表达式之前或者之后使用。</p>
<ol start="2" style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">语法结构</li>
</ol>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="line-height: 160%; box-sizing: content-box;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">aggr-op</span>&gt;</span></span> [without|by (<span style="line-height: 160%; box-sizing: content-box;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">label</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">list</span>&gt;</span></span>)] ([parameter,] <span style="line-height: 160%; box-sizing: content-box;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">vector</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">expression</span>&gt;</span></span>)
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">或者</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="line-height: 160%; box-sizing: content-box;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">aggr-op</span>&gt;</span></span>([parameter,] <span style="line-height: 160%; box-sizing: content-box;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">vector</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">expression</span>&gt;</span></span>) [without|by (<span style="line-height: 160%; box-sizing: content-box;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">label</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">list</span>&gt;</span></span>)]
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">&lt;label list&gt;</code> 是一个未加引号的标签列表，其中可能包含一个尾随逗号，即 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">(label1, label2)</code> 和 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">(label1, label2,)</code> 都是有效的语法。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">without</code> 从结果向量中删除列出的标签，而所有其他标签都保留在输出中。<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">by</code> 从结果向量中删除<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">by</code> 子句中未列出的标签。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">parameter</code> 只适用于 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">topk</code> 和 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">bottomk</code> 中。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">topk</code> 和 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">bottomk</code> 与其他聚合算子的不同之处在于，输入样本的子集（包括原始标签）在结果向量中返回。<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">by</code> 并且 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">without</code> 仅用于对输入向量进行分组。</p>
<ol start="3" style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">示例</li>
</ol>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">示例输入：</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">http_errors{method=&quot;get&quot;, code=&quot;500&quot;}  24
http_errors{method=&quot;get&quot;, code=&quot;404&quot;}  30
http_errors{method=&quot;put&quot;, code=&quot;501&quot;}  3
http_errors{method=&quot;post&quot;, code=&quot;500&quot;} 6
http_errors{method=&quot;post&quot;, code=&quot;404&quot;} 21
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">sum 示例</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">sum(http_errors) without(method)
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">等价于：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">sum(http_errors) by(code)
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">sum 示例查询结果</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{code=&quot;500&quot;}  30            //  24 + 6
{code=&quot;404&quot;}  51            //  30 + 21
{code=&quot;501&quot;}  3             //  3
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">如果仅仅是想查询所有 HTTP 请求发生错误的总数，可以使用表达式：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">sum(http_errors)
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">topk 示例</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">如果想查看所有请求中最大的 3 个 HTTP 错误的请求数，可以使用表达式：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">topk(3, http_errors)
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">topk 示例查询结果</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">http_errors{method=&quot;get&quot;, code=&quot;404&quot;}  30
http_errors{method=&quot;get&quot;, code=&quot;500&quot;}  24
http_errors{method=&quot;post&quot;, code=&quot;404&quot;} 21
</code></pre>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">2.3.4 函数</h3>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">PromQL 提供的内置函数有： time(), irate , rate, increase, sort, sort_desc, label_replace, label_join。</p>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">2.3.4.1 time()</h4>
<ol style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">语义</li>
</ol>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">time() 返回自 UTC 时间（1970.1.1）以来的秒数。请注意，这实际上并不返回当前时间，而是要计算表达式的时间。当我们向 query 接口请求 time()，则返回的是当前时间。</p>
<ol start="2" style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">示例</li>
</ol>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">示例1</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">如下是 time() 请求 query 接口返回当前时间戳的示例</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">$ curl 'http://localhost:13011/api/v1/query?query=time()'
{
<span style="line-height: 160%; box-sizing: content-box;">    &quot;status&quot;: &quot;success&quot;,</span>
<span style="line-height: 160%; box-sizing: content-box;">    &quot;data&quot;: {</span>
<span style="line-height: 160%; box-sizing: content-box;">        &quot;resultType&quot;: &quot;scalar&quot;,</span>
<span style="line-height: 160%; box-sizing: content-box;">        &quot;result&quot;: [</span>
<span style="line-height: 160%; box-sizing: content-box;">            1658469674.961,</span>
<span style="line-height: 160%; box-sizing: content-box;">            &quot;1658469674.961&quot;</span>
<span style="line-height: 160%; box-sizing: content-box;">        ]</span>
<span style="line-height: 160%; box-sizing: content-box;">    }</span>
}
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">示例2</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">如下是 time() 请求 query 接口返回计算表达式时间的示例</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">$ curl -X POST http://localhost:13011/api/v1/query \
-H &quot;Content-Type:application/x-www-form-urlencoded&quot; \
-d 'query=time()&amp;time=1650883560'
{
<span style="line-height: 160%; box-sizing: content-box;">    &quot;status&quot;: &quot;success&quot;,</span>
<span style="line-height: 160%; box-sizing: content-box;">    &quot;data&quot;: {</span>
<span style="line-height: 160%; box-sizing: content-box;">        &quot;resultType&quot;: &quot;scalar&quot;,</span>
<span style="line-height: 160%; box-sizing: content-box;">        &quot;result&quot;: [</span>
<span style="line-height: 160%; box-sizing: content-box;">            1650883560,</span>
<span style="line-height: 160%; box-sizing: content-box;">            &quot;1650883560&quot;</span>
<span style="line-height: 160%; box-sizing: content-box;">        ]</span>
<span style="line-height: 160%; box-sizing: content-box;">    }</span>
}
</code></pre>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">2.3.4.2 irate</h4>
<ol style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">语义</li>
</ol>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">irate(v range-vector)</code> 计算范围向量中时间序列的每秒瞬时增长率。irate函数是基于区间向量中最后两个样本数据来计算区间向量的增长速率。</p>
<ol start="2" style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">语法结构</li>
</ol>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">irate(v range-vector)
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">其中 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">range-vector</code> 的语法结构参考[范围向量选择器]。</p>
<ol style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">示例</li>
</ol>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">以下示例表达式返回针对范围向量中每个时间序列的两个最近数据点的 HTTP 请求的每秒增长速率，最多可追溯 5 分钟：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">irate(http<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_requests_</span>total{job=&quot;api-server&quot;}[5m])
</code></pre>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">2.3.4.3 rate</h4>
<ol style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">语义</li>
</ol>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">rate(v range-vector)</code> 计算范围向量中时间序列的每秒平均增长率。单调性的中断（例如由于目标重新启动而导致的计数器重置）会自动调整。此外，计算外推到时间范围的末端，允许遗漏采集或采集周期与该范围的时间段的不完美对齐。</p>
<ol start="2" style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">语法结构</li>
</ol>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">rate(v range-vector)
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">其中 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">range-vector</code> 的语法结构参考[范围向量选择器]。</p>
<ol style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">示例</li>
</ol>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">以下示例表达式返回针对范围向量中过去 5 分钟内的所有数据点的 HTTP 请求的每秒平均增长速率：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">rate(http<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_requests_</span>total{job=&quot;api-server&quot;}[5m])
</code></pre>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">2.3.4.4 increase</h4>
<ol style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">语义</li>
</ol>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">increase(v range-vector)</code> 计算范围向量中时间序列的一样本增长量。单调性的中断（例如由于目标重新启动而导致的计数器重置）会自动调整。此外，计算外推到时间范围的末端，允许遗漏采集或采集周期与该范围的时间段的不完美对齐。</p>
<ol start="2" style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">语法结构</li>
</ol>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">increase(v range-vector)
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">其中 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">range-vector</code> 的语法结构参考[范围向量选择器]。</p>
<ol start="3" style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">示例</li>
</ol>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">以下示例表达式返回针对范围向量中过去 5 分钟内的所有数据点的 HTTP 请求的增长量：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">increase(http<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_requests_</span>total{job=&quot;api-server&quot;}[5m])
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">2.3.4.5 sort</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">sort(v instant-vector)</code> 将瞬时表达式返回的样本数据进行升序排序。<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">sort</code> 对 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">query_range</code> 查询无排序效果，因此，禁止 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">sort</code> 在query_range接口的使用。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">2.3.4.6 sort_desc</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">sort_desc(v instant-vector)</code> 将瞬时表达式返回的样本数据进行降序排序。<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">sort_desc</code> 对 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">query_range</code> 查询无排序效果，因此，禁止 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">sort_desc</code> 在query_range接口的使用。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">2.3.4.7 label_replace</p>
<ol style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">语义</li>
</ol>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">label_replace</code> 为时间序列添加额外的标签或修改已有标签。</p>
<ol start="2" style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">语法结构</li>
</ol>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">label<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_replace(v instant-vector, dst_</span>label string, replacement string, src_label string, regex string)
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">label_replace</code> 函数会依次对 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">v</code> 中的每一条时间序列进行处理，通过 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">regex</code> 匹配 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">src_label</code> 的值，并将匹配部分 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">relacement</code> 写入到 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">dst_label</code> 标签中。其中5个参数都是必须的。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">需要注意的是，当想要将常量 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">replacement</code> 赋予新的 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">dst_label</code> 时，与 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">src_label</code> 无关，但是 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">src_label</code> 与 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">regex</code> 会影响查询结果，建议这种情况下，<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">regex</code> 取 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">^.*$</code>。</p>
<ol start="3" style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">示例</li>
</ol>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">如下表达式是给 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">node_cpu_seconds_total</code> 下的所有时间序列都生成一个 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">host</code> 标签，标签值为从 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">instance</code> 中通过正则匹配到的内容：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">label<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_replace(node_</span>cpu<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_seconds_</span>total, &quot;host&quot;, &quot;$1&quot;, &quot;instance&quot;, &quot;(.<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">*):.*</span>&quot;)
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">示例输出</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">node<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_cpu_</span>seconds_total{host=&quot;localhost&quot;,instance=&quot;localhost:8080&quot;,job=&quot;cadvisor&quot;} 1
node<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_cpu_</span>seconds_total{host=&quot;localhost&quot;,instance=&quot;localhost:9090&quot;,job=&quot;prometheus&quot;} 1
node<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_cpu_</span>seconds_total{host=&quot;localhost&quot;,instance=&quot;localhost:9100&quot;,job=&quot;node&quot;} 1
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">2.3.4.8 label_join</p>
<ol style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">定义</li>
</ol>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">label_join</code> 为时间序列添加一个标签，此标签中的值为多个标签的值通过指定连接符连接起来的字符串。</p>
<ol start="2" style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">语法结构</li>
</ol>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">label<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_join(v instant-vector, dst_</span>label string, separator string, src<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_label_</span>1 string, src<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_label_</span>2 string, ...)
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">label_join</code> 函数会依次对 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">v</code>中的每一条时间序列进行处理，函数可以将时间序列 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">v</code> 中多个标签 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">src_label</code> 的值，通过 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">separator</code> 作为连接符写入到一个新的标签 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">dst_label</code> 中。可以有多个 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">src_label</code> 标签。</p>
<ol start="3" style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">示例</li>
</ol>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">如下表达式是给 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">node_cpu_seconds_total</code> 下的所有时间序列都生成一个 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">host</code> 标签，标签值为 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">instance</code> 和 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">job</code> 的拼接：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">label<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_join(node_</span>cpu<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_seconds_</span>total, &quot;host&quot;, &quot;---&quot;, &quot;instance&quot;, &quot;job&quot;)
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">示例输出</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">node<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_cpu_</span>seconds_total{host=&quot;localhost:8080---cadvisor&quot;,instance=&quot;localhost:8080&quot;,job=&quot;cadvisor&quot;} 1
node<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_cpu_</span>seconds_total{host=&quot;localhost:9090---prometheus&quot;,instance=&quot;localhost:9090&quot;,job=&quot;prometheus&quot;} 1
node<span style="font-style: italic; line-height: 160%; box-sizing: content-box;">_cpu_</span>seconds_total{host=&quot;localhost:9100---node&quot;,instance=&quot;localhost:9100&quot;,job=&quot;node&quot;} 1
</code></pre>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">2.3.5 HTTP API</h3>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">API 响应格式为 JSON。<br/>
格式如下：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{
  <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;status&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;success&quot;</span> | <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;error&quot;</span>,
  <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">// Only set if status is &quot;success&quot;.</span>
  <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;data&quot;</span>: &lt;data&gt;,

  <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">// Only set if status is &quot;error&quot;.</span>
  <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;errorType&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;&lt;string&gt;&quot;</span>,
  <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;error&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;&lt;string&gt;&quot;</span>
}
</code></pre>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">2.3.5.1 Instant query查询接口</h3>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">在单个时间点上计算 PromQL 表达式的值。</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">
<p style="line-height: 160%; box-sizing: content-box; color: #333; margin: 0;">URL：/api/uniquery/v1/promql/query</p>
</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">
<p style="line-height: 160%; box-sizing: content-box; color: #333; margin: 0;">请求方式：POST</p>
</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">
<p style="line-height: 160%; box-sizing: content-box; color: #333; margin: 0;">内容格式：x-www-form-urlencoded</p>
</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">
<p style="line-height: 160%; box-sizing: content-box; color: #333; margin: 0;">请求体参数：</p>
</li>
</ul>
<table style="margin: 2px 0 14px; color: #333; width: auto; border-collapse: collapse; box-sizing: border-box;"><thead style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">参数</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">是否必填</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">类型</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">说明</th></tr></thead><tbody style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">query</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">是</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">string</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">PromQL 表达式</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">ar_dataview</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">否</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">string</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">查询的日志分组id，只支持指定一个日志分组id。当涉及到指标查询时必须，若只是标量之间的运算可不填。</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">time</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">否</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">string</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">计算 PromQL 的时间戳，以秒为单位的 Unix 时间戳</td></tr></tbody></table>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">time</code> 如果省略，则使用当前服务器时间。</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">返回结果：</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">查询结果 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">data</code> 部分的格式如下：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{
  <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;resultType&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;matrix&quot;</span> | <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;vector&quot;</span> | <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;scalar&quot;</span>,
  <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;result&quot;</span>: &lt;value&gt;
}
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">&lt;value&gt;</code> 指的是查询结果数据，其格式根据 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">resultType</code> 而有所不同. 请参阅 [表达式查询结果格式]。</p>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">2.3.5.2 Range query查询接口</h3>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">在一段时间内上计算 PromQL 表达式的值。</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">
<p style="line-height: 160%; box-sizing: content-box; color: #333; margin: 0;">URL：/api/uniquery/v1/promql/query_range</p>
</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">
<p style="line-height: 160%; box-sizing: content-box; color: #333; margin: 0;">请求方式：POST</p>
</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">
<p style="line-height: 160%; box-sizing: content-box; color: #333; margin: 0;">内容格式：x-www-form-urlencoded</p>
</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">
<p style="line-height: 160%; box-sizing: content-box; color: #333; margin: 0;">请求体参数：</p>
</li>
</ul>
<table style="margin: 2px 0 14px; color: #333; width: auto; border-collapse: collapse; box-sizing: border-box;"><thead style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">参数</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">是否必填</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">类型</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">说明</th></tr></thead><tbody style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">query</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">是</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">string</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">PromQL 表达式</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">start</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">是</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">int64</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">开始时间，以秒为单位的 Unix 时间戳戳</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">end</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">是</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">int64</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">结束时间，以秒为单位的 Unix 时间戳戳</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">step</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">是</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">&lt;duration \| float&gt;</code></td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">以 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">duration</code> 格式（参考 [time_durations]）或浮点秒数表示的查询步长</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">ar_dataview</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">否</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">string</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">查询的日志分组id，只支持指定一个日志分组id。当涉及到指标查询时必须，若只是标量之间的运算可不填。</td></tr></tbody></table>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">返回结果：</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">查询结果 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">data</code> 部分的格式如下：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{
  <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;resultType&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;matrix&quot;</span>,
  <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;result&quot;</span>: &lt;value&gt;
}
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">&lt;value&gt;</code> 指的是查询结果数据，请参阅 [范围向量结果格式]。</p>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">2.3.5.3 Series查询接口</h3>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">返回与某个标签集匹配的时间序列列表。</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">
<p style="line-height: 160%; box-sizing: content-box; color: #333; margin: 0;">URL：/api/uniquery/v1/promql/series</p>
</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">
<p style="line-height: 160%; box-sizing: content-box; color: #333; margin: 0;">请求方式：POST</p>
</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">
<p style="line-height: 160%; box-sizing: content-box; color: #333; margin: 0;">内容格式：x-www-form-urlencoded</p>
</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">
<p style="line-height: 160%; box-sizing: content-box; color: #333; margin: 0;">请求体参数：</p>
</li>
</ul>
<table style="margin: 2px 0 14px; color: #333; width: auto; border-collapse: collapse; box-sizing: border-box;"><thead style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">参数</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">是否必填</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">类型</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">说明</th></tr></thead><tbody style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">match[]</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">是</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">string</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">重复系列选择器参数。格式为： <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">match[]=&lt; series_selector &gt;</code>。 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">match[]</code> 必须提供至少一个参数</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">start</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">否</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">int64</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">开始时间，以秒为单位的 Unix 时间戳。默认是 0xFFDF 3B81 4940 9A0A</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">end</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">否</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">int64</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">结束时间，以秒为单位的 Unix 时间戳。默认是当前系统时间戳</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">ar_dataview</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">否</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">string</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">查询的日志分组id，只支持指定一个日志分组id。当涉及到指标查询时必须，若只是标量之间的运算可不填。</td></tr></tbody></table>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">返回结果：</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">查询结果 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">data</code> 部分的格式如下：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">[
     { &quot;&lt;label_name&gt;&quot;: &quot;&lt;label_value&gt;&quot;, ... },
     ...
]
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">查询结果的 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">data</code> 部分包含一个对象列表，其中包含标识每个系列的标签名称/值对。</p>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">2.3.5.4 表达式查询结果格式</h3>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">表达式查询返回结果的 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">result</code> 属性中的 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">data</code> 部分可能是如下的格式。<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">&lt;sample_value&gt;</code> 是数字样本值。JSON 不支持特殊的浮点值，例如 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">NaN</code>、<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">Inf</code> 和 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">-Inf</code>，因此样本值作为带引号的 JSON 字符串而不是原始数字传输。</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">范围向量</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">范围向量返回的结果类型为 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">matrix</code>。相应的 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">result</code> 属性有如下格式：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">[
  {
    &quot;metric&quot;: { &quot;&lt;label_name&gt;&quot;: &quot;&lt;label_value&gt;&quot;, ... },
    &quot;values&quot;: [ [ &lt;unix_time&gt;, &quot;&lt;sample_value&gt;&quot; ], ... ]
  },
  ...
]
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">瞬时向量</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">瞬时向量返回的结果类型为 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">vector</code>。相应的 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">result</code> 属性有如下格式：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">[
  {
    &quot;metric&quot;: { &quot;&lt;label_name&gt;&quot;: &quot;&lt;label_value&gt;&quot;, ... },
    &quot;value&quot;: [ &lt;unix_time&gt;, &quot;&lt;sample_value&gt;&quot; ]
  },
  ...
]
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">标量</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">标量表达式返回的结果类型为 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">scalar</code>。相应的 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">result</code> 属性有如下格式：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">[ &lt;unix_time&gt;, <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;&lt;scalar_value&gt;&quot;</span> ]
</code></pre>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">2.3.6 开发与实践</h3>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">2.3.6.1 调用流程</h3>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">调用过程如下图所示：</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><img src="images/promql_query_process.png" style="line-height: 160%; margin: 4px 0 10px; box-sizing: border-box; vertical-align: top; max-width: 100%;"></img></p>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">2.3.6.2 请求示例</h4>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">第1步</strong>**   **往 opensearch/es 写入 promql_test 类型数据：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">curl -X POST &quot;10.4.14.35:30000/_bulk?pretty&quot; -uadmin:eisoo.com123 -H 'Content-Type: application/json' -d'
{ &quot;index&quot; : { &quot;_index&quot; : &quot;promql_test-01&quot;, &quot;_id&quot; : &quot;1&quot; } }
{ &quot;type&quot; :&quot;promql_test&quot;, &quot;@timestamp&quot; : &quot;2022-04-25T09:46:00.000Z&quot;, &quot;labels_str&quot; : &quot;labels.cpu=cpu0,labels.instance=10.4.14.35,labels.mode=user&quot;,&quot;metrics.system_metric_cpu_seconds_total&quot;: 11,&quot;labels.cpu&quot;: &quot;cpu0&quot;,&quot;labels.instance&quot;: &quot;10.4.106.127&quot;,&quot;labels.mode&quot;: &quot;user&quot; }
{ &quot;index&quot; : { &quot;_index&quot; : &quot;promql_test-01&quot;, &quot;_id&quot; : &quot;2&quot; } }
{ &quot;type&quot; :&quot;promql_test&quot;, &quot;@timestamp&quot; : &quot;2022-04-25T09:46:30.000Z&quot;, &quot;labels_str&quot; : &quot;labels.cpu=cpu0,labels.instance=10.4.14.35,labels.mode=user&quot;,&quot;metrics.system_metric_cpu_seconds_total&quot;: 12,&quot;labels.cpu&quot;: &quot;cpu0&quot;,&quot;labels.instance&quot;: &quot;10.4.106.127&quot;,&quot;labels.mode&quot;: &quot;user&quot; }
{ &quot;index&quot; : { &quot;_index&quot; : &quot;promql_test-01&quot;, &quot;_id&quot; : &quot;3&quot; } }
{ &quot;type&quot; :&quot;promql_test&quot;, &quot;@timestamp&quot; : &quot;2022-04-25T09:47:00.000Z&quot;, &quot;labels_str&quot; : &quot;labels.cpu=cpu0,labels.instance=10.4.14.35,labels.mode=user&quot;,&quot;metrics.system_metric_cpu_seconds_total&quot;: 12,&quot;labels.cpu&quot;: &quot;cpu0&quot;,&quot;labels.instance&quot;: &quot;10.4.106.127&quot;,&quot;labels.mode&quot;: &quot;user&quot; }
{ &quot;index&quot; : { &quot;_index&quot; : &quot;promql_test-01&quot;, &quot;_id&quot; : &quot;4&quot; } }
{ &quot;type&quot; :&quot;promql_test&quot;, &quot;@timestamp&quot; : &quot;2022-04-25T09:47:30.000Z&quot;, &quot;labels_str&quot; : &quot;labels.cpu=cpu0,labels.instance=10.4.14.35,labels.mode=user&quot;,&quot;metrics.system_metric_cpu_seconds_total&quot;: 13,&quot;labels.cpu&quot;: &quot;cpu0&quot;,&quot;labels.instance&quot;: &quot;10.4.106.127&quot;,&quot;labels.mode&quot;: &quot;user&quot; }
{ &quot;index&quot; : { &quot;_index&quot; : &quot;promql_test-01&quot;, &quot;_id&quot; : &quot;5&quot; } }
{ &quot;type&quot; :&quot;promql_test&quot;, &quot;@timestamp&quot; : &quot;2022-04-25T09:48:00.000Z&quot;, &quot;labels_str&quot; : &quot;labels.cpu=cpu0,labels.instance=10.4.14.35,labels.mode=user&quot;,&quot;metrics.system_metric_cpu_seconds_total&quot;: 14,&quot;labels.cpu&quot;: &quot;cpu0&quot;,&quot;labels.instance&quot;: &quot;10.4.106.127&quot;,&quot;labels.mode&quot;: &quot;user&quot; }
{ &quot;index&quot; : { &quot;_index&quot; : &quot;promql_test-01&quot;, &quot;_id&quot; : &quot;6&quot; } }
{ &quot;type&quot; :&quot;promql_test&quot;, &quot;@timestamp&quot; : &quot;2022-04-25T09:48:30.000Z&quot;, &quot;labels_str&quot; : &quot;labels.cpu=cpu0,labels.instance=10.4.14.35,labels.mode=user&quot;,&quot;metrics.system_metric_cpu_seconds_total&quot;: 15,&quot;labels.cpu&quot;: &quot;cpu0&quot;,&quot;labels.instance&quot;: &quot;10.4.106.127&quot;,&quot;labels.mode&quot;: &quot;user&quot; }
{ &quot;index&quot; : { &quot;_index&quot; : &quot;promql_test-01&quot;, &quot;_id&quot; : &quot;7&quot; } }
{ &quot;type&quot; :&quot;promql_test&quot;, &quot;@timestamp&quot; : &quot;2022-04-25T09:46:00.000Z&quot;, &quot;labels_str&quot; : &quot;labels.cpu=cpu1,labels.instance=10.4.14.35,labels.mode=user&quot;,&quot;metrics.system_metric_cpu_seconds_total&quot;: 21,&quot;labels.cpu&quot;: &quot;cpu1&quot;,&quot;labels.instance&quot;: &quot;10.4.106.127&quot;,&quot;labels.mode&quot;: &quot;user&quot; }
{ &quot;index&quot; : { &quot;_index&quot; : &quot;promql_test-01&quot;, &quot;_id&quot; : &quot;8&quot; } }
{ &quot;type&quot; :&quot;promql_test&quot;, &quot;@timestamp&quot; : &quot;2022-04-25T09:46:30.000Z&quot;, &quot;labels_str&quot; : &quot;labels.cpu=cpu1,labels.instance=10.4.14.35,labels.mode=user&quot;,&quot;metrics.system_metric_cpu_seconds_total&quot;: 22,&quot;labels.cpu&quot;: &quot;cpu1&quot;,&quot;labels.instance&quot;: &quot;10.4.106.127&quot;,&quot;labels.mode&quot;: &quot;user&quot; }
{ &quot;index&quot; : { &quot;_index&quot; : &quot;promql_test-01&quot;, &quot;_id&quot; : &quot;9&quot; } }
{ &quot;type&quot; :&quot;promql_test&quot;, &quot;@timestamp&quot; : &quot;2022-04-25T09:47:00.000Z&quot;, &quot;labels_str&quot; : &quot;labels.cpu=cpu1,labels.instance=10.4.14.35,labels.mode=user&quot;,&quot;metrics.system_metric_cpu_seconds_total&quot;: 22,&quot;labels.cpu&quot;: &quot;cpu1&quot;,&quot;labels.instance&quot;: &quot;10.4.106.127&quot;,&quot;labels.mode&quot;: &quot;user&quot; }
{ &quot;index&quot; : { &quot;_index&quot; : &quot;promql_test-01&quot;, &quot;_id&quot; : &quot;10&quot; } }
{ &quot;type&quot; :&quot;promql_test&quot;, &quot;@timestamp&quot; : &quot;2022-04-25T09:47:30.000Z&quot;, &quot;labels_str&quot; : &quot;labels.cpu=cpu1,labels.instance=10.4.14.35,labels.mode=user&quot;,&quot;metrics.system_metric_cpu_seconds_total&quot;: 23,&quot;labels.cpu&quot;: &quot;cpu1&quot;,&quot;labels.instance&quot;: &quot;10.4.106.127&quot;,&quot;labels.mode&quot;: &quot;user&quot; }
{ &quot;index&quot; : { &quot;_index&quot; : &quot;promql_test-01&quot;, &quot;_id&quot; : &quot;11&quot; } }
{ &quot;type&quot; :&quot;promql_test&quot;, &quot;@timestamp&quot; : &quot;2022-04-25T09:48:00.000Z&quot;, &quot;labels_str&quot; : &quot;labels.cpu=cpu1,labels.instance=10.4.14.35,labels.mode=user&quot;,&quot;metrics.system_metric_cpu_seconds_total&quot;: 24,&quot;labels.cpu&quot;: &quot;cpu1&quot;,&quot;labels.instance&quot;: &quot;10.4.106.127&quot;,&quot;labels.mode&quot;: &quot;user&quot; }
{ &quot;index&quot; : { &quot;_index&quot; : &quot;promql_test-01&quot;, &quot;_id&quot; : &quot;12&quot; } }
{ &quot;type&quot; :&quot;promql_test&quot;, &quot;@timestamp&quot; : &quot;2022-04-25T09:48:30.000Z&quot;, &quot;labels_str&quot; : &quot;labels.cpu=cpu1,labels.instance=10.4.14.35,labels.mode=user&quot;,&quot;metrics.system_metric_cpu_seconds_total&quot;: 25,&quot;labels.cpu&quot;: &quot;cpu1&quot;,&quot;labels.instance&quot;: &quot;10.4.106.127&quot;,&quot;labels.mode&quot;: &quot;user&quot; }
{ &quot;index&quot; : { &quot;_index&quot; : &quot;promql_test-01&quot;, &quot;_id&quot; : &quot;13&quot; } }
{ &quot;type&quot; :&quot;promql_test&quot;, &quot;@timestamp&quot; : &quot;2022-04-25T09:46:00.000Z&quot;, &quot;labels_str&quot; : &quot;labels.cpu=cpu0,labels.instance=10.4.14.35,labels.mode=system&quot;,&quot;metrics.system_metric_cpu_seconds_total&quot;: 31,&quot;labels.cpu&quot;: &quot;cpu0&quot;,&quot;labels.instance&quot;: &quot;10.4.106.127&quot;,&quot;labels.mode&quot;: &quot;system&quot; }
{ &quot;index&quot; : { &quot;_index&quot; : &quot;promql_test-01&quot;, &quot;_id&quot; : &quot;14&quot; } }
{ &quot;type&quot; :&quot;promql_test&quot;, &quot;@timestamp&quot; : &quot;2022-04-25T09:46:30.000Z&quot;, &quot;labels_str&quot; : &quot;labels.cpu=cpu0,labels.instance=10.4.14.35,labels.mode=system&quot;,&quot;metrics.system_metric_cpu_seconds_total&quot;: 32,&quot;labels.cpu&quot;: &quot;cpu0&quot;,&quot;labels.instance&quot;: &quot;10.4.106.127&quot;,&quot;labels.mode&quot;: &quot;system&quot; }
{ &quot;index&quot; : { &quot;_index&quot; : &quot;promql_test-01&quot;, &quot;_id&quot; : &quot;15&quot; } }
{ &quot;type&quot; :&quot;promql_test&quot;, &quot;@timestamp&quot; : &quot;2022-04-25T09:47:00.000Z&quot;, &quot;labels_str&quot; : &quot;labels.cpu=cpu0,labels.instance=10.4.14.35,labels.mode=system&quot;,&quot;metrics.system_metric_cpu_seconds_total&quot;: 32,&quot;labels.cpu&quot;: &quot;cpu0&quot;,&quot;labels.instance&quot;: &quot;10.4.106.127&quot;,&quot;labels.mode&quot;: &quot;system&quot; }
{ &quot;index&quot; : { &quot;_index&quot; : &quot;promql_test-01&quot;, &quot;_id&quot; : &quot;16&quot; } }
{ &quot;type&quot; :&quot;promql_test&quot;, &quot;@timestamp&quot; : &quot;2022-04-25T09:47:30.000Z&quot;, &quot;labels_str&quot; : &quot;labels.cpu=cpu0,labels.instance=10.4.14.35,labels.mode=system&quot;,&quot;metrics.system_metric_cpu_seconds_total&quot;: 33,&quot;labels.cpu&quot;: &quot;cpu0&quot;,&quot;labels.instance&quot;: &quot;10.4.106.127&quot;,&quot;labels.mode&quot;: &quot;system&quot; }
{ &quot;index&quot; : { &quot;_index&quot; : &quot;promql_test-01&quot;, &quot;_id&quot; : &quot;17&quot; } }
{ &quot;type&quot; :&quot;promql_test&quot;, &quot;@timestamp&quot; : &quot;2022-04-25T09:48:00.000Z&quot;, &quot;labels_str&quot; : &quot;labels.cpu=cpu0,labels.instance=10.4.14.35,labels.mode=system&quot;,&quot;metrics.system_metric_cpu_seconds_total&quot;: 34,&quot;labels.cpu&quot;: &quot;cpu0&quot;,&quot;labels.instance&quot;: &quot;10.4.106.127&quot;,&quot;labels.mode&quot;: &quot;system&quot; }
{ &quot;index&quot; : { &quot;_index&quot; : &quot;promql_test-01&quot;, &quot;_id&quot; : &quot;18&quot; } }
{ &quot;type&quot; :&quot;promql_test&quot;, &quot;@timestamp&quot; : &quot;2022-04-25T09:48:30.000Z&quot;, &quot;labels_str&quot; : &quot;labels.cpu=cpu0,labels.instance=10.4.14.35,labels.mode=system&quot;,&quot;metrics.system_metric_cpu_seconds_total&quot;: 35,&quot;labels.cpu&quot;: &quot;cpu0&quot;,&quot;labels.instance&quot;: &quot;10.4.106.127&quot;,&quot;labels.mode&quot;: &quot;system&quot; }
{ &quot;index&quot; : { &quot;_index&quot; : &quot;promql_test-01&quot;, &quot;_id&quot; : &quot;19&quot; } }
{ &quot;type&quot; :&quot;promql_test&quot;, &quot;@timestamp&quot; : &quot;2022-04-25T09:46:00.000Z&quot;, &quot;labels_str&quot; : &quot;labels.cpu=cpu1,labels.instance=10.4.14.35,labels.mode=system&quot;,&quot;metrics.system_metric_cpu_seconds_total&quot;: 41,&quot;labels.cpu&quot;: &quot;cpu1&quot;,&quot;labels.instance&quot;: &quot;10.4.106.127&quot;,&quot;labels.mode&quot;: &quot;system&quot; }
{ &quot;index&quot; : { &quot;_index&quot; : &quot;promql_test-01&quot;, &quot;_id&quot; : &quot;20&quot; } }
{ &quot;type&quot; :&quot;promql_test&quot;, &quot;@timestamp&quot; : &quot;2022-04-25T09:46:30.000Z&quot;, &quot;labels_str&quot; : &quot;labels.cpu=cpu1,labels.instance=10.4.14.35,labels.mode=system&quot;,&quot;metrics.system_metric_cpu_seconds_total&quot;: 42,&quot;labels.cpu&quot;: &quot;cpu1&quot;,&quot;labels.instance&quot;: &quot;10.4.106.127&quot;,&quot;labels.mode&quot;: &quot;system&quot; }
{ &quot;index&quot; : { &quot;_index&quot; : &quot;promql_test-01&quot;, &quot;_id&quot; : &quot;21&quot; } }
{ &quot;type&quot; :&quot;promql_test&quot;, &quot;@timestamp&quot; : &quot;2022-04-25T09:47:00.000Z&quot;, &quot;labels_str&quot; : &quot;labels.cpu=cpu1,labels.instance=10.4.14.35,labels.mode=system&quot;,&quot;metrics.system_metric_cpu_seconds_total&quot;: 42,&quot;labels.cpu&quot;: &quot;cpu1&quot;,&quot;labels.instance&quot;: &quot;10.4.106.127&quot;,&quot;labels.mode&quot;: &quot;system&quot; }
{ &quot;index&quot; : { &quot;_index&quot; : &quot;promql_test-01&quot;, &quot;_id&quot; : &quot;22&quot; } }
{ &quot;type&quot; :&quot;promql_test&quot;, &quot;@timestamp&quot; : &quot;2022-04-25T09:47:30.000Z&quot;, &quot;labels_str&quot; : &quot;labels.cpu=cpu1,labels.instance=10.4.14.35,labels.mode=system&quot;,&quot;metrics.system_metric_cpu_seconds_total&quot;: 43,&quot;labels.cpu&quot;: &quot;cpu1&quot;,&quot;labels.instance&quot;: &quot;10.4.106.127&quot;,&quot;labels.mode&quot;: &quot;system&quot; }
{ &quot;index&quot; : { &quot;_index&quot; : &quot;promql_test-01&quot;, &quot;_id&quot; : &quot;23&quot; } }
{ &quot;type&quot; :&quot;promql_test&quot;, &quot;@timestamp&quot; : &quot;2022-04-25T09:48:00.000Z&quot;, &quot;labels_str&quot; : &quot;labels.cpu=cpu1,labels.instance=10.4.14.35,labels.mode=system&quot;,&quot;metrics.system_metric_cpu_seconds_total&quot;: 44,&quot;labels.cpu&quot;: &quot;cpu1&quot;,&quot;labels.instance&quot;: &quot;10.4.106.127&quot;,&quot;labels.mode&quot;: &quot;system&quot; }
{ &quot;index&quot; : { &quot;_index&quot; : &quot;promql_test-01&quot;, &quot;_id&quot; : &quot;24&quot; } }
{ &quot;type&quot; :&quot;promql_test&quot;, &quot;@timestamp&quot; : &quot;2022-04-25T09:48:30.000Z&quot;, &quot;labels_str&quot; : &quot;labels.cpu=cpu1,labels.instance=10.4.14.35,labels.mode=system&quot;,&quot;metrics.system_metric_cpu_seconds_total&quot;: 45,&quot;labels.cpu&quot;: &quot;cpu1&quot;,&quot;labels.instance&quot;: &quot;10.4.106.127&quot;,&quot;labels.mode&quot;: &quot;system&quot; }
'
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">第2步</strong>**   **返回结果如图 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">errors</code> 为 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">false</code>，则写入成功。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><img src="images/promql_test_result_of_bulk.png" style="line-height: 160%; margin: 4px 0 10px; box-sizing: border-box; vertical-align: top; max-width: 100%;"></img></p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">由数据结构设计可知，该索引为 promql_test-01，则索引库名称为 promql_test。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">第3步</strong>**   **给索引库创建日志分组：</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">创建日志分组可通过 AnyRobot 管理页面创建，也可以通过调用 API 创建。具体方式如下：</p>
<ol style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">方式一：登录 AnyRobot 页面创建日志分组：</li>
</ol>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">登录 AnyRobot，新建日志分组：</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">通过 &quot;数据管理-日志分组-新建日志分组&quot;<br/>
<img src="images/create_log_group1.png" style="line-height: 160%; margin: 4px 0 10px; box-sizing: border-box; vertical-align: top; max-width: 100%;"></img><br/>
<img src="images/create_promql_loggroup.png" style="line-height: 160%; margin: 4px 0 10px; box-sizing: border-box; vertical-align: top; max-width: 100%;"></img></p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">获取日志分组id：</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">新建之后点击保存，在日志分组详情页可以查看到该分组的id：<br/>
<img src="images/loggroup_id_of_promql_test.png" style="line-height: 160%; margin: 4px 0 10px; box-sizing: border-box; vertical-align: top; max-width: 100%;"></img></p>
<ol start="2" style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">方式二：调用 API 创建日志分组：</li>
</ol>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">先获取日志库id：</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">curl http://10.4.14.35/api/v1/dataManager/logWareHouse?dataType=promql_test |jq .data[0].id
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">返回结果如下图：<br/>
<img src="images/get_logwarehouse_id.png" style="line-height: 160%; margin: 4px 0 10px; box-sizing: border-box; vertical-align: top; max-width: 100%;"></img></p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">创建日志分组：</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">把上面获取到的日志库 id 放入请求 body 的 logWareHouse 中，然后调用接口创建日志分组。</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">curl -X POST 'http://10.4.14.35/manager/loggroup?operate=create' -H 'user: f5a08cb056c539d76f373bbc94458e39' -H 'Content-Type: application/json' -d'
{
	&quot;description&quot;: &quot;&quot;,
	&quot;filters&quot;: {
		&quot;advance&quot;: &quot;&quot;,
		&quot;host&quot;: [
			&quot;*&quot;
		],
		&quot;logWareHouse&quot;: [
			&quot;029a792d76d23108eb77aedacf0c365e&quot;
		],
		&quot;tags&quot;: [
			&quot;*&quot;
		],
		&quot;type&quot;: [
			{
				&quot;negative&quot;: 0,
				&quot;type&quot;: 0,
				&quot;value&quot;: &quot;promql_test&quot;
			}
		]
	},
	&quot;groupName&quot;: &quot;promql_test&quot;,
	&quot;parentGroupId&quot;: &quot;&quot;
}
'
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">返回结果即为日志分组id，如下如所示：<br/>
<img src="images/loggroup_id2.png" style="line-height: 160%; margin: 4px 0 10px; box-sizing: border-box; vertical-align: top; max-width: 100%;"></img></p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">第4步</strong>**   **发送 PromQL 查询请求</p>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">Instant query 查询</h5>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">url</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">ip:port：为能够通信UniQuery服务的地址和端口号</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">http://ip:port/api/uniquery/v1/promql/query
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">Body</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">查询场景如下：查询某个主机的 cpu 总核数。</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">curl -X POST http://ip:port/api/uniquery/v1/promql/query \
-H &quot;Content-Type:application/x-www-form-urlencoded&quot; \
-d 'query=count(system_metric_cpu_seconds_total{mode=&quot;system&quot;,instance=&quot;10.4.106.127&quot;})
 &amp;ar_dataview=&quot;0f8cfbcc-5b24-11ed-8316-6a49cc377d43&quot;&amp;time=2022-04-25T09:48:30.000Z'
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">结果如下：</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;status&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;success&quot;</span>,
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;data&quot;</span>: {
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;resultType&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;vector&quot;</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;result&quot;</span>: [
            {
                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;metric&quot;</span>: {},
                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;value&quot;</span>: [
                    <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1650880110</span>,
                    <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;2&quot;</span>
                ]
            }
        ]
    }
}
</code></pre>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">Range query 查询</h5>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">url</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">ip:port：为能够通信UniQuery服务的地址和端口号</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">http://ip:port/api/uniquery/v1/promql/query_range
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">Body</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">查询场景如下：查询某个主机的 system 模式下的各个核的 cpu 使用率。</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">curl -X POST http://ip:port/api/uniquery/v1/promql/query_range \
-H &quot;Content-Type:application/x-www-form-urlencoded&quot; \
-d 'query=irate(system_metric_cpu_seconds_total{mode=&quot;system&quot;,instance=&quot;10.4.106.127&quot;}[1m])
&amp;ar_dataview=&quot;0f8cfbcc-5b24-11ed-8316-6a49cc377d43&quot;&amp;start=2022-04-25T09:46:00.000Z&amp;end=2022-04-25T09:48:30.000Z&amp;step=30s'
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">结果如下：</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;status&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;success&quot;</span>,
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;data&quot;</span>: {
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;resultType&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;matrix&quot;</span>,
        <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;result&quot;</span>: [
            {
                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;metric&quot;</span>: {
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;labels.cpu&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;cpu0&quot;</span>,
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;labels.instance&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;10.4.14.35&quot;</span>,
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;labels.mode&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;system&quot;</span>
                },
                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;values&quot;</span>: [
                    [
                        <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1650880020</span>,
                        <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;0&quot;</span>
                    ],
                    [
                        <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1650880050</span>,
                        <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;0.03333333333333333&quot;</span>
                    ],
                    [
                        <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1650880080</span>,
                        <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;0.03333333333333333&quot;</span>
                    ],
                    [
                        <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1650880110</span>,
                        <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;0.03333333333333333&quot;</span>
                    ]
                ]
            },
            {
                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;metric&quot;</span>: {
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;labels.cpu&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;cpu1&quot;</span>,
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;labels.instance&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;10.4.14.35&quot;</span>,
                    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;labels.mode&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;system&quot;</span>
                },
                <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;values&quot;</span>: [
                    [
                        <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1650880020</span>,
                        <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;0&quot;</span>
                    ],
                    [
                        <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1650880050</span>,
                        <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;0.03333333333333333&quot;</span>
                    ],
                    [
                        <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1650880080</span>,
                        <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;0.03333333333333333&quot;</span>
                    ],
                    [
                        <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1650880110</span>,
                        <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;0.03333333333333333&quot;</span>
                    ]
                ]
            }
        ]
    }
}
</code></pre>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">Series 查询</h5>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">url</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">ip:port：为能够通信UniQuery服务的地址和端口号</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">http://ip:port/api/uniquery/v1/promql/series
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">Body</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">查询场景如下：查询指标 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">system_metric_cpu_seconds_total</code> 下的序列列表。</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">curl -X POST http://ip:port/api/uniquery/v1/promql/series \
-H &quot;Content-Type:application/x-www-form-urlencoded&quot; \
-d 'match[]=system_metric_cpu_seconds_total
 &amp;ar_dataview=&quot;0f8cfbcc-5b24-11ed-8316-6a49cc377d43&quot;&amp;start=2022-04-25T09:46:00.000Z&amp;end=2022-04-25T09:48:30.000Z'
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">结果如下：</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">{
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;status&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;success&quot;</span>,
    <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;data&quot;</span>: [
        {
            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;labels.cpu&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;cpu0&quot;</span>,
            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;labels.instance&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;10.4.14.35&quot;</span>,
            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;labels.mode&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;system&quot;</span>
        },
        {
            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;labels.cpu&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;cpu0&quot;</span>,
            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;labels.instance&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;10.4.14.35&quot;</span>,
            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;labels.mode&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;user&quot;</span>
        },
        {
            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;labels.cpu&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;cpu1&quot;</span>,
            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;labels.instance&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;10.4.14.35&quot;</span>,
            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;labels.mode&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;system&quot;</span>
        },
        {
            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;labels.cpu&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;cpu1&quot;</span>,
            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;labels.instance&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;10.4.14.35&quot;</span>,
            <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">&quot;labels.mode&quot;</span>: <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;user&quot;</span>
        }
    ]
}
</code></pre>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">结合 grafana 的使用说明</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">第1步</strong>**   **配置 anyrobot 数据源：</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">登录 grafana 配置 anyrobot 数据源，配置 uniquery 和 data-manager 的连接信息，如下图：<br/>
<img src="images/anyrobot_datasource.png" style="line-height: 160%; margin: 4px 0 10px; box-sizing: border-box; vertical-align: top; max-width: 100%;"></img></p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">创建仪表盘或者导入仪表盘模板查询展示 anyrobot 中的仪表盘数据。此时需要注意的是，需要给仪表盘定义关于日志分组的变量。</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">根日志分组的定义</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">编辑仪表盘，新增一个关于日志分组的变量，根日志分组的变量的函数是 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">root_group($根日志分组名称)</code>。如下图所示：<br/>
<img src="images/root_group.png" style="line-height: 160%; margin: 4px 0 10px; box-sizing: border-box; vertical-align: top; max-width: 100%;"></img></p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">子日志分组的定义</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">定义好根日志分组后，可定义子日志分组，子日志分组的变量的函数是 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">sub_log_group(${rootGroup})</code>。对于最底层子日志分组变量，其名称需命名为 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">ar_dataview</code>。如下图所示：<br/>
<img src="images/child_group.png" style="line-height: 160%; margin: 4px 0 10px; box-sizing: border-box; vertical-align: top; max-width: 100%;"></img></p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">普通变量定义</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">当我们需要从指标中查询出某个标签值作为仪表盘的过滤变量时，可通过 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">label_values</code> 函数来定义一个查询变量。如下图所示：<br/>
<img src="images/common_variable.png" style="line-height: 160%; margin: 4px 0 10px; box-sizing: border-box; vertical-align: top; max-width: 100%;"></img></p>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">2.3.7 PromQL 限制性说明</h3>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">瞬时查询时间限制</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">如果在查询时间戳前 5 分钟（默认情况下）未找到样本，则此时不会返回该时间序列的值。这实际上意味着时间序列最新收集到的样本距离查询时间戳超过 5 分钟。</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">避免慢查询和过载</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">一个简单的指标，例如 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">system_metric_memory_total_bytes</code> 可以扩展到数千个具有不同标签的时间序列。所以，即使输出只是少数时间序列，聚合多个时间序列的语句也会在服务器上产生负载。这类似于在关系数据库中对列的所有值求和会很慢，即使输出值只是一个数字。</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">查询序列限制</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">默认情况下，允许从 <code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">opensearch</code> 中查询到的最大的序列个数为 10000 。</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">单个序列查询点数限制</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">单个序列允许查询的最大的点数为 11000。</p>
<h2 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 34px; border-bottom: 1px solid #dbdbdb; color: #333;">2.4 限制与兼容性</h2>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">2.4.1 部署要求</h3>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">CPU架构依赖：amd64、arm64</li>
</ul>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">2.4.2 兼容性</h3>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">
<p style="line-height: 160%; box-sizing: content-box; color: #333; margin: 0;">语法上兼容ElasticSearch7.10查询语法</p>
</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">
<p style="line-height: 160%; box-sizing: content-box; color: #333; margin: 0;">版本上兼容AnyRobot-5.0.0及以后</p>
</li>
</ul>
<h1 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 41px; border-bottom: 3px double #999; color: #000;">第3章 术语及参考文献</h1>
<h2 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 34px; border-bottom: 1px solid #dbdbdb; color: #333;">3.1 术语说明</h2>
<table style="margin: 2px 0 14px; color: #333; width: auto; border-collapse: collapse; box-sizing: border-box;"><thead style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">中文简体</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">中文繁体</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">英文</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">注释</th></tr></thead><tbody style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">-</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">-</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">RESTful API</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">一种分布式应用的架构风格，也是一种大流量分布式应用的设计方法论</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">超文本传输协议</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">超文本傳輸協議</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">HTTP</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">网络通信中的应用层协议</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">超文本传输安全协议</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">超文本傳輸安全協議</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">HTTPS</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">由 SSL+HTTP 协议构建的可进行加密传输、身份认证的网络协议，要比HTTP协议安全，可防止数据在传输过程中被窃取、改变，确保数据的完整性</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">-</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">-</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">DSL</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">领域特定语言（英语：domain-specific   language、DSL）指的是专注于某个应用程序领域的计算机语言</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">-</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">-</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">JSON</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">JSON（JavaScript   Object Notation, JS 对象简谱）是一种轻量级的数据交换格式。它基于 ECMAScript (欧洲计算机协会制定的js规范)的一个子集，采用完全独立于编程语言的文本格式来存储和表示数据</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">-</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">-</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">PromQL</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">Prometheus 查询语言（英语：Prometheus Query Language、PromQL）允许用户查询和聚合时间序列类型的数据</td></tr></tbody></table>
</div><center style="display:none !important;visibility:collapse !important;height:0 !important;white-space:nowrap;width:100%;overflow:hidden">%23%20Uniquery%0A%0A%23%20%E7%AC%AC1%E7%AB%A0%20%E8%83%8C%E6%99%AF%0A%0AAnyRobot%20Eyes%20%E6%8F%90%E4%BE%9B%E4%BB%8E%E6%95%B0%E6%8D%AE%E7%94%9F%E6%88%90%E3%80%81%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86%E5%88%B0%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%E3%80%81%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2%E4%B8%80%E7%B3%BB%E5%88%97%E7%BB%84%E4%BB%B6%EF%BC%8C%E5%B8%AE%E5%8A%A9%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E7%9A%84%E5%8F%AF%E8%A7%82%E6%B5%8B%E6%80%A7%E3%80%82%E6%9C%AC%E6%96%87%E6%A1%A3%E6%97%A8%E5%9C%A8%E8%AE%B2%E8%A7%A3%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2%E7%BB%84%E4%BB%B6UniQuery%E3%80%82%0A%0A%23%20%E7%AC%AC2%E7%AB%A0%20%E7%BB%9F%E4%B8%80%E6%9F%A5%E8%AF%A2UniQuery%0A%0A%23%23%202.1%20%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86%0A%0A%23%23%23%202.1.1%20%E6%A6%82%E8%A7%88%0A%0AUniQuery%E6%98%AF%E4%B8%80%E4%B8%AA%E5%9F%BA%E4%BA%8EOpenSearch%E7%9A%84%E6%9F%A5%E8%AF%A2%E6%9C%8D%E5%8A%A1%EF%BC%8C%E4%B8%BA%E7%94%A8%E6%88%B7%E6%8F%90%E4%BE%9B%E7%BB%93%E6%9E%84%E5%8C%96%E3%80%81%E9%9D%9E%E7%BB%93%E6%9E%84%E5%8C%96%E6%96%87%E6%9C%AC%E7%9A%84%E5%A4%9A%E6%9D%A1%E4%BB%B6%E6%A3%80%E7%B4%A2%E3%80%81%E7%BB%9F%E8%AE%A1%E3%80%81%E5%88%86%E6%9E%90%E6%9C%8D%E5%8A%A1%EF%BC%8C%E6%94%AF%E6%8C%81%E5%A4%9A%E7%A7%8D%E6%8E%A5%E5%8F%A3%E5%8D%8F%E8%AE%AE%EF%BC%8C%E6%9C%89%E9%99%90%E5%85%BC%E5%AE%B9OpenSearch%E7%9A%84%E5%8E%9F%E7%94%9F%E6%8E%A5%E5%8F%A3%E3%80%82%0A%0AOpenSearch%E6%98%AF%E4%B8%80%E4%B8%AA%E5%9F%BA%E4%BA%8ELucene%E7%9A%84%E5%88%86%E5%B8%83%E5%BC%8F%E5%BC%80%E6%BA%90%E6%90%9C%E7%B4%A2%E5%92%8C%E5%88%86%E6%9E%90%E5%BC%95%E6%93%8E%EF%BC%8C%E8%B5%B7%E5%88%9D%E6%BA%90%E4%BA%8EElasticSearch7.10.2%E7%9A%84%E5%BC%80%E6%BA%90%E5%88%86%E6%94%AF%EF%BC%8C%E5%9C%A8%E7%9B%AE%E5%89%8D%E7%9A%84%E7%89%88%E6%9C%AC%E4%B8%AD%E5%AE%8C%E5%85%A8%E5%85%BC%E5%AE%B9ElasticSearch%E3%80%82%0A%0A%23%23%23%202.1.2%20%E7%9B%B8%E5%85%B3%E6%8A%80%E6%9C%AF%0A%0A%23%23%23%23%202.1.2.1%20HTTPS%0A%0A%23%23%23%23%23%20%E5%AE%9A%E4%B9%89%0A%0AHTTPS%E5%8D%8F%E8%AE%AE%E6%98%AF%E7%94%B1HTTP%E5%8A%A0%E4%B8%8ATLS%2FSSL%E5%8D%8F%E8%AE%AE%E6%9E%84%E5%BB%BA%E7%9A%84%E5%8F%AF%E8%BF%9B%E8%A1%8C%E5%8A%A0%E5%AF%86%E4%BC%A0%E8%BE%93%E3%80%81%E8%BA%AB%E4%BB%BD%E8%AE%A4%E8%AF%81%E7%9A%84%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%EF%BC%8C%E4%B8%BB%E8%A6%81%E9%80%9A%E8%BF%87%E6%95%B0%E5%AD%97%E8%AF%81%E4%B9%A6%E3%80%81%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95%E3%80%81%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%AF%86%E9%92%A5%E7%AD%89%E6%8A%80%E6%9C%AF%E5%AE%8C%E6%88%90%E4%BA%92%E8%81%94%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E5%8A%A0%E5%AF%86%EF%BC%8C%E5%AE%9E%E7%8E%B0%E4%BA%92%E8%81%94%E7%BD%91%E4%BC%A0%E8%BE%93%E5%AE%89%E5%85%A8%E4%BF%9D%E6%8A%A4%E3%80%82%0A%0A%23%23%23%23%23%20%E4%BC%98%E7%82%B9%0A%0A%2B%20%E6%95%B0%E6%8D%AE%E4%BF%9D%E5%AF%86%E6%80%A7%EF%BC%9A%E4%BF%9D%E8%AF%81%E6%95%B0%E6%8D%AE%E5%86%85%E5%AE%B9%E5%9C%A8%E4%BC%A0%E8%BE%93%E7%9A%84%E8%BF%87%E7%A8%8B%E4%B8%AD%E4%B8%8D%E4%BC%9A%E8%A2%AB%E7%AC%AC%E4%B8%89%E6%96%B9%E6%9F%A5%E7%9C%8B%EF%BC%9B%0A%2B%20%E6%95%B0%E6%8D%AE%E5%AE%8C%E6%95%B4%E6%80%A7%EF%BC%9A%E5%8F%8A%E6%97%B6%E5%8F%91%E7%8E%B0%E8%A2%AB%E7%AC%AC%E4%B8%89%E6%96%B9%E7%AF%A1%E6%94%B9%E7%9A%84%E4%BC%A0%E8%BE%93%E5%86%85%E5%AE%B9%EF%BC%9B%0A%2B%20%E6%95%B0%E6%8D%AE%E5%AE%8C%E6%95%B4%E6%80%A7%EF%BC%9A%E5%8F%8A%E6%97%B6%E5%8F%91%E7%8E%B0%E8%A2%AB%E7%AC%AC%E4%B8%89%E6%96%B9%E7%AF%A1%E6%94%B9%E7%9A%84%E4%BC%A0%E8%BE%93%E5%86%85%E5%AE%B9%E3%80%82%0A%0A%23%23%23%23%23%20%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%0A%0A%7C%20%E6%96%B9%E6%B3%95%20%20%20%7C%20%E8%AF%B4%E6%98%8E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20------%20%7C%20---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------%20%7C%0A%7C%20GET%20%20%20%20%7C%20GET%E8%AF%B7%E6%B1%82%E7%94%A8%E4%BA%8E%E4%BB%8E%E6%9C%8D%E5%8A%A1%E7%AB%AF%E8%8E%B7%E5%8F%96%E5%85%B3%E4%BA%8E%E8%B5%84%E6%BA%90%E7%9A%84%E4%BF%A1%E6%81%AF%E3%80%82%E8%BF%99%E4%BA%9B%E4%BF%A1%E6%81%AF%E5%B0%86%E4%BB%A5%E6%8A%A5%E5%A4%B4%EF%BC%88headers%EF%BC%89%E5%92%8C%E8%A1%A8%E7%A4%BA%EF%BC%88representation%EF%BC%89%E7%9A%84%E5%BD%A2%E5%BC%8F%E8%BF%94%E5%9B%9E%E7%BB%99%E5%AE%A2%E6%88%B7%E7%AB%AF%EF%BC%9B%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%9C%A8%E5%8F%91%E9%80%81GET%E8%AF%B7%E6%B1%82%E6%97%B6%E4%B8%8D%E9%9C%80%E6%8F%90%E4%BE%9B%E8%A1%A8%E7%A4%BA%EF%BC%88representation%EF%BC%89%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20POST%20%20%20%7C%20POST%E8%AF%B7%E6%B1%82%E7%9A%84%E4%BD%9C%E7%94%A8%E6%98%AF%E4%B8%BA%E5%B7%B2%E6%9C%89%E8%B5%84%E6%BA%90%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E4%BB%8E%E5%B1%9E%E8%B5%84%E6%BA%90%E3%80%82%E8%BF%99%E9%87%8C%E7%9A%84%E5%B7%B2%E6%9C%89%E8%B5%84%E6%BA%90%EF%BC%8C%E5%8F%AF%E4%BB%A5%E6%98%AF%E6%96%B0%E5%BB%BA%E8%B5%84%E6%BA%90%E5%9C%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E6%84%8F%E4%B9%89%E4%B8%8A%E7%9A%84%E7%88%B6%E8%B5%84%E6%BA%90%EF%BC%88%E5%B0%B1%E5%83%8F%E6%A0%91%E6%A0%B9%E4%B8%8E%E6%A0%91%E5%8F%B6%E7%9A%84%E5%85%B3%E7%B3%BB%EF%BC%89%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E6%98%AF%E4%B8%80%E4%B8%AA%E4%B8%93%E9%97%A8%E7%94%A8%E4%BA%8E%E7%94%9F%E6%88%90%E5%85%B6%E4%BB%96%E8%B5%84%E6%BA%90%E7%9A%84%E2%80%9C%E5%B7%A5%E5%8E%82%EF%BC%88factory%EF%BC%89%E2%80%9D%E8%B5%84%E6%BA%90%E3%80%82POST%E8%AF%B7%E6%B1%82%E6%89%80%E6%90%BA%E5%B8%A6%E7%9A%84%E8%A1%A8%E7%A4%BA%EF%BC%88representation%EF%BC%89%E6%8F%8F%E8%BF%B0%E4%BA%86%E8%AF%A5%E6%96%B0%E8%B5%84%E6%BA%90%E7%9A%84%E5%88%9D%E5%A7%8B%E7%8A%B6%E6%80%81%20%7C%0A%7C%20PUT%20%20%20%20%7C%20PUT%E8%AF%B7%E6%B1%82%E7%94%A8%E4%BA%8E%E8%AE%BE%E5%AE%9A%E8%B5%84%E6%BA%90%E7%8A%B6%E6%80%81%E3%80%82%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%80%9A%E5%B8%B8%E4%BC%9A%E5%9C%A8%E5%8F%91%E9%80%81PUT%E8%AF%B7%E6%B1%82%E6%97%B6%E6%8F%90%E4%BE%9B%E4%B8%80%E4%B8%AA%E8%A1%A8%E7%A4%BA%EF%BC%8C%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B0%86%E6%A0%B9%E6%8D%AE%E6%AD%A4%E8%A1%A8%E7%A4%BA%E6%9D%A5%E5%88%9B%E5%BB%BA%E6%88%96%E4%BF%AE%E6%94%B9%E8%B5%84%E6%BA%90%E7%9A%84%E7%8A%B6%E6%80%81%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20DELETE%20%7C%20DELETE%E8%AF%B7%E6%B1%82%E7%94%A8%E4%BA%8E%E5%88%A0%E9%99%A4%E8%B5%84%E6%BA%90%E3%80%82%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%9C%A8%E5%8F%91%E9%80%81DELETE%E8%AF%B7%E6%B1%82%E6%97%B6%E6%97%A0%E9%9C%80%E6%8F%90%E4%BE%9B%E8%A1%A8%E7%A4%BA%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20HEAD%20%20%20%7C%20%E4%B8%8EGET%E7%B1%BB%E4%BC%BC%EF%BC%8C%E4%B8%8D%E5%90%8C%E7%82%B9%E5%9C%A8%E4%BA%8EHEAD%E5%8F%AA%E8%BF%94%E5%9B%9E%E6%8A%A5%E5%A4%B4%E3%80%81%E4%B8%8D%E8%BF%94%E5%9B%9E%E8%A1%A8%E7%A4%BA%EF%BC%88representation%EF%BC%89%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%0A%23%23%23%23%23%20%E7%8A%B6%E6%80%81%E7%A0%81%0A%0A%7C%20%E7%8A%B6%E6%80%81%E7%A0%81%20%20%7C%20%E4%BD%9C%E7%94%A8%E6%8F%8F%E8%BF%B0%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20-------%20%7C%20--------------------------------------------------------------------------------------------------------------------------------------%20%7C%0A%7C%20200-299%20%7C%20%E6%88%90%E5%8A%9F%E7%8A%B6%E6%80%81%E7%A0%81%EF%BC%9A%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B7%B2%E6%8E%A5%E6%94%B6%E5%88%B0%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%8F%91%E9%80%81%E7%9A%84%E8%AF%B7%E6%B1%82%EF%BC%8C%E8%AF%A5%E8%AF%B7%E6%B1%82%E5%B7%B2%E5%AE%8C%E6%88%90%E6%88%96%E6%AD%A3%E5%9C%A8%E5%AE%8C%E6%88%90%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20300-399%20%7C%20%E9%87%8D%E5%AE%9A%E5%90%91%E7%8A%B6%E6%80%81%E7%A0%81%EF%BC%9A%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B7%B2%E6%8E%A5%E6%94%B6%E5%88%B0%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%8F%91%E9%80%81%E7%9A%84%E8%AF%B7%E6%B1%82%EF%BC%8C%E4%BD%86%E6%98%AF%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%BF%85%E9%A1%BB%E9%87%87%E5%8F%96%E8%BF%9B%E4%B8%80%E6%AD%A5%E7%9A%84%E6%8E%AA%E6%96%BD%E6%89%8D%E8%83%BD%E5%AE%8C%E6%88%90%E8%AF%B7%E6%B1%82%E3%80%82%E9%80%9A%E5%B8%B8%E5%8C%85%E6%8B%AC%E9%87%8D%E5%AE%9A%E5%90%91%E5%88%B0%E5%85%B6%E4%BB%96URL%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20400-499%20%7C%20%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%94%99%E8%AF%AF%E7%8A%B6%E6%80%81%E7%A0%81%EF%BC%9A%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82%E6%97%B6%EF%BC%8C%E5%8F%91%E7%94%9F%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%94%99%E8%AF%AF%EF%BC%8C%E9%80%9A%E5%B8%B8%E6%98%AF%E5%9B%A0%E4%B8%BA%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%9C%AA%E6%8F%90%E4%BE%9B%E6%AD%A3%E7%A1%AE%E7%9A%84%E5%8F%82%E6%95%B0%EF%BC%8C%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AE%E8%B5%84%E6%BA%90%E6%88%96%E8%AF%95%E5%9B%BE%E6%89%A7%E8%A1%8C%E5%8E%9F%E6%9C%AC%E6%97%A0%E6%B3%95%E6%89%A7%E8%A1%8C%E7%9A%84%E6%93%8D%E4%BD%9C%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20500-599%20%7C%20%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%94%99%E8%AF%AF%E7%8A%B6%E6%80%81%E7%A0%81%EF%BC%9A%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B7%B2%E6%8E%A5%E6%94%B6%E5%88%B0%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%8F%91%E9%80%81%E7%9A%84%E8%AF%B7%E6%B1%82%EF%BC%8C%E4%BD%86%E6%98%AF%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%9C%A8%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82%E6%97%B6%E5%8F%91%E7%94%9F%E4%BA%86%E9%94%99%E8%AF%AF%E3%80%82%E8%BF%99%E4%BA%9B%E9%94%99%E8%AF%AF%E8%A1%A8%E7%A4%BA%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%87%BA%E7%8E%B0%E9%97%AE%E9%A2%98%EF%BC%8C%E8%80%8C%E4%B8%8D%E6%98%AF%E5%AE%A2%E6%88%B7%E8%AF%B7%E6%B1%82%E5%87%BA%E7%8E%B0%E9%97%AE%E9%A2%98%20%7C%0A%0A%23%23%23%23%202.1.2.2%20Restful%0A%0A%23%23%23%23%23%20%E5%AE%9A%E4%B9%89%0A%0A%2B%20REST%E6%98%AF%E4%B8%80%E7%A7%8D%E5%88%86%E5%B8%83%E5%BC%8F%E5%BA%94%E7%94%A8%E7%9A%84%E6%9E%B6%E6%9E%84%E9%A3%8E%E6%A0%BC%EF%BC%8C%E4%B9%9F%E6%98%AF%E4%B8%80%E7%A7%8D%E5%A4%A7%E6%B5%81%E9%87%8F%E5%88%86%E5%B8%83%E5%BC%8F%E5%BA%94%E7%94%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E6%96%B9%E6%B3%95%E8%AE%BA%EF%BC%9B%0A%0A%2B%20REST%E6%98%AFWeb%E6%9C%AC%E8%BA%AB%E7%9A%84%E6%9E%B6%E6%9E%84%E9%A3%8E%E6%A0%BC%EF%BC%8C%E6%98%AF%E8%AE%BE%E8%AE%A1%E3%80%81%E5%BC%80%E5%8F%91Web%E7%9B%B8%E5%85%B3%E8%A7%84%E8%8C%83%E3%80%81Web%E5%BA%94%E7%94%A8%E3%80%81Web%E6%9C%8D%E5%8A%A1%E7%9A%84%E6%8C%87%E5%AF%BC%E5%8E%9F%E5%88%99%E3%80%82%0A%0A%23%23%23%23%23%20%E7%89%B9%E5%BE%81%0A%0A!%5Bimage%5D(images%2Frestful_features.png)%0A%0A%2B%20%E5%8F%AF%E5%AF%BB%E5%9D%80%E6%80%A7%EF%BC%9A%E5%A6%82%E6%9E%9C%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%B0%86%E5%85%B6%E6%95%B0%E6%8D%AE%E9%9B%86%E9%87%8C%E6%9C%89%E4%BB%B7%E5%80%BC%E9%83%A8%E5%88%86%E4%BD%9C%E4%B8%BA%E8%B5%84%E6%BA%90%EF%BC%88resource%EF%BC%89%E5%8F%91%E5%B8%83%E5%87%BA%E6%9D%A5%EF%BC%8C%E9%82%A3%E4%B9%88%E8%AF%A5%E5%BA%94%E7%94%A8%E5%B0%B1%E6%98%AF%E5%8F%AF%E5%AF%BB%E5%9D%80%E7%9A%84%EF%BC%88addressable%EF%BC%89%E3%80%82%E5%8D%B3%EF%BC%8C%E6%AF%8F%E4%B8%AA%E8%B5%84%E6%BA%90%E7%9A%84URI%EF%BC%88%E7%BB%9F%E4%B8%80%E8%B5%84%E6%BA%90%E6%A0%87%E8%AF%86%E7%AC%A6%EF%BC%89%E6%98%AF%E5%94%AF%E4%B8%80%E7%9A%84%EF%BC%9B%0A%2B%20%E7%BB%9F%E4%B8%80%E6%8E%A5%E5%8F%A3%EF%BC%9A%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%B8%8E%E8%B5%84%E6%BA%90%E4%B9%8B%E9%97%B4%E7%9A%84%E6%89%80%E6%9C%89%E4%BA%A4%E4%BA%92%EF%BC%8C%E9%80%9A%E8%BF%87HTTP%E6%96%B9%E6%B3%95%E6%9D%A5%E7%A1%AE%E5%AE%9A%E5%B9%B6%E5%AE%8C%E6%88%90%E5%AF%B9%E8%B5%84%E6%BA%90%E7%9A%84%E6%93%8D%E4%BD%9C%EF%BC%9B%0A%2B%20%E6%97%A0%E7%8A%B6%E6%80%81%E6%80%A7%EF%BC%9A%E4%B8%80%E4%B8%AAREST%E5%BC%8F%E6%9C%8D%E5%8A%A1%E4%BB%8E%E4%B8%8D%E4%BF%9D%E5%AD%98%E4%BB%BB%E4%BD%95%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%9C%A8%E5%BA%94%E7%94%A8%E4%B8%AD%E6%89%80%E5%A4%84%E7%8A%B6%E6%80%81%E7%9A%84%E4%BF%A1%E6%81%AF%EF%BC%8C%E6%9C%8D%E5%8A%A1%E5%B0%B1%E4%BC%9A%E6%8C%89%E5%BD%93%E5%89%8D%E7%9A%84%E8%B5%84%E6%BA%90%E7%8A%B6%E6%80%81%EF%BC%88%E8%B5%84%E6%BA%90%E7%9A%84%E4%BF%A1%E6%81%AF%EF%BC%89%E6%9D%A5%E7%8B%AC%E7%AB%8B%E5%A4%84%E7%90%86%E5%90%84%E4%B8%AA%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%AF%B7%E6%B1%82%EF%BC%9B%0A%2B%20%E8%BF%9E%E9%80%9A%E6%80%A7%EF%BC%9A%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%80%9A%E8%BF%87%E8%B5%84%E6%BA%90%E5%BD%93%E5%89%8D%E7%9A%84%E7%8A%B6%E6%80%81%E4%BF%A1%E6%81%AF%E7%BB%99%E5%87%BA%E9%93%BE%E6%8E%A5%E4%B8%8E%E8%A1%A8%E5%8D%95%E6%9D%A5%E5%BC%95%E5%AF%BC%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%9C%A8%E5%BA%94%E7%94%A8%E4%B8%AD%E6%89%80%E5%A4%84%E7%8A%B6%E6%80%81%E7%9A%84%E4%BF%A1%E6%81%AF%E7%9A%84%E5%8F%98%E8%BF%81%E3%80%82%0A%0A%23%23%23%23%202.1.2.3%20JSON%0A%0A%23%23%23%23%23%20%E5%AE%9A%E4%B9%89%0A%0AContentBus%20API%20HTTP%E8%AF%B7%E6%B1%82%E5%8F%8A%E5%93%8D%E5%BA%94body%E4%B8%AD%E7%9A%84%E5%8F%82%E6%95%B0%E5%A4%A7%E9%83%A8%E5%88%86%E4%BD%BF%E7%94%A8JSON%E6%A0%BC%E5%BC%8F%EF%BC%8CJSON(JavaScript%20Object%20Notation)%E6%98%AF%E4%B8%80%E7%A7%8D%E8%BD%BB%E9%87%8F%E7%BA%A7%E7%9A%84%E6%95%B0%E6%8D%AE%E4%BA%A4%E6%8D%A2%E6%A0%BC%E5%BC%8F%E3%80%82%E7%AE%80%E6%B4%81%E5%92%8C%E6%B8%85%E6%99%B0%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84%E4%BD%BF%E5%BE%97JSON%E6%88%90%E4%B8%BA%E7%90%86%E6%83%B3%E7%9A%84%E6%95%B0%E6%8D%AE%E4%BA%A4%E6%8D%A2%E8%AF%AD%E8%A8%80%E3%80%82%E6%98%93%E4%BA%8E%E4%BA%BA%E9%98%85%E8%AF%BB%E5%92%8C%E7%BC%96%E5%86%99%EF%BC%8C%E5%90%8C%E6%97%B6%E4%B9%9F%E6%98%93%E4%BA%8E%E6%9C%BA%E5%99%A8%E8%A7%A3%E6%9E%90%E5%92%8C%E7%94%9F%E6%88%90%EF%BC%8C%E5%B9%B6%E6%9C%89%E6%95%88%E5%9C%B0%E6%8F%90%E5%8D%87%E7%BD%91%E7%BB%9C%E4%BC%A0%E8%BE%93%E6%95%88%E7%8E%87%E3%80%82%0A%0A%23%23%23%23%23%20%E7%89%B9%E5%BE%81%0A%0A%2B%20%E5%8F%AF%E8%AF%BB%E6%80%A7%EF%BC%9A%E6%95%B0%E6%8D%AE%E6%A0%BC%E5%BC%8F%E6%AF%94%E8%BE%83%E7%AE%80%E5%8D%95%EF%BC%8C%E6%98%93%E4%BA%8E%E8%AF%BB%E5%86%99%EF%BC%9B%E6%A0%BC%E5%BC%8F%E5%8E%8B%E7%BC%A9%EF%BC%8C%E5%8D%A0%E7%94%A8%E5%B8%A6%E5%AE%BD%E8%BE%83%E5%B0%8F%EF%BC%9B%0A%0A%2B%20%E8%A7%A3%E6%9E%90%E9%9A%BE%E5%BA%A6%EF%BC%9A%E6%98%93%E4%BA%8E%E8%A7%A3%E6%9E%90%E8%BF%99%E7%A7%8D%E8%AF%AD%E8%A8%80%EF%BC%8C%E5%AE%A2%E6%88%B7%E7%AB%AFJavaScript%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%20eval()%20%E8%BF%9B%E8%A1%8CJSON%E6%95%B0%E6%8D%AE%E7%9A%84%E8%AF%BB%E5%8F%96%EF%BC%9B%0A%2B%20%E8%AF%AD%E8%A8%80%E6%94%AF%E6%8C%81%EF%BC%9A%E6%94%AF%E6%8C%81%E5%A4%9A%E7%A7%8D%E8%AF%AD%E8%A8%80%EF%BC%8C%E5%8C%85%E6%8B%ACActionScript%EF%BC%8CC%EF%BC%8CC%23%EF%BC%8CColdFusion%EF%BC%8CJava%EF%BC%8CJavaScript%EF%BC%8CPerl%EF%BC%8Cphp%EF%BC%8CPython%EF%BC%8CRuby%E7%AD%89%E8%AF%AD%E8%A8%80%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E8%AF%AD%E8%A8%80%EF%BC%8C%E4%BE%BF%E4%BA%8E%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E7%9A%84%E8%A7%A3%E6%9E%90%EF%BC%9B%0A%2B%20%E7%BB%B4%E6%8A%A4%E6%80%A7%EF%BC%9AJSON%E6%A0%BC%E5%BC%8F%E8%83%BD%E5%A4%9F%E7%9B%B4%E6%8E%A5%E4%B8%BA%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E4%BB%A3%E7%A0%81%E4%BD%BF%E7%94%A8%EF%BC%8C%E5%A4%A7%E5%A4%A7%E7%AE%80%E5%8C%96%E4%BA%86%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E5%92%8C%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%9A%84%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91%E9%87%8F%EF%BC%8C%E4%BD%86%E6%98%AF%E5%AE%8C%E6%88%90%E7%9A%84%E4%BB%BB%E5%8A%A1%E4%B8%8D%E5%8F%98%EF%BC%8C%E4%B8%94%E6%98%93%E4%BA%8E%E7%BB%B4%E6%8A%A4%E3%80%82%0A%0A%23%23%202.2%20DSL%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80%0A%0A%23%23%23%202.2.1%20%E5%AE%9A%E4%B9%89%0A%0A%E9%A2%86%E5%9F%9F%E7%89%B9%E5%AE%9A%E8%AF%AD%E8%A8%80%EF%BC%88%E8%8B%B1%E8%AF%AD%EF%BC%9Adomain-specific%20language%E7%AE%80%E5%86%99%E4%B8%BADSL%EF%BC%89%E6%8C%87%E7%9A%84%E6%98%AF%E4%B8%93%E6%B3%A8%E4%BA%8E%E6%9F%90%E4%B8%AA%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E9%A2%86%E5%9F%9F%E7%9A%84%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80%E3%80%82%E5%8F%88%E8%AF%91%E4%BD%9C%E9%A2%86%E5%9F%9F%E4%B8%93%E7%94%A8%E8%AF%AD%E8%A8%80%E3%80%82%E4%B8%8D%E5%90%8C%E4%BA%8E%E6%99%AE%E9%80%9A%E7%9A%84%E8%B7%A8%E9%A2%86%E5%9F%9F%E9%80%9A%E7%94%A8%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80(GPL)%EF%BC%8C%E9%A2%86%E5%9F%9F%E7%89%B9%E5%AE%9A%E8%AF%AD%E8%A8%80%E5%8F%AA%E7%94%A8%E5%9C%A8%E6%9F%90%E4%BA%9B%E7%89%B9%E5%AE%9A%E7%9A%84%E9%A2%86%E5%9F%9F%E3%80%82%0A%0A%E5%9C%A8OpenSearch%E4%B8%AD%EF%BC%8C%E6%8F%90%E4%BE%9B%E4%BA%86%E5%9F%BA%E4%BA%8ERestful%E9%A3%8E%E6%A0%BC%E7%9A%84json%E6%A0%BC%E5%BC%8FDSL%E8%AF%AD%E8%A8%80%E6%9D%A5%E5%AE%9A%E4%B9%89%E6%9F%A5%E8%AF%A2%EF%BC%8C%E5%8A%9F%E8%83%BD%E4%B8%B0%E5%AF%8C%E4%B8%94%E5%85%B7%E6%9C%89%E5%A4%9A%E7%A7%8D%E8%A1%A8%E8%BE%BE%E5%BD%A2%E5%BC%8F%EF%BC%8C%E8%83%BD%E5%A4%9F%E6%BB%A1%E8%B6%B3Lucene%E7%9A%84%E7%BB%9D%E5%A4%A7%E9%83%A8%E5%88%86%E5%8A%9F%E8%83%BD%E3%80%82%0A%0A1.%20OpenSearch%E5%B0%86%E6%9F%A5%E8%AF%A2DSL%E8%A7%86%E4%B8%BA%E6%9F%A5%E8%AF%A2%E7%9A%84AST%EF%BC%88%E6%8A%BD%E8%B1%A1%E8%AF%AD%E6%B3%95%E6%A0%91%EF%BC%89%EF%BC%8C%E5%AE%83%E7%94%B1%E4%B8%A4%E7%A7%8D%E5%AD%90%E5%8F%A5%E7%BB%84%E6%88%90%EF%BC%9A%0A%0A%2B%20%E5%8F%B6%E5%AD%90%E6%9F%A5%E8%AF%A2%E5%AD%90%E5%8F%A5%EF%BC%9A%0A%20%20%2B%20%E5%8F%B6%E6%9F%A5%E8%AF%A2%E5%AD%90%E5%8F%A5%E4%B8%AD%E5%AF%BB%E6%89%BE%E4%B8%80%E4%B8%AA%E7%89%B9%E5%AE%9A%E7%9A%84%E5%80%BC%E5%9C%A8%E6%9F%90%E4%B8%80%E7%89%B9%E5%AE%9A%E9%A2%86%E5%9F%9F%EF%BC%8C%E5%A6%82%20match%EF%BC%8Cterm%E6%88%96%20range%E6%9F%A5%E8%AF%A2%E3%80%82%E8%BF%99%E4%BA%9B%E6%9F%A5%E8%AF%A2%E5%8F%AF%E4%BB%A5%E8%87%AA%E5%B7%B1%E4%BD%BF%E7%94%A8%E3%80%82%0A%2B%20%E5%A4%8D%E5%90%88%E6%9F%A5%E8%AF%A2%E5%AD%90%E5%8F%A5%0A%20%20%2B%20%E5%A4%8D%E5%90%88%E6%9F%A5%E8%AF%A2%E5%AD%90%E5%8F%A5%E5%8C%85%E8%A3%85%E5%85%B6%E4%BB%96%E5%8F%B6%E6%9F%A5%E8%AF%A2%E6%88%96%E5%A4%8D%E5%90%88%E6%9F%A5%E8%AF%A2%EF%BC%8C%E5%B9%B6%E7%94%A8%E4%BA%8E%E4%BB%A5%E9%80%BB%E8%BE%91%E6%96%B9%E5%BC%8F%E7%BB%84%E5%90%88%E5%A4%9A%E4%B8%AA%E6%9F%A5%E8%AF%A2%EF%BC%88%E4%BE%8B%E5%A6%82%20bool%E6%88%96dis%5C_max%E6%9F%A5%E8%AF%A2%EF%BC%89%EF%BC%8C%E6%88%96%E6%9B%B4%E6%94%B9%E5%85%B6%E8%A1%8C%E4%B8%BA%EF%BC%88%E4%BE%8B%E5%A6%82%20constant%5C_score%E6%9F%A5%E8%AF%A2%EF%BC%89%E3%80%82%E6%9F%A5%E8%AF%A2%E5%AD%90%E5%8F%A5%E7%9A%84%E8%A1%8C%E4%B8%BA%E4%BC%9A%E6%9C%89%E6%89%80%E4%B8%8D%E5%90%8C%EF%BC%8C%E5%85%B7%E4%BD%93%E5%8F%96%E5%86%B3%E4%BA%8E%E5%AE%83%E4%BB%AC%E6%98%AF%E5%9C%A8%20%E6%9F%A5%E8%AF%A2%E4%B8%8A%E4%B8%8B%E6%96%87%E4%B8%AD%E8%BF%98%E6%98%AF%E5%9C%A8%E8%BF%87%E6%BB%A4%E5%99%A8%E4%B8%8A%E4%B8%8B%E6%96%87%E4%B8%AD%E4%BD%BF%E7%94%A8%E3%80%82%0A%0A2.%20%E6%9F%A5%E8%AF%A2%E6%94%AF%E6%8C%81%E4%B8%A4%E7%A7%8D%E7%B1%BB%E5%9E%8B%EF%BC%9A%0A%0A%2B%20%E8%BF%87%E6%BB%A4%E6%9F%A5%E8%AF%A2%0A%20%20%2B%20%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%84%E5%A6%82%E4%B8%8B%EF%BC%9A%0A%0A%60%60%60json%0A%7B%0A%20%20%20%20%20%20%20%22query%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22bool%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22must%22%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22filter%22%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22must_not%22%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22should%22%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22minimum_should_match%22%3A%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%0A%7D%0A%60%60%60%0A%0A%2B%20%E7%BB%93%E6%9E%84%E8%AF%B4%E6%98%8E%EF%BC%9A%0A%0A%7C%20%E9%94%AE%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20%E7%B1%BB%E5%9E%8B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20%E5%90%AB%E4%B9%89%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20----------------------%20%7C%20------------------%20%7C%20------------------------------------------------------------------------------------------%20%7C%0A%7C%20query%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20json%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20%E5%AE%9A%E4%B9%89%E8%BF%87%E6%BB%A4%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20bool%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20json%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20%E5%AE%9A%E4%B9%89%E5%B8%83%E5%B0%94%E6%9F%A5%E8%AF%A2%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20must%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20json%2Farray(object)%20%7C%20%E5%AE%9A%E4%B9%89%E5%BF%85%E9%A1%BB%E5%8C%B9%E9%85%8D%E7%9A%84%E6%9D%A1%E4%BB%B6%2C%20%E7%AD%89%E5%90%8C%E4%BA%8EAND%EF%BC%8C%E5%8F%AF%E4%B8%BA%E6%95%B0%E7%BB%84%E6%88%96%E8%80%85json%E6%A0%BC%E5%BC%8F%E7%9A%84%E5%8D%95%E4%B8%AA%E6%9D%A1%E4%BB%B6%2C%E8%AF%A5%E8%AF%B7%E6%B1%82%E5%8C%85%E5%90%AB%E6%96%87%E6%A1%A3%E5%8C%B9%E9%85%8D%E5%BA%A6%E8%AF%84%E5%88%86%E6%9C%BA%E5%88%B6%20%7C%0A%7C%20must%5C_not%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20json%2Farray(object)%20%7C%20%E5%AE%9A%E4%B9%89%E5%BF%85%E9%A1%BB%E4%B8%8D%E5%8C%B9%E9%85%8D%E7%9A%84%E6%9D%A1%E4%BB%B6%2C%20%E7%AD%89%E5%90%8C%E4%BA%8ENOT%EF%BC%8C%E5%8F%AF%E4%B8%BA%E6%95%B0%E7%BB%84%E6%88%96%E8%80%85json%E6%A0%BC%E5%BC%8F%E7%9A%84%E5%8D%95%E4%B8%AA%E6%9D%A1%E4%BB%B6%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20filter%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20json%2Farray(object)%20%7C%20%E5%AE%9A%E4%B9%89%E5%BF%85%E9%A1%BB%E5%8C%B9%E9%85%8D%E7%9A%84%E6%9D%A1%E4%BB%B6%2C%E7%AD%89%E5%90%8C%E4%BA%8EAND%EF%BC%8C%E5%8F%AF%E4%B8%BA%E6%95%B0%E7%BB%84%E6%88%96%E8%80%85json%E6%A0%BC%E5%BC%8F%E7%9A%84%E5%8D%95%E4%B8%AA%E6%9D%A1%E4%BB%B6%EF%BC%8C%E8%AF%A5%E8%AF%B7%E6%B1%82%E4%B8%8D%E5%8C%85%E5%90%AB%E6%96%87%E6%A1%A3%E8%AF%84%E5%88%86%E6%9C%BA%E5%88%B6%E3%80%82%20%20%20%7C%0A%7C%20should%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20json%2Farray(object)%20%7C%20%E5%AE%9A%E4%B9%89%E5%8F%AF%E5%8C%B9%E9%85%8D%E7%9A%84%E6%9D%A1%E4%BB%B6%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20minimum%5C_should%5C_match%20%7C%20number%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20%E5%AE%9A%E4%B9%89should%E6%9D%A1%E4%BB%B6%E4%B8%AD%E9%9C%80%E8%A6%81%E5%8C%B9%E9%85%8D%E7%9A%84%E6%9D%A1%E4%BB%B6%E4%B8%AA%E6%95%B0%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%0A%2B%20%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2%E7%A4%BA%E4%BE%8B%0A%0A%E4%BB%A5%E4%B8%8B%7Bfield%5C_name%7D%E9%83%BD%E4%BB%A3%E8%A1%A8%E9%9C%80%E8%A6%81%E6%9F%A5%E8%AF%A2%E7%9A%84%E5%B1%9E%E6%80%A7%E5%90%8D%E7%A7%B0%EF%BC%8C%E6%A0%B9%E6%8D%AE%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84%E5%AE%9A%E4%B9%89%E3%80%82%0A%0A%20%20%20%20%20%20*%20%E6%97%B6%E9%97%B4%E8%8C%83%E5%9B%B4%E8%BF%87%E6%BB%A4%EF%BC%9A%0A%0A%60%60%60json%0A%7B%0A%20%20%20%20%22range%22%3A%7B%0A%20%20%20%20%20%20%20%20%7Bfield_name%7D%3A%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22format%22%3A%22epoch_millis%7C%7Cyyyy-MM-dd%20HH%3Amm%3Ass%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22gte%22%3A%222021-07-01T01%3A49%3A10.893Z%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22lt%22%3A%222021-07-08T01%3A49%3A10.893Z%22%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%60%60%60%0A%0A%C2%9F%C2%A0%20format%EF%BC%9A%E6%8C%87%E5%AE%9A%E6%97%B6%E9%97%B4%E8%A7%A3%E6%9E%90%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%A0%BC%E5%BC%8F%EF%BC%8C%E4%BB%A5%E4%B8%8A%E8%BF%B0%E4%B8%BA%E4%BE%8B%EF%BC%8C%E4%BB%A3%E8%A1%A8gte%E5%92%8Clt%E4%B8%AD%E7%9A%84%E6%97%B6%E9%97%B4%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%BB%A5format%E4%B8%AD%E7%9A%84%E6%A0%BC%E5%BC%8F%E8%A7%A3%E6%9E%90%EF%BC%8C%E4%B8%8E%E5%AD%98%E5%82%A8%E7%9A%84%E5%AD%97%E6%AE%B5%E6%A0%BC%E5%BC%8F%E6%97%A0%E5%85%B3%EF%BC%9B%0A%0A%C2%9F%C2%A0%20gte%EF%BC%9A%E5%BC%80%E5%A7%8B%E7%9A%84%E6%97%B6%E9%97%B4%EF%BC%8C%E5%8C%85%E5%90%AB%E8%BE%B9%E7%95%8C%EF%BC%9B%0A%0A%C2%9F%C2%A0%20lt%EF%BC%9A%E7%BB%93%E6%9D%9F%E7%9A%84%E6%97%B6%E9%97%B4%EF%BC%8C%E4%B8%8D%E5%8C%85%E5%90%AB%E8%BE%B9%E7%95%8C%EF%BC%8C%E8%8B%A5%E9%9C%80%E8%A6%81%E5%8C%85%E5%90%AB%E8%BE%B9%E7%95%8C%EF%BC%8C%E5%8F%AF%E6%94%B9%E4%B8%BAlte%E3%80%82%0A%0A%20%20%20%20%20%20*%20%E6%95%B0%E5%80%BC%E8%8C%83%E5%9B%B4%E8%BF%87%E6%BB%A4%EF%BC%9A%0A%0A%60%60%60json%0A%7B%0A%20%20%20%20%22range%22%3A%7B%0A%20%20%20%20%20%20%20%20%7Bfield_name%7D%3A%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22gte%22%3A20%2C%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%7Bvalue_name%7D%E7%9A%84%E8%8C%83%E5%9B%B4%E4%B8%8A%E7%95%8C%EF%BC%8C%E5%8C%85%E5%90%AB%E8%BE%B9%E7%95%8C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22lt%22%3A40%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%7Bvalue_name%7D%E7%9A%84%E8%8C%83%E5%9B%B4%E4%B8%8B%E7%95%8C%EF%BC%8C%E4%B8%8D%E5%8C%85%E5%90%AB%E8%BE%B9%E7%95%8C%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%60%60%60%0A%0A%20%20%20%20%20%20*%20%E5%AD%97%E6%AE%B5%E5%80%BC%E8%BF%87%E6%BB%A4%EF%BC%9A%0A%0AMatch%EF%BC%9A%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2%EF%BC%8C%E9%80%9A%E5%B8%B8%E7%94%A8%E4%BA%8E%E5%AF%B9text%E7%B1%BB%E5%9E%8B%E5%AD%97%E6%AE%B5%E7%9A%84%E6%9F%A5%E8%AF%A2%2C%E4%BC%9A%E5%AF%B9%E8%BF%9B%E8%A1%8C%E6%9F%A5%E8%AF%A2%E7%9A%84%E6%96%87%E6%9C%AC%E5%85%88%E8%BF%9B%E8%A1%8C%E5%88%86%E8%AF%8D%E6%93%8D%E4%BD%9C%EF%BC%9B%0A%0A!%5Bimage%5D(images%2Ffuzzy_matching_query.png)%0A%0ATerm%EF%BC%9A%E7%B2%BE%E7%A1%AE%E6%9F%A5%E8%AF%A2%EF%BC%8C%E9%80%9A%E5%B8%B8%E7%94%A8%E4%BA%8E%E5%AF%B9keyword%E5%92%8C%E6%9C%89%E7%B2%BE%E7%A1%AE%E5%80%BC%E7%9A%84%E5%AD%97%E6%AE%B5%E8%BF%9B%E8%A1%8C%E6%9F%A5%E8%AF%A2%2C%E4%B8%8D%E4%BC%9A%E5%AF%B9%E8%BF%9B%E8%A1%8C%E6%9F%A5%E8%AF%A2%E7%9A%84%E6%96%87%E6%9C%AC%E8%BF%9B%E8%A1%8C%E5%88%86%E8%AF%8D%E6%93%8D%E4%BD%9C%0A%0A!%5Bimage%5D(images%2Fterm_level_query.png)%0A%0A%E8%AF%B4%E6%98%8E%EF%BC%9A%7Bvalue%7D%E4%BB%A3%E8%A1%A8%E4%B8%BA%E5%AD%97%E6%AE%B5%E8%BF%87%E6%BB%A4%E7%9A%84%E5%80%BC%E3%80%82%0A%0A%20%20%20%20%20%20*%20%E5%8D%95%E5%80%BC%E8%BF%87%E6%BB%A4%0A%0A%60%60%60json%0A%7B%0A%20%20%20%20%22term%22%3A%7B%0A%20%20%20%20%20%20%20%20%7Bfield_name%7D%3A%7Bvalue%7D%0A%20%20%20%20%7D%0A%7D%0A%7B%0A%20%20%20%20%22match%22%3A%7B%0A%20%20%20%20%20%20%20%20%7Bfield_name%7D%3A%7Bvalue%7D%0A%20%20%20%20%7D%0A%7D%0A%60%60%60%0A%0A%20%20%20%20%20%20*%20%E5%A4%9A%E5%80%BC%E8%BF%87%E6%BB%A4%0A%0A%60%60%60json%0A%7B%0A%20%20%20%20%22terms%22%3A%7B%0A%20%20%20%20%20%20%20%20%7Bfield_name%7D%3A%5B%7Bvalue1%7D%2C%7Bvalue2%7D%5D%0A%20%20%20%20%7D%0A%7D%0A%60%60%60%0A%0A%E8%AF%B4%E6%98%8E%EF%BC%9A%E8%8B%A5field%E4%B8%BA%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B%EF%BC%8C%E6%83%B3%E8%A6%81%E7%B2%BE%E7%A1%AE%E6%9F%A5%E8%AF%A2%EF%BC%8C%E9%9C%80%E8%A6%81%E5%8A%A0%E2%80%9C.keyword%E2%80%9D%E5%90%8E%E7%BC%80%E3%80%82%0A%0A%20%20%20%20%20%20*%20%E5%AD%97%E6%AE%B5%E5%AD%98%E5%9C%A8%E6%9F%A5%E8%AF%A2%0A%0A%60%60%60json%0A%7B%0A%20%20%20%20%22exists%22%3A%20%7B%0A%20%20%20%20%20%20%22field%22%3A%20%7Bfield_name%7D%0A%20%20%20%20%7D%0A%20%7D%0A%60%60%60%0A%0A%2B%20%E8%81%9A%E5%90%88%E6%9F%A5%E8%AF%A2%0A%20%20%2B%20%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%84%0A%0A%E7%BB%93%E6%9E%84%E5%A6%82%E4%B8%8B%EF%BC%9A%0A%0A%20%20%20%20%20%20*%20%E5%8D%95%E5%B1%82%E8%81%9A%E5%90%88%EF%BC%9A%0A%0A%60%60%60json%0A%7B%0A%20%20%20%20%22aggs%22%3A%7B%0A%20%20%20%20%20%20%20%20%3Cagg_name1%3E%3A%7B%7D%0A%20%20%20%20%7D%0A%7D%0A%60%60%60%0A%0A%20%20%20%20%20%20*%20%E5%A4%9A%E5%B1%82%E8%81%9A%E5%90%88%EF%BC%9A%0A%0A%60%60%60json%0A%7B%0A%20%20%20%20%22aggs%22%3A%7B%0A%20%20%20%20%20%20%20%20%3Cagg_name1%3E%3A%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22aggs%22%3A%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cagg_name2%3E%3A%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%60%60%60%0A%0A%7C%20%E9%94%AE%20%20%20%20%20%20%20%20%20%20%7C%20%E7%B1%BB%E5%9E%8B%20%7C%20%E5%90%AB%E4%B9%89%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20-----------%20%7C%20----%20%7C%20----------------------%20%7C%0A%7C%20aggs%20%20%20%20%20%20%20%20%7C%20json%20%7C%20%E5%AE%9A%E4%B9%89%E8%81%9A%E5%90%88%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5%20%20%20%20%20%20%20%7C%0A%7C%20%3Cagg%5C_name%3E%20%7C%20json%20%7C%20%E8%81%9A%E5%90%88%E6%9F%A5%E8%AF%A2%E6%A1%B6%E5%90%8D%E7%A7%B0%EF%BC%8C%E8%87%AA%E5%AE%9A%E4%B9%89%20%7C%0A%0A%2B%20%E8%81%9A%E5%90%88%E6%9F%A5%E8%AF%A2%E7%A4%BA%E4%BE%8B---%3Cagg%5C_name%3E%E5%86%85%E7%9A%84%E8%AF%AD%E5%8F%A5%E5%AE%9A%E4%B9%89%0A%20%20%2B%20%E7%BB%9F%E8%AE%A1%E8%AE%A1%E6%95%B0%0A%0A%7C%20%E9%94%AE%20%20%20%20%20%20%20%20%20%20%7C%20%E7%B1%BB%E5%9E%8B%20%20%20%7C%20%E5%90%AB%E4%B9%89%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20-----------%20%7C%20------%20%7C%20------------------------------------------------%20%7C%0A%7C%20terms%20%20%20%20%20%20%20%7C%20json%20%20%20%7C%20%E5%AE%9A%E4%B9%89%E7%BB%9F%E8%AE%A1%E8%AE%A1%E6%95%B0%E6%9F%A5%E8%AF%A2%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20order%20%20%20%20%20%20%20%7C%20json%20%20%20%7C%20%E5%AE%9A%E4%B9%89%E6%8E%92%E5%BA%8F%E8%A7%84%E5%88%99%EF%BC%8C%E9%BB%98%E8%AE%A4%E4%BB%A5%E6%96%87%E6%A1%A3%E6%95%B0%EF%BC%88doc%5C_count%EF%BC%89%E5%80%92%E5%BA%8F%E6%8E%92%E5%BA%8F%20%7C%0A%7C%20field%20%20%20%20%20%20%20%7C%20string%20%7C%20%E5%AE%9A%E4%B9%89%E8%81%9A%E5%90%88%E5%AD%97%E6%AE%B5%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20shard%5C_size%20%7C%20number%20%7C%20%E5%AE%9A%E4%B9%89%E5%88%86%E7%89%87%E7%BA%A7%E5%88%AB%E7%9A%84%E8%BF%94%E5%9B%9Etop%E5%80%BC%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20size%20%20%20%20%20%20%20%20%7C%20number%20%7C%20%E5%AE%9A%E4%B9%89%E8%BF%94%E5%9B%9Etop%E5%80%BC%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%0A%E7%A4%BA%E4%BE%8B%EF%BC%9A%0A%0A%60%60%60json%0A%7B%0A%20%20%22aggs%22%3A%20%7B%0A%20%20%20%20%3Cagg_name%3E%3A%20%7B%0A%20%20%20%20%20%20%22terms%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%22field%22%3A%3Cfield_name%3E%2C%0A%20%20%20%20%20%20%20%20%22order%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%22_count%22%3A%20%22desc%22%20%20%20%20%20%20%2F%2F%E6%AD%A4%E5%A4%84%E4%B8%BA%E9%BB%98%E8%AE%A4%E5%80%BC%EF%BC%8C_count%E4%BB%A3%E8%A1%A8%E6%96%87%E6%A1%A3%E6%95%B0%E5%8D%B3doc_count%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%22shard_size%22%3A%20200%2C%0A%20%20%20%20%20%20%20%20%22size%22%3A%20100%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%60%60%60%0A%0A%20%20%20%20%20%20*%20%E6%97%B6%E9%97%B4%E7%9B%B4%E6%96%B9%E5%9B%BE%EF%BC%9A%0A%0A%7C%20%E9%94%AE%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20%E7%B1%BB%E5%9E%8B%20%20%20%7C%20%E5%90%AB%E4%B9%89%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20------------------%20%7C%20------%20%7C%20------------------------------------%20%7C%0A%7C%20date%5C_histogram%20%20%20%20%7C%20json%20%20%20%7C%20%E5%AE%9A%E4%B9%89%E6%97%B6%E9%97%B4%E7%9B%B4%E6%96%B9%E5%9B%BE%E8%81%9A%E5%90%88%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20field%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E5%AE%9A%E4%B9%89%E8%81%9A%E5%90%88%E5%AD%97%E6%AE%B5%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20calendar%5C_interval%20%7C%20string%20%7C%20%E6%97%A5%E5%8E%86%E6%97%B6%E9%97%B4%E9%97%B4%E9%9A%94%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20fixed%5C_interval%20%20%20%20%7C%20string%20%7C%20%E5%9B%BA%E5%AE%9A%E6%97%B6%E9%97%B4%E9%97%B4%E9%9A%94%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20interval%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E6%97%B6%E9%97%B4%E9%97%B4%E9%9A%94%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20time%5C_zone%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E6%97%B6%E5%8C%BA%EF%BC%8C%E4%B8%8D%E6%8C%87%E5%AE%9A%E5%88%99%E9%BB%98%E8%AE%A4UTC%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20min%5C_doc%5C_count%20%20%20%20%7C%20number%20%7C%20%E8%BF%94%E5%9B%9E%E6%A1%B6%E6%96%87%E6%A1%A3%E6%95%B0%E6%9C%80%E5%B0%8F%E6%95%B0%E9%87%8F%EF%BC%8C%E9%BB%98%E8%AE%A4%E4%BC%9A%E8%BF%94%E5%9B%9E%E5%85%A8%E9%83%A8%20%7C%0A%7C%20order%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20json%20%20%20%7C%20%E5%AE%9A%E4%B9%89%E6%8E%92%E5%BA%8F%E8%A7%84%E5%88%99%EF%BC%8C%E9%BB%98%E8%AE%A4%E4%B8%BA%E6%97%B6%E9%97%B4%E5%80%92%E5%8F%99%E6%8E%92%E5%BA%8F%20%20%20%20%20%7C%0A%0A%E8%AF%B4%E6%98%8E%EF%BC%9A%0A%0A%2B%20calendar%5C_interval%EF%BC%9A%E6%97%A5%E5%8E%86%E6%97%B6%E9%97%B4%E9%97%B4%E9%9A%94%EF%BC%8C%E6%94%AF%E6%8C%81minute%2F1m%E3%80%81hour%2F1h%E3%80%81day%2F1d%E3%80%81week%2F1w%E3%80%81month%2F1M%E3%80%81quarter%2F1q%E3%80%81year%2F1y%0A%2B%20fixed%5C_interval%EF%BC%9A%E5%9B%BA%E5%AE%9A%E6%97%B6%E9%97%B4%E9%97%B4%E9%9A%94%EF%BC%8C%E6%94%AF%E6%8C%81ms%E3%80%81s%E3%80%81m%E3%80%81h%E3%80%81d%0A%2B%20interval%EF%BC%9A%E6%97%B6%E9%97%B4%E9%97%B4%E9%9A%94%EF%BC%8C%E6%94%AF%E6%8C%81%E6%97%A5%E5%8E%86%E5%92%8C%E5%9B%BA%E5%AE%9A%E6%97%B6%E9%97%B4%E6%A0%BC%E5%BC%8F%EF%BC%8C%E4%BD%86%E5%9C%A8%E6%9C%AA%E6%9D%A5%E5%8F%AF%E8%83%BD%E4%BC%9A%E8%A2%AB%E5%88%A0%E9%99%A4%0A%2B%20order%EF%BC%9A%E6%8E%92%E5%BA%8F%E8%8B%A5%E6%83%B3%E4%B8%BA%E6%96%87%E6%A1%A3%E6%95%B0%E6%8E%92%E5%BA%8F%EF%BC%8C%E5%AE%9A%E4%B9%89%E5%92%8C%E7%BB%9F%E8%AE%A1%E8%AE%A1%E6%95%B0%E4%B8%AD%E4%B8%80%E8%87%B4%0A%0A%E7%A4%BA%E4%BE%8B%EF%BC%9A%0A%0A%60%60%60json%0A%7B%0A%20%20%20%20%22date_histogram%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%22field%22%3A%20%22%40timestamp%22%2C%0A%20%20%20%20%20%20%20%20%22fixed_interval%22%3A%20%222d%22%2C%0A%20%20%20%20%20%20%20%20%22min_doc_count%22%3A%201%2C%0A%20%20%20%20%20%20%20%20%22time_zone%22%3A%20%22Asia%2FShanghai%22%2C%0A%20%20%20%20%20%20%20%20%22order%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22_count%22%3A%20%22desc%22%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%60%60%60%0A%0A%20%20%20%20%20%20*%20top%5C_hits%E8%81%9A%E5%90%88%0A%0A%7C%20%E9%94%AE%20%20%20%20%20%20%20%20%7C%20%E7%B1%BB%E5%9E%8B%20%20%20%7C%20%E5%90%AB%E4%B9%89%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20---------%20%7C%20------%20%7C%20--------------------------%20%7C%0A%7C%20top%5C_hits%20%7C%20json%20%20%20%7C%20%E5%AE%9A%E4%B9%89top%5C_hits%E8%81%9A%E5%90%88%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20size%20%20%20%20%20%20%7C%20number%20%7C%20%E5%AE%9A%E4%B9%89%E8%BF%94%E5%9B%9Etop%E6%95%B0%E9%87%8F%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20sort%20%20%20%20%20%20%7C%20json%20%20%20%7C%20%E5%AE%9A%E4%B9%89%E6%8E%92%E5%BA%8F%E8%A7%84%E5%88%99%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20%5C_source%20%20%7C%20json%20%20%20%7C%20%E5%AE%9A%E4%B9%89%E6%AD%A4%E5%A4%84%E4%B8%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AD%97%E6%AE%B5%E7%9A%84%E8%AE%BE%E7%BD%AE%20%7C%0A%7C%20include%20%20%20%7C%20array%20%20%7C%20%E5%AE%9A%E4%B9%89%E8%BF%94%E5%9B%9E%E7%9A%84%E5%AD%97%E6%AE%B5%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%0A%E7%A4%BA%E4%BE%8B%EF%BC%9A%0A%0A%60%60%60json%0A%7B%0A%20%20%20%20%22top_hits%22%3A%7B%0A%20%20%20%20%20%20%20%20%22size%22%3A1%2C%0A%20%20%20%20%20%20%20%20%22sort%22%3A%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%40timestamp%22%3A%22desc%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%22_source%22%3A%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22includes%22%3A%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%E5%85%B1%E4%BA%AB%E5%9C%B0%E5%9D%80url%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%E5%85%B1%E4%BA%AB%E5%9C%B0%E5%9D%80%E7%B1%BB%E5%9E%8B%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%E5%90%8D%E7%A7%B0%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%60%60%60%0A%0A%2B%20%E6%9F%A5%E8%AF%A2%E6%97%B6%E5%8C%BA%E8%AF%B4%E6%98%8E%0A%0A%E6%9F%A5%E8%AF%A2%E8%BF%94%E5%9B%9E%E7%9A%84%E6%97%B6%E9%97%B4%EF%BC%9A%E5%AD%98%E5%82%A8%E6%A0%BC%E5%BC%8F%E5%8D%B3%E8%BF%94%E5%9B%9E%E6%A0%BC%E5%BC%8F%EF%BC%8C%E6%A0%B9%E6%8D%AE%E8%A7%A3%E6%9E%90%E8%A7%84%E5%88%99%E5%AE%9A%E4%B9%89%E6%97%B6%E9%97%B4%E5%AD%97%E6%AE%B5%E7%9A%84%E8%A7%A3%E6%9E%90%E6%A0%BC%E5%BC%8F%EF%BC%8C%E8%8B%A5%E6%8C%87%E5%AE%9A%E4%B8%BAUTC%E6%97%B6%E9%97%B4%EF%BC%8C%E5%88%99%E5%AD%98%E5%82%A8%E5%B0%B1%E6%98%AFUTC%E6%97%B6%E9%97%B4%EF%BC%8C%E6%95%B0%E6%8D%AE%E8%BF%94%E5%9B%9E%E4%B9%9F%E6%98%AFUTC%E6%97%B6%E9%97%B4%E5%AD%97%E7%AC%A6%E4%B8%B2%E3%80%82%0A%0A%E6%9F%A5%E8%AF%A2%E7%9A%84%E6%97%B6%E9%97%B4%EF%BC%9A%E6%9F%A5%E8%AF%A2%E6%97%B6%E6%8C%87%E5%AE%9A%E6%97%B6%E9%97%B4%E5%88%86%E4%B8%BA%E4%B8%A4%E7%A7%8D%0A%0A%20%20%20%20%20%201.%20%E6%97%B6%E9%97%B4%E8%8C%83%E5%9B%B4%E8%BF%87%E6%BB%A4%E6%9F%A5%E8%AF%A2%EF%BC%8C%E8%BF%94%E5%9B%9E%E6%8C%87%E5%AE%9A%E6%97%B6%E9%97%B4%E8%8C%83%E5%9B%B4%E5%86%85%E7%9A%84%E6%95%B0%E6%8D%AE%0A%20%20%20%20%20%202.%20%20%E8%81%9A%E5%90%88%E6%9F%A5%E8%AF%A2---%E6%97%B6%E9%97%B4%E7%9B%B4%E6%96%B9%E5%9B%BE%EF%BC%8C%E5%B0%86%E6%97%B6%E9%97%B4%E6%8C%89%E6%8C%87%E5%AE%9A%E9%97%B4%E9%9A%94%E8%BF%9B%E8%A1%8C%E5%88%86%E6%A1%B6%0A%0A%2B%20%E6%97%B6%E9%97%B4%E8%8C%83%E5%9B%B4%E8%BF%87%E6%BB%A4%0A%0A%60%60%60json%0A%7B%0A%20%20%20%20%22range%22%3A%7B%0A%20%20%20%20%20%20%20%20%7Bfield_name%7D%3A%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22format%22%3A%22epoch_millis%7C%7Cyyyy-MM-dd%20HH%3Amm%3Ass%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22gte%22%3A%222021-07-01T01%3A49%3A10.893Z%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22lt%22%3A%222021-07-08T01%3A49%3A10.893Z%22%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%60%60%60%0A%0A%2B%20%E6%97%B6%E9%97%B4%E8%AF%B4%E6%98%8E%EF%BC%9A%E5%BB%BA%E8%AE%AE%E4%BD%BF%E7%94%A8%E5%A6%82%E7%A4%BA%E4%BE%8B%E4%B8%AD%E7%9A%84UTC%E6%97%B6%E9%97%B4%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%88%96%E8%80%85%E6%97%B6%E9%97%B4%E6%88%B3%E8%BF%9B%E8%A1%8C%E6%9F%A5%E8%AF%A2%EF%BC%8C%E8%8B%A5%E6%83%B3%E4%BD%BF%E7%94%A8%E6%9C%AC%E5%9C%B0%E6%97%B6%E9%97%B4%EF%BC%8C%E9%9C%80%E5%8A%A0%E5%8F%82%E6%95%B0%E2%80%9Ctime%5C_zone%E2%80%9D%2C%E4%BE%8B%E5%A6%82%E4%B8%8A%E6%B5%B7%E6%9C%AC%E5%9C%B0%E6%97%B6%E9%97%B4%EF%BC%8C%22time%5C_zone%22%3A%22Asia%2Fshanghai%22%0A%2B%20%E6%94%AF%E6%8C%81%E6%97%B6%E5%8C%BA%E5%92%8CUTC%E5%81%8F%E7%A7%BB%E9%87%8F%0A%0A%E5%A6%82%E5%9B%BE%EF%BC%9A%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E4%B8%80%E8%87%B4%E3%80%82%0A%0A!%5Bimage%5D(images%2Ftime_range_filter1.png)%0A%0A!%5Bimage%5D(images%2Ftime_range_filter2.png)%0A%0A!%5Bimage%5D(images%2Ftime_range_filter3.png)%0A%0A%2B%20%E8%81%9A%E5%90%88%E6%97%B6%E9%97%B4%E7%9B%B4%E6%96%B9%E5%9B%BE%0A%0A%60%60%60json%0A%7B%0A%20%20%20%20%22date_histogram%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%22field%22%3A%20%22%40timestamp%22%2C%0A%20%20%20%20%20%20%20%20%22fixed_interval%22%3A%20%222d%22%2C%0A%20%20%20%20%20%20%20%20%22min_doc_count%22%3A%201%2C%0A%20%20%20%20%20%20%20%20%22time_zone%22%3A%20%22Asia%2FShanghai%22%2C%0A%20%20%20%20%20%20%20%20%22order%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22_count%22%3A%20%22desc%22%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%60%60%60%0A%0A%2B%20%E6%97%B6%E5%8C%BA%E5%8F%82%E6%95%B0%EF%BC%9A%E2%80%9Dtime%5C_zone%E2%80%9D%0A%0A%E8%BF%99%E9%87%8C%E4%BD%BF%E7%94%A8%E6%97%B6%E5%8C%BA%E6%97%B6%EF%BC%8C%E8%BF%94%E5%9B%9E%E7%9A%84%E5%88%86%E6%A1%B6%E6%97%B6%E9%97%B4%E5%AD%97%E6%AE%B5%E7%9A%84key%E5%80%BC%E5%B0%86%E4%BC%9A%E6%8C%89%E6%AD%A4%E6%97%B6%E5%8C%BA%E8%BD%AC%E6%8D%A2%E8%BF%94%E5%9B%9E%EF%BC%8C%E9%BB%98%E8%AE%A4%E5%AD%98%E5%82%A8%E4%B8%BAUTC%E6%97%B6%E9%97%B4%EF%BC%8C%E8%BD%AC%E6%8D%A2%E4%B9%9F%E6%98%AF%E6%8C%89UTC%E6%97%B6%E9%97%B4%E5%AE%8C%E6%88%90%E3%80%82%0A%0A%E4%BE%8B%E5%A6%82%EF%BC%8C%E5%AD%98%E5%82%A8%E4%B8%BA%E2%80%9D2016-12-01T00%3A00%3A00.000Z%E2%80%9D%2C%E6%9F%A5%E8%AF%A2%E6%97%B6%E5%8C%BA%E4%B8%BA%22Asia%2FShanghai%22%EF%BC%8C%E5%B0%86%E4%BC%9A%E8%BF%94%E5%9B%9E%E2%80%9D2016-12-01T00%3A00%3A00.000%2B8%3A00%E2%80%9D%E3%80%82%0A%0A%23%23%23%202.2.2%20API%E6%96%87%E6%A1%A3%0A%0A%23%23%23%23%202.2.2.1%20Search%E6%9F%A5%E8%AF%A2%E6%8E%A5%E5%8F%A3%0A%0A%60%60%60Plain%20Text%0AURL%EF%BC%9A%2Fapi%2Funiquery%2Fv1%2Fdsl%2F%7Bx_library%7D%2F_search%0A%60%60%60%0A%0A%2B%20%E8%AF%B7%E6%B1%82%E6%96%B9%E5%BC%8F%EF%BC%9APOST%0A%0A%2B%20%E5%86%85%E5%AE%B9%E6%A0%BC%E5%BC%8F%EF%BC%9AJSON%0A%2B%20URL%E8%B7%AF%E5%BE%84%E5%8F%82%E6%95%B0%EF%BC%9A%0A%0A%7C%20%E5%8F%82%E6%95%B0%20%20%20%20%20%20%20%7C%20%E6%98%AF%E5%90%A6%E5%BF%85%E5%A1%AB%20%7C%20%E7%B1%BB%E5%9E%8B%20%20%20%7C%20%E8%AF%B4%E6%98%8E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20----------%20%7C%20--------%20%7C%20------%20%7C%20----------------------------------------------------------------------------------------%20%7C%0A%7C%20x%5C_library%20%7C%20%E5%90%A6%20%20%20%20%20%20%20%7C%20string%20%7C%20%E7%B4%A2%E5%BC%95%E5%BA%93%E5%90%8D%E7%A7%B0%EF%BC%8C%E6%89%A9%E5%B1%95%E5%8F%82%E6%95%B0%EF%BC%8C%E4%B9%9F%E5%8F%AF%E6%94%BE%E4%BA%8Ebody%E4%B8%AD%EF%BC%8C%E9%83%BD%E4%B8%BA%E7%A9%BA%E5%88%99%E9%BB%98%E8%AE%A4%E8%BF%94%E5%9B%9E%E7%A9%BA%E6%95%B0%E6%8D%AE%E9%9B%86%EF%BC%8C%E8%8B%A5%E4%B8%A4%E4%B8%AA%E9%83%BD%E6%9C%89%EF%BC%8C%E5%88%99%E5%8F%96%E4%BA%A4%E9%9B%86%E6%9F%A5%E8%AF%A2%20%7C%0A%0A%2B%20%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0%EF%BC%9A%0A%0A%7C%20%E5%8F%82%E6%95%B0%20%20%20%7C%20%E6%98%AF%E5%90%A6%E5%BF%85%E5%A1%AB%20%7C%20%E7%B1%BB%E5%9E%8B%20%20%20%7C%20%E8%AF%B4%E6%98%8E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20------%20%7C%20--------%20%7C%20------%20%7C%20-------------------------------------------------------------------------------------------%20%7C%0A%7C%20scroll%20%7C%20%E5%90%A6%20%20%20%20%20%20%20%7C%20string%20%7C%20%E6%8C%87%E5%AE%9A%E6%90%9C%E7%B4%A2%E4%B8%BA%E6%BB%9A%E5%8A%A8%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2%EF%BC%8C%E4%BF%9D%E7%95%99%E5%88%86%E9%A1%B5%E6%90%9C%E7%B4%A2%E4%B8%8A%E4%B8%8B%E6%96%87%E7%9A%84%E6%9C%89%E6%95%88%E6%97%B6%E9%97%B4%EF%BC%88%E6%94%AF%E6%8C%81%E6%95%B0%E5%AD%97%2B%E6%97%B6%E9%97%B4%E5%8D%95%E4%BD%8Ds%2Cm%2Ch%EF%BC%89%E6%9C%80%E9%95%BF%E4%B8%8D%E8%B6%85%E8%BF%8724h%20%7C%0A%0A%2B%20%E8%AF%B7%E6%B1%82%E4%BD%93%E5%8F%82%E6%95%B0%EF%BC%9A%0A%0A%7C%20%E5%8F%82%E6%95%B0%20%20%20%20%20%20%20%20%20%7C%20%E6%98%AF%E5%90%A6%E5%BF%85%E5%A1%AB%20%7C%20%E7%B1%BB%E5%9E%8B%20%20%20%7C%20%E8%AF%B4%E6%98%8E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20------------%20%7C%20--------%20%7C%20------%20%7C%20-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------%20%7C%0A%7C%20x%5C_library%20%20%20%7C%20%E5%90%A6%20%20%20%20%20%20%20%7C%20array%20%20%7C%20%E8%AF%A5%E5%8F%82%E6%95%B0%E4%B8%BA%20dsl%20%E4%B9%8B%E5%A4%96%E7%9A%84%E6%89%A9%E5%B1%95%E5%8F%82%E6%95%B0%EF%BC%8C%E6%8C%87%E5%AE%9A%E6%9F%A5%E8%AF%A2%E7%9A%84%E7%B4%A2%E5%BC%95%E5%BA%93%E5%90%8D%E7%A7%B0%EF%BC%8C%E5%92%8C%E8%B7%AF%E5%BE%84%E4%B8%AD%E4%B8%80%E8%87%B4%E3%80%82%E9%9D%9E%E5%BF%85%E9%A1%BB%E5%8F%82%E6%95%B0%E3%80%82%E8%8B%A5%E8%B7%AF%E5%BE%84%E5%92%8C%20body%20%E4%B8%AD%E5%9D%87%E6%97%A0%E6%AD%A4%E5%8F%82%E6%95%B0%EF%BC%8C%E5%88%99%E8%AF%BB%E5%8F%96%20ar_dataview%20%E5%8F%82%E6%95%B0%E6%9D%A5%E6%9F%A5%E8%AF%A2%EF%BC%8C%E8%8B%A5%E6%AD%A4%E6%97%B6%E6%97%A0%20ar_dataview%20%E5%8F%82%E6%95%B0%EF%BC%8C%E5%88%99%E9%BB%98%E8%AE%A4%E7%A9%BA%E6%95%B0%E6%8D%AE%E9%9B%86%E8%BF%94%E5%9B%9E%EF%BC%9B%E8%8B%A5%E4%B8%A4%E4%B8%AA%E9%83%BD%E6%9C%89%EF%BC%8C%E5%88%99%E5%8F%96%E4%BA%A4%E9%9B%86%E6%9F%A5%E8%AF%A2%EF%BC%9B%E8%8B%A5%E4%BA%A4%E9%9B%86%E4%B8%BA%E7%A9%BA%EF%BC%8C%E5%88%99%E9%BB%98%E8%AE%A4%E7%A9%BA%E6%95%B0%E6%8D%AE%E9%9B%86%E8%BF%94%E5%9B%9E%20%7C%0A%7C%20ar%5C_dataview%20%7C%20%E5%90%A6%20%20%20%20%20%20%20%7C%20string%20%7C%20%E8%AF%A5%E5%8F%82%E6%95%B0%E4%B8%BA%20dsl%20%E4%B9%8B%E5%A4%96%E7%9A%84%E6%89%A9%E5%B1%95%E5%8F%82%E6%95%B0%EF%BC%8C%E6%8C%87%E5%AE%9A%E6%9F%A5%E8%AF%A2%E7%9A%84%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%20ID%EF%BC%8C%E9%9D%9E%E5%BF%85%E9%A1%BB%E5%8F%82%E6%95%B0%EF%BC%8C%E8%8B%A5%E8%B7%AF%E5%BE%84%E5%92%8C%20body%20%E4%B8%AD%E5%9D%87%E6%97%A0%E7%B4%A2%E5%BC%95%E5%BA%93%E5%90%8D%E7%A7%B0%20x_library%20%E5%8F%82%E6%95%B0%EF%BC%8C%E5%88%99%E5%8F%96%E6%AD%A4%E5%8F%82%E6%95%B0%E6%9D%A5%E6%9F%A5%E8%AF%A2%E3%80%82%E5%8F%AA%E6%94%AF%E6%8C%81%E6%8C%87%E5%AE%9A%E4%B8%80%E4%B8%AA%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%20ID%E3%80%82%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%0A%2B%20%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%EF%BC%9A%0A%0A%E8%BF%94%E5%9B%9E%E4%B8%BAOpenSearch%E7%9A%84%E5%8E%9F%E7%94%9F%E6%8E%A5%E5%8F%A3%E8%BF%94%E5%9B%9E%E5%86%85%E5%AE%B9%EF%BC%8C%E4%B8%BAjson%E6%A0%BC%E5%BC%8F%E3%80%82%0A%0A%23%23%23%23%202.2.2.2%20Scroll%E6%BB%9A%E5%8A%A8%E5%88%86%E9%A1%B5%E6%8E%A5%E5%8F%A3%0A%0AURL%EF%BC%9A%2Fapi%2Funiquery%2Fv1%2Fdsl%2F%5C_search%2Fscroll%0A%0A%2B%20%E8%AF%B7%E6%B1%82%E6%96%B9%E5%BC%8F%EF%BC%9APOST%0A%2B%20%E5%86%85%E5%AE%B9%E6%A0%BC%E5%BC%8F%EF%BC%9AJSON%0A%2B%20%E8%AF%B7%E6%B1%82%E5%A4%B4%E5%8F%82%E6%95%B0%EF%BC%9A%0A%0A%7C%20%E5%8F%82%E6%95%B0%20%20%20%20%20%20%20%20%20%20%7C%20%E6%98%AF%E5%90%A6%E5%BF%85%E5%A1%AB%20%7C%20%E7%B1%BB%E5%9E%8B%20%20%20%7C%20%E8%AF%B4%E6%98%8E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20-------------%20%7C%20--------%20%7C%20------%20%7C%20-------------------%20%7C%0A%7C%20Authorization%20%7C%20%E5%90%A6%20%20%20%20%20%20%20%7C%20string%20%7C%20%E8%AE%A4%E8%AF%81%E4%BF%A1%E6%81%AFBearerToken%20%7C%0A%0A%2B%20%E8%AF%B7%E6%B1%82%E4%BD%93%E5%8F%82%E6%95%B0%EF%BC%9A%0A%0A%7C%20%E5%8F%82%E6%95%B0%20%20%20%20%20%20%20%7C%20%E6%98%AF%E5%90%A6%E5%BF%85%E5%A1%AB%20%7C%20%E7%B1%BB%E5%9E%8B%20%20%20%7C%20%E8%AF%B4%E6%98%8E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20----------%20%7C%20--------%20%7C%20------%20%7C%20-------------------------------------------------------------------------------%20%7C%0A%7C%20scroll%20%20%20%20%20%7C%20%E5%90%A6%20%20%20%20%20%20%20%7C%20string%20%7C%20%E4%B8%BA%E6%9C%AC%E6%AC%A1%E8%AF%B7%E6%B1%82%E4%BF%9D%E7%95%99%E5%88%86%E9%A1%B5%E6%90%9C%E7%B4%A2%E4%B8%8A%E4%B8%8B%E6%96%87%E7%9A%84%E6%9C%89%E6%95%88%E6%97%B6%E9%97%B4%EF%BC%88%E6%94%AF%E6%8C%81%E6%95%B0%E5%AD%97%2B%E6%97%B6%E9%97%B4%E5%8D%95%E4%BD%8Ds%2Cm%2Ch%EF%BC%89%EF%BC%8C%E6%9C%80%E9%95%BF%E4%B8%8D%E8%B6%85%E8%BF%8724h%20%7C%0A%7C%20scroll%5C_id%20%7C%20%E6%98%AF%20%20%20%20%20%20%20%7C%20string%20%7C%20%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2id%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%0A%2B%20%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%EF%BC%9A%0A%0A%E8%BF%94%E5%9B%9E%E4%B8%BAOpenSearch%E7%9A%84%E5%8E%9F%E7%94%9F%E6%8E%A5%E5%8F%A3%E8%BF%94%E5%9B%9E%E5%86%85%E5%AE%B9%EF%BC%8C%E4%B8%BAjson%E6%A0%BC%E5%BC%8F%E3%80%82%0A%0A%23%23%23%23%202.2.2.3%20Count%E6%80%BB%E6%95%B0%E6%9F%A5%E8%AF%A2%E6%8E%A5%E5%8F%A3%0A%0A%2B%20URL%EF%BC%9A%2Fapi%2Funiquery%2Fv1%2Fdsl%2F%7Bx%5C_library%7D%2F%5C_count%0A%0A%2B%20%E8%AF%B7%E6%B1%82%E6%96%B9%E5%BC%8F%EF%BC%9APOST%0A%2B%20%E5%86%85%E5%AE%B9%E6%A0%BC%E5%BC%8F%EF%BC%9AJSON%0A%2B%20URL%E8%B7%AF%E5%BE%84%E5%8F%82%E6%95%B0%EF%BC%9A%0A%0A%7C%20%E5%8F%82%E6%95%B0%20%20%20%20%20%20%20%7C%20%E6%98%AF%E5%90%A6%E5%BF%85%E5%A1%AB%20%7C%20%E7%B1%BB%E5%9E%8B%20%20%20%7C%20%E8%AF%B4%E6%98%8E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20----------%20%7C%20--------%20%7C%20------%20%7C%20----------------------------------------------------------------------------------------%20%7C%0A%7C%20x%5C_library%20%7C%20%E5%90%A6%20%20%20%20%20%20%20%7C%20string%20%7C%20%E7%B4%A2%E5%BC%95%E5%BA%93%E5%90%8D%E7%A7%B0%EF%BC%8C%E6%89%A9%E5%B1%95%E5%8F%82%E6%95%B0%EF%BC%8C%E4%B9%9F%E5%8F%AF%E6%94%BE%E4%BA%8Ebody%E4%B8%AD%EF%BC%8C%E9%83%BD%E4%B8%BA%E7%A9%BA%E5%88%99%E9%BB%98%E8%AE%A4%E8%BF%94%E5%9B%9E%E7%A9%BA%E6%95%B0%E6%8D%AE%E9%9B%86%EF%BC%8C%E8%8B%A5%E4%B8%A4%E4%B8%AA%E9%83%BD%E6%9C%89%EF%BC%8C%E5%88%99%E5%8F%96%E4%BA%A4%E9%9B%86%E6%9F%A5%E8%AF%A2%20%7C%0A%0A%2B%20%E8%AF%B7%E6%B1%82%E4%BD%93%E5%8F%82%E6%95%B0%EF%BC%9A%0A%0A%7C%20%E5%8F%82%E6%95%B0%20%20%20%20%20%20%20%20%20%7C%20%E6%98%AF%E5%90%A6%E5%BF%85%E5%A1%AB%20%7C%20%E7%B1%BB%E5%9E%8B%20%20%20%7C%20%E8%AF%B4%E6%98%8E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20------------%20%7C%20--------%20%7C%20------%20%7C%20-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------%20%7C%0A%7C%20x%5C_library%20%20%20%7C%20%E5%90%A6%20%20%20%20%20%20%20%7C%20array%20%20%7C%20%E8%AF%A5%E5%8F%82%E6%95%B0%E4%B8%BA%20dsl%20%E4%B9%8B%E5%A4%96%E7%9A%84%E6%89%A9%E5%B1%95%E5%8F%82%E6%95%B0%EF%BC%8C%E6%8C%87%E5%AE%9A%E6%9F%A5%E8%AF%A2%E7%9A%84%E7%B4%A2%E5%BC%95%E5%BA%93%E5%90%8D%E7%A7%B0%EF%BC%8C%E5%92%8C%E8%B7%AF%E5%BE%84%E4%B8%AD%E4%B8%80%E8%87%B4%E3%80%82%E9%9D%9E%E5%BF%85%E9%A1%BB%E5%8F%82%E6%95%B0%E3%80%82%E8%8B%A5%E8%B7%AF%E5%BE%84%E5%92%8C%20body%20%E4%B8%AD%E5%9D%87%E6%97%A0%E6%AD%A4%E5%8F%82%E6%95%B0%EF%BC%8C%E5%88%99%E8%AF%BB%E5%8F%96%20ar_dataview%20%E5%8F%82%E6%95%B0%E6%9D%A5%E6%9F%A5%E8%AF%A2%EF%BC%8C%E8%8B%A5%E6%AD%A4%E6%97%B6%E6%97%A0%20ar_dataview%20%E5%8F%82%E6%95%B0%EF%BC%8C%E5%88%99%E9%BB%98%E8%AE%A4%E7%A9%BA%E6%95%B0%E6%8D%AE%E9%9B%86%E8%BF%94%E5%9B%9E%EF%BC%9B%E8%8B%A5%E4%B8%A4%E4%B8%AA%E9%83%BD%E6%9C%89%EF%BC%8C%E5%88%99%E5%8F%96%E4%BA%A4%E9%9B%86%E6%9F%A5%E8%AF%A2%EF%BC%9B%E8%8B%A5%E4%BA%A4%E9%9B%86%E4%B8%BA%E7%A9%BA%EF%BC%8C%E5%88%99%E9%BB%98%E8%AE%A4%E7%A9%BA%E6%95%B0%E6%8D%AE%E9%9B%86%E8%BF%94%E5%9B%9E%20%7C%0A%7C%20ar%5C_dataview%20%7C%20%E5%90%A6%20%20%20%20%20%20%20%7C%20string%20%7C%20%E8%AF%A5%E5%8F%82%E6%95%B0%E4%B8%BA%20dsl%20%E4%B9%8B%E5%A4%96%E7%9A%84%E6%89%A9%E5%B1%95%E5%8F%82%E6%95%B0%EF%BC%8C%E6%8C%87%E5%AE%9A%E6%9F%A5%E8%AF%A2%E7%9A%84%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%20ID%EF%BC%8C%E9%9D%9E%E5%BF%85%E9%A1%BB%E5%8F%82%E6%95%B0%EF%BC%8C%E8%8B%A5%E8%B7%AF%E5%BE%84%E5%92%8C%20body%20%E4%B8%AD%E5%9D%87%E6%97%A0%E7%B4%A2%E5%BC%95%E5%BA%93%E5%90%8D%E7%A7%B0%20x_library%20%E5%8F%82%E6%95%B0%EF%BC%8C%E5%88%99%E5%8F%96%E6%AD%A4%E5%8F%82%E6%95%B0%E6%9D%A5%E6%9F%A5%E8%AF%A2%E3%80%82%E5%8F%AA%E6%94%AF%E6%8C%81%E6%8C%87%E5%AE%9A%E4%B8%80%E4%B8%AA%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%20ID%E3%80%82%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%0A%2B%20%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%EF%BC%9A%0A%0A%E8%BF%94%E5%9B%9E%E4%B8%BAOpenSearch%E7%9A%84%E5%8E%9F%E7%94%9F%E6%8E%A5%E5%8F%A3%E8%BF%94%E5%9B%9E%E5%86%85%E5%AE%B9%EF%BC%8C%E4%B8%BAjson%E6%A0%BC%E5%BC%8F%E3%80%82%0A%0Awindows%E7%B3%BB%E7%BB%9F%E4%B8%8B%E5%8F%AF%E6%89%93%E5%BC%80%E4%BB%A5%E4%B8%8B%E6%96%87%E4%BB%B6%E6%9F%A5%E7%9C%8B%E6%9B%B4%E5%A4%9A%E8%AF%A6%E7%BB%86%E7%A4%BA%E4%BE%8B%EF%BC%9A%0A%0A%23%23%23%202.2.3%20%E5%BC%80%E5%8F%91%E4%B8%8E%E5%AE%9E%E8%B7%B5%0A%0A%23%23%23%23%202.2.3.1%20%E8%B0%83%E7%94%A8%E6%B5%81%E7%A8%8B%0A%0A%EF%83%98%E8%B0%83%E7%94%A8%E8%BF%87%E7%A8%8B%E5%A6%82%E4%B8%8B%E5%9B%BE%E6%89%80%E7%A4%BA%EF%BC%9A%0A%0A!%5Bimage%5D(images%2Fdsl_query_process.png)%0A%0A%23%23%23%23%202.2.3.2%20%E8%AF%B7%E6%B1%82%E7%A4%BA%E4%BE%8B%0A%0A**%E7%AC%AC1%E6%AD%A5****%C2%A0%C2%A0%20**%E5%BE%80opensearch%2Fes%E5%86%99%E5%85%A5test%E7%B1%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%EF%BC%9A%0A%0A%60%60%60json%0Acurl%20-X%20POST%20%22http%3A%2F%2Flocalhost%3A9200%2F_bulk%3Fpretty%22%20-H%20'Content-Type%3A%20application%2Fjson'%20-uadmin%3Aeisoo.com123%20-d'%0A%7B%20%22index%22%20%3A%20%7B%20%22_index%22%20%3A%20%22test-000001%22%2C%20%22_id%22%20%3A%20%221%22%20%7D%20%7D%0A%7B%20%22type%22%20%3A%22test%22%2C%22%40timestamp%22%3A%222021-01-08T15%3A00%3A02.059158Z%22%2C%22operation%22%3A%20%22create%22%2C%22description%22%3A%20%22%E7%94%A8%E6%88%B7%E2%80%9C%E5%BC%A0%E4%B8%89%E2%80%9D%E6%96%B0%E5%BB%BA%E6%96%87%E4%BB%B6%E2%80%9C%E4%BA%A7%E5%93%81%E8%B5%84%E6%96%99%2F%E4%BA%A7%E5%93%81%E7%99%BD%E7%9A%AE%E4%B9%A61.pdf%E2%80%9D%E3%80%82%22%2C%22target_object%22%3A%20%7B%22type%22%3A%20%22file%22%2C%22id%22%3A%20%22gns%3A%2F%2FD42F2729C56E489A948985D4E75C5813%2FEC3264CCC61D4560BD92C1D1411FD691%22%2C%22path%22%3A%20%22%E4%BA%A7%E5%93%81%E8%B5%84%E6%96%99%2F%E4%BA%A7%E5%93%81%E7%99%BD%E7%9A%AE%E4%B9%A61.pdf%22%2C%22size%22%3A%2012815410%2C%22doc_lib%22%3A%20%7B%22id%22%3A%20%22gns%3A%2F%2FD42F2729C56E489A948985D4E75C5810%22%2C%22type%22%3A%20%22department_doc_lib1%22%7D%7D%7D%0A%7B%20%22index%22%20%3A%20%7B%20%22_index%22%20%3A%20%22test-000001%22%2C%20%22_id%22%20%3A%20%222%22%20%7D%20%7D%0A%7B%22type%22%3A%22test%22%2C%22%40timestamp%22%3A%222021-08-18T15%3A00%3A02.059158Z%22%2C%22operation%22%3A%20%22delete%22%2C%22description%22%3A%20%22%E7%94%A8%E6%88%B7%E2%80%9C%E5%BC%A0%E4%B8%89%E2%80%9D%E6%96%B0%E5%BB%BA%E6%96%87%E4%BB%B6%E2%80%9C%E4%BA%A7%E5%93%81%E8%B5%84%E6%96%99%2F%E4%BA%A7%E5%93%81%E7%99%BD%E7%9A%AE%E4%B9%A62.pdf%E2%80%9D%E3%80%82%22%2C%22target_object%22%3A%20%7B%22type%22%3A%20%22file%22%2C%22id%22%3A%20%22gns%3A%2F%2FD42F2729C56E489A948985D4E75C5813%2FEC3264CCC61D4560BD92C1D1411FD692%22%2C%22path%22%3A%20%22%E4%BA%A7%E5%93%81%E8%B5%84%E6%96%99%2F%E4%BA%A7%E5%93%81%E7%99%BD%E7%9A%AE%E4%B9%A62.pdf%22%2C%22size%22%3A%2012815408%2C%22doc_lib%22%3A%20%7B%22id%22%3A%20%22gns%3A%2F%2FD42F2729C56E489A948985D4E75C5811%22%2C%22type%22%3A%20%22department_doc_lib2%22%7D%7D%7D%0A%7B%20%22index%22%20%3A%20%7B%20%22_index%22%20%3A%20%22test-000001%22%2C%20%22_id%22%20%3A%20%223%22%20%7D%20%7D%0A%7B%22type%22%3A%22test%22%2C%22%40timestamp%22%3A%222021-04-08T15%3A10%3A02.059158Z%22%2C%22operation%22%3A%20%22rename%22%2C%22description%22%3A%20%22%E7%94%A8%E6%88%B7%E2%80%9C%E5%BC%A0%E4%B8%89%E2%80%9D%E6%96%B0%E5%BB%BA%E6%96%87%E4%BB%B6%E2%80%9C%E4%BA%A7%E5%93%81%E8%B5%84%E6%96%99%2F%E4%BA%A7%E5%93%81%E7%99%BD%E7%9A%AE%E4%B9%A63.pdf%E2%80%9D%E3%80%82%22%2C%22target_object%22%3A%20%7B%22type%22%3A%20%22file%22%2C%22id%22%3A%20%22gns%3A%2F%2FD42F2729C56E489A948985D4E75C5813%2FEC3264CCC61D4560BD92C1D1411FD693%22%2C%22path%22%3A%20%22%E4%BA%A7%E5%93%81%E8%B5%84%E6%96%99%2F%E4%BA%A7%E5%93%81%E7%99%BD%E7%9A%AE%E4%B9%A63.pdf%22%2C%22size%22%3A%2012815318%2C%22doc_lib%22%3A%20%7B%22id%22%3A%20%22gns%3A%2F%2FD42F2729C56E489A948985D4E75C5812%22%2C%22type%22%3A%20%22department_doc_lib3%22%7D%7D%7D%0A%7B%20%22index%22%20%3A%20%7B%20%22_index%22%20%3A%20%22test-000001%22%2C%20%22_id%22%20%3A%20%224%22%20%7D%20%7D%0A%7B%22type%22%3A%22test%22%2C%22%40timestamp%22%3A%222021-04-08T15%3A20%3A02.059158Z%22%2C%22operation%22%3A%20%22rename%22%2C%22description%22%3A%20%22%E7%94%A8%E6%88%B7%E2%80%9C%E5%BC%A0%E4%B8%89%E2%80%9D%E6%96%B0%E5%BB%BA%E6%96%87%E4%BB%B6%E2%80%9C%E4%BA%A7%E5%93%81%E8%B5%84%E6%96%99%2F%E4%BA%A7%E5%93%81%E7%99%BD%E7%9A%AE%E4%B9%A61.pdf%E2%80%9D%E3%80%82%22%2C%22target_object%22%3A%20%7B%22type%22%3A%20%22file%22%2C%22id%22%3A%20%22gns%3A%2F%2FD42F2729C56E489A948985D4E75C5813%2FEC3264CCC61D4560BD92C1D1411FD691%22%2C%22path%22%3A%20%22%E4%BA%A7%E5%93%81%E8%B5%84%E6%96%99%2F%E4%BA%A7%E5%93%81%E7%99%BD%E7%9A%AE%E4%B9%A61.pdf%22%2C%22size%22%3A%2012815318%2C%22doc_lib%22%3A%20%7B%22id%22%3A%20%22gns%3A%2F%2FD42F2729C56E489A948985D4E75C5810%22%2C%22type%22%3A%20%22department_doc_lib1%22%7D%7D%7D%0A%7B%20%22index%22%20%3A%20%7B%20%22_index%22%20%3A%20%22test-000001%22%2C%20%22_id%22%20%3A%20%225%22%20%7D%20%7D%0A%7B%22type%22%3A%22test%22%2C%22%40timestamp%22%3A%222021-04-08T15%3A00%3A02.059158Z%22%2C%22operation%22%3A%20%22create%22%2C%22description%22%3A%20%22%E7%94%A8%E6%88%B7%E2%80%9C%E5%BC%A0%E4%B8%89%E2%80%9D%E6%96%B0%E5%BB%BA%E6%96%87%E4%BB%B6%E2%80%9C%E4%BA%A7%E5%93%81%E8%B5%84%E6%96%99%2F%E4%BA%A7%E5%93%81%E7%99%BD%E7%9A%AE%E4%B9%A64.pdf%E2%80%9D%E3%80%82%22%2C%22target_object%22%3A%20%7B%22type%22%3A%20%22file%22%2C%22id%22%3A%20%22gns%3A%2F%2FD42F2729C56E489A948985D4E75C5813%2FEC3264CCC61D4560BD92C1D1411FD694%22%2C%22path%22%3A%20%22%E4%BA%A7%E5%93%81%E8%B5%84%E6%96%99%2F%E4%BA%A7%E5%93%81%E7%99%BD%E7%9A%AE%E4%B9%A64.pdf%22%2C%22size%22%3A%2012815318%2C%22doc_lib%22%3A%20%7B%22id%22%3A%20%22gns%3A%2F%2FD42F2729C56E489A948985D4E75C5813%22%2C%22type%22%3A%20%22department_doc_lib4%22%7D%7D%7D%0A%7B%20%22index%22%20%3A%20%7B%20%22_index%22%20%3A%20%22test-000001%22%2C%20%22_id%22%20%3A%20%226%22%20%7D%20%7D%0A%7B%22type%22%3A%22test%22%2C%22%40timestamp%22%3A%222021-04-08T16%3A00%3A02.059158Z%22%2C%22operation%22%3A%20%22rename%22%2C%22description%22%3A%20%22%E7%94%A8%E6%88%B7%E2%80%9C%E5%BC%A0%E4%B8%89%E2%80%9D%E6%96%B0%E5%BB%BA%E6%96%87%E4%BB%B6%E2%80%9C%E4%BA%A7%E5%93%81%E8%B5%84%E6%96%99%2F%E4%BA%A7%E5%93%81%E7%99%BD%E7%9A%AE%E4%B9%A64.pdf%E2%80%9D%E3%80%82%22%2C%22target_object%22%3A%20%7B%22type%22%3A%20%22file%22%2C%22id%22%3A%20%22gns%3A%2F%2FD42F2729C56E489A948985D4E75C5813%2FEC3264CCC61D4560BD92C1D1411FD694%22%2C%22path%22%3A%20%22%E4%BA%A7%E5%93%81%E8%B5%84%E6%96%99%2F%E4%BA%A7%E5%93%81%E7%99%BD%E7%9A%AE%E4%B9%A64.pdf%22%2C%22size%22%3A%2012815318%2C%22doc_lib%22%3A%20%7B%22id%22%3A%20%22gns%3A%2F%2FD42F2729C56E489A948985D4E75C5813%22%2C%22type%22%3A%20%22department_doc_lib4%22%7D%7D%7D%0A'%0A%60%60%60%0A%0A**%E7%AC%AC2%E6%AD%A5****%C2%A0%C2%A0%20**%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%E5%A6%82%E5%9B%BE%E4%B8%BA200%EF%BC%8C%E5%88%99%E5%86%99%E5%85%A5%E6%88%90%E5%8A%9F%E3%80%82%0A%0A!%5Bimage%5D(images%2Fresult_of_bulk.png)%0A%0A%E7%94%B1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%8F%AF%E7%9F%A5%EF%BC%8C%E8%AF%A5%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B8%BAtest%EF%BC%8C%E5%88%99%E7%B4%A2%E5%BC%95%E5%BA%93%E5%90%8D%E7%A7%B0%E4%B8%BAtest%E3%80%82%0A%0A%23%23%23%23%23%20Search%E6%9F%A5%E8%AF%A2%0A%0A%2B%20url%0A%0Aip%3Aport%EF%BC%9A%E4%B8%BA%E8%83%BD%E5%A4%9F%E9%80%9A%E4%BF%A1UniQuery%E6%9C%8D%E5%8A%A1%E7%9A%84%E5%9C%B0%E5%9D%80%E5%92%8C%E7%AB%AF%E5%8F%A3%E5%8F%B7%0A%0A%60%60%60Plain%20Text%0Ahttp%3A%2F%2Fip%3Aport%2Fapi%2Funiquery%2Fv1%2Fdsl%2Ftest%2F_search%0A%60%60%60%0A%0A%2B%20Body%0A%0A%E6%9F%A5%E8%AF%A2%E5%9C%BA%E6%99%AF%E5%A6%82%E4%B8%8B%EF%BC%9A%E6%AF%8F%E6%9C%88%E4%B8%BA%E9%97%B4%E9%9A%94%E6%97%B6%E9%97%B4%EF%BC%8C%E7%BB%9F%E8%AE%A1%E6%AF%8F%E4%B8%AA%E6%96%87%E6%A1%A3%E5%BA%93%E7%B1%BB%E5%9E%8B%E4%B8%8B%E7%94%A8%E6%88%B7%E6%89%A7%E8%A1%8C%E7%9A%84%E6%93%8D%E4%BD%9C%EF%BC%8C%E5%B9%B6%E4%B8%94%E5%AF%B9%E6%93%8D%E4%BD%9C%E8%BF%9B%E8%A1%8C%E7%BB%9F%E8%AE%A1%E8%AE%A1%E6%95%B0%E3%80%82%0A%0A%60%60%60json%0A%7B%0A%20%20%22size%22%3A0%2C%0A%20%20%22aggs%22%3A%20%7B%0A%20%20%20%20%221%22%3A%20%7B%0A%20%20%20%20%20%20%22date_histogram%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%22field%22%3A%20%22%40timestamp%22%2C%0A%20%20%20%20%20%20%20%20%22calendar_interval%22%3A%20%221M%22%2C%0A%20%20%20%20%20%20%20%20%22min_doc_count%22%3A1%2C%0A%20%20%20%20%20%20%20%20%22time_zone%22%3A%22Asia%2FShanghai%22%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%22aggs%22%3A%7B%0A%20%20%20%20%20%20%20%20%20%20%222%22%3A%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22terms%22%3A%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22field%22%3A%22target_object.doc_lib.type.keyword%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22aggs%22%3A%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%223%22%3A%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22terms%22%3A%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22field%22%3A%22operation.keyword%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%0A%60%60%60%0A%0A%2B%20%E7%BB%93%E6%9E%9C%E5%A6%82%E4%B8%8B%EF%BC%9A%0A%0A%60%60%60json%0A%7B%0A%20%20%20%20%22took%22%3A%204%2C%0A%20%20%20%20%22timed_out%22%3A%20false%2C%0A%20%20%20%20%22_shards%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%22total%22%3A%201%2C%0A%20%20%20%20%20%20%20%20%22successful%22%3A%201%2C%0A%20%20%20%20%20%20%20%20%22skipped%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%22failed%22%3A%200%0A%20%20%20%20%7D%2C%0A%20%20%20%20%22hits%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%22total%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22value%22%3A%206%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22relation%22%3A%20%22eq%22%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%22max_score%22%3A%20null%2C%0A%20%20%20%20%20%20%20%20%22hits%22%3A%20%5B%5D%0A%20%20%20%20%7D%2C%0A%20%20%20%20%22aggregations%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%221%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22buckets%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key_as_string%22%3A%20%222021-01-01T00%3A00%3A00.000%2B08%3A00%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key%22%3A%201609430400000%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count%22%3A%201%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%222%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count_error_upper_bound%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22sum_other_doc_count%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22buckets%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key%22%3A%20%22department_doc_lib1%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count%22%3A%201%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%223%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count_error_upper_bound%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22sum_other_doc_count%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22buckets%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key%22%3A%20%22create%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count%22%3A%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key_as_string%22%3A%20%222021-04-01T00%3A00%3A00.000%2B08%3A00%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key%22%3A%201617206400000%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count%22%3A%204%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%222%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count_error_upper_bound%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22sum_other_doc_count%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22buckets%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key%22%3A%20%22department_doc_lib4%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count%22%3A%202%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%223%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count_error_upper_bound%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22sum_other_doc_count%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22buckets%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key%22%3A%20%22create%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count%22%3A%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key%22%3A%20%22rename%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count%22%3A%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key%22%3A%20%22department_doc_lib1%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count%22%3A%201%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%223%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count_error_upper_bound%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22sum_other_doc_count%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22buckets%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key%22%3A%20%22rename%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count%22%3A%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key%22%3A%20%22department_doc_lib3%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count%22%3A%201%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%223%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count_error_upper_bound%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22sum_other_doc_count%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22buckets%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key%22%3A%20%22rename%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count%22%3A%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key_as_string%22%3A%20%222021-08-01T00%3A00%3A00.000%2B08%3A00%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key%22%3A%201627747200000%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count%22%3A%201%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%222%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count_error_upper_bound%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22sum_other_doc_count%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22buckets%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key%22%3A%20%22department_doc_lib2%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count%22%3A%201%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%223%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count_error_upper_bound%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22sum_other_doc_count%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22buckets%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key%22%3A%20%22delete%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count%22%3A%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%60%60%60%0A%0A%0A%23%23%23%23%23%20Search%20%E6%9F%A5%E8%AF%A2%E4%BD%BF%E7%94%A8%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%E8%AF%B7%E6%B1%82%E7%A4%BA%E4%BE%8B%0A%0A%0A**%E7%AC%AC1%E6%AD%A5****%C2%A0%C2%A0%20**%E7%BB%99%E7%B4%A2%E5%BC%95%E5%BA%93%E5%88%9B%E5%BB%BA%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%EF%BC%9A%0A%0A%E5%88%9B%E5%BB%BA%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%E5%8F%AF%E9%80%9A%E8%BF%87%20AnyRobot%20%E7%AE%A1%E7%90%86%E9%A1%B5%E9%9D%A2%E5%88%9B%E5%BB%BA%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E8%B0%83%E7%94%A8%20API%20%E5%88%9B%E5%BB%BA%E3%80%82%E5%85%B7%E4%BD%93%E6%96%B9%E5%BC%8F%E5%A6%82%E4%B8%8B%EF%BC%9A%0A%0A1.%20%E6%96%B9%E5%BC%8F%E4%B8%80%EF%BC%9A%E7%99%BB%E5%BD%95%20AnyRobot%20%E9%A1%B5%E9%9D%A2%E5%88%9B%E5%BB%BA%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%EF%BC%9A%0A%2B%20%E7%99%BB%E5%BD%95%20AnyRobot%EF%BC%8C%E6%96%B0%E5%BB%BA%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%EF%BC%9A%0A%0A%E9%80%9A%E8%BF%87%20%22%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86-%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84-%E6%96%B0%E5%BB%BA%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%22%0A!%5Bimage%5D(images%2Fcreate_log_group1.png)%0A!%5Bimage%5D(images%2Fcreate_log_group2.png)%0A%0A%2B%20%E8%8E%B7%E5%8F%96%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84id%EF%BC%9A%0A%0A%E6%96%B0%E5%BB%BA%E4%B9%8B%E5%90%8E%E7%82%B9%E5%87%BB%E4%BF%9D%E5%AD%98%EF%BC%8C%E5%9C%A8%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%E8%AF%A6%E6%83%85%E9%A1%B5%E5%8F%AF%E4%BB%A5%E6%9F%A5%E7%9C%8B%E5%88%B0%E8%AF%A5%E5%88%86%E7%BB%84%E7%9A%84id%EF%BC%9A%0A!%5Bimage%5D(images%2Floggroup_id.png)%0A%0A2.%20%E6%96%B9%E5%BC%8F%E4%BA%8C%EF%BC%9A%E8%B0%83%E7%94%A8%20API%20%E5%88%9B%E5%BB%BA%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%EF%BC%9A%0A%2B%20%E5%85%88%E8%8E%B7%E5%8F%96%E6%97%A5%E5%BF%97%E5%BA%93id%EF%BC%9A%0A%60%60%60json%0Acurl%20http%3A%2F%2F10.4.14.35%2Fapi%2Fv1%2FdataManager%2FlogWareHouse%3FdataType%3Dtest%20%7Cjq%20.data%5B0%5D.id%0A%60%60%60%0A%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%E5%A6%82%E4%B8%8B%E5%9B%BE%EF%BC%9A%0A!%5Bimage%5D(images%2Fget_logwarehouse_id.png)%0A%0A%0A%2B%20%E5%88%9B%E5%BB%BA%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%EF%BC%9A%0A%0A%E6%8A%8A%E4%B8%8A%E9%9D%A2%E8%8E%B7%E5%8F%96%E5%88%B0%E7%9A%84%E6%97%A5%E5%BF%97%E5%BA%93%20id%20%E6%94%BE%E5%85%A5%E8%AF%B7%E6%B1%82%20body%20%E7%9A%84%20logWareHouse%20%E4%B8%AD%EF%BC%8C%E7%84%B6%E5%90%8E%E8%B0%83%E7%94%A8%E6%8E%A5%E5%8F%A3%E5%88%9B%E5%BB%BA%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%E3%80%82%0A%60%60%60json%0Acurl%20-X%20POST%20'http%3A%2F%2F10.4.14.35%2Fmanager%2Floggroup%3Foperate%3Dcreate'%20-H%20'user%3A%20f5a08cb056c539d76f373bbc94458e39'%20-H%20'Content-Type%3A%20application%2Fjson'%20-d'%0A%7B%0A%09%22description%22%3A%20%22%22%2C%0A%09%22filters%22%3A%20%7B%0A%09%09%22advance%22%3A%20%22%22%2C%0A%09%09%22host%22%3A%20%5B%0A%09%09%09%22*%22%0A%09%09%5D%2C%0A%09%09%22logWareHouse%22%3A%20%5B%0A%09%09%09%22098f6bcd4621d373cade4e832627b4f6%22%0A%09%09%5D%2C%0A%09%09%22tags%22%3A%20%5B%0A%09%09%09%22*%22%0A%09%09%5D%2C%0A%09%09%22type%22%3A%20%5B%0A%09%09%09%7B%0A%09%09%09%09%22negative%22%3A%200%2C%0A%09%09%09%09%22type%22%3A%200%2C%0A%09%09%09%09%22value%22%3A%20%22test%22%0A%09%09%09%7D%0A%09%09%5D%0A%09%7D%2C%0A%09%22groupName%22%3A%20%22test_loggroup%22%2C%0A%09%22parentGroupId%22%3A%20%22%22%0A%7D%0A'%0A%60%60%60%0A%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%E5%8D%B3%E4%B8%BA%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84id%EF%BC%8C%E5%A6%82%E4%B8%8B%E5%A6%82%E6%89%80%E7%A4%BA%EF%BC%9A%0A!%5Bimage%5D(images%2Floggroup_id_of_test.png)%0A%0A%0A**%E7%AC%AC2%E6%AD%A5****%C2%A0%C2%A0%20**%E5%8F%91%E9%80%81dsl%E8%AF%B7%E6%B1%82%EF%BC%9A%0A%0A%2B%20url%0A%0Aip%3Aport%EF%BC%9A%E4%B8%BA%E8%83%BD%E5%A4%9F%E9%80%9A%E4%BF%A1UniQuery%E6%9C%8D%E5%8A%A1%E7%9A%84%E5%9C%B0%E5%9D%80%E5%92%8C%E7%AB%AF%E5%8F%A3%E5%8F%B7%0A%0A%60%60%60Plain%20Text%0Ahttp%3A%2F%2Fip%3Aport%2Fapi%2Funiquery%2Fv1%2Fdsl%2F_search%0A%60%60%60%0A%0A%2B%20Body%0A%0A%E6%9F%A5%E8%AF%A2%E5%9C%BA%E6%99%AF%E5%A6%82%E4%B8%8B%EF%BC%9A%E6%AF%8F%E6%9C%88%E4%B8%BA%E9%97%B4%E9%9A%94%E6%97%B6%E9%97%B4%EF%BC%8C%E7%BB%9F%E8%AE%A1%E6%AF%8F%E4%B8%AA%E6%96%87%E6%A1%A3%E5%BA%93%E7%B1%BB%E5%9E%8B%E4%B8%8B%E7%94%A8%E6%88%B7%E6%89%A7%E8%A1%8C%E7%9A%84%E6%93%8D%E4%BD%9C%EF%BC%8C%E5%B9%B6%E4%B8%94%E5%AF%B9%E6%93%8D%E4%BD%9C%E8%BF%9B%E8%A1%8C%E7%BB%9F%E8%AE%A1%E8%AE%A1%E6%95%B0%E3%80%82%0A%0A%60%60%60json%0A%7B%0A%20%20%22size%22%3A0%2C%0A%20%20%22aggs%22%3A%20%7B%0A%20%20%20%20%221%22%3A%20%7B%0A%20%20%20%20%20%20%22date_histogram%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%22field%22%3A%20%22%40timestamp%22%2C%0A%20%20%20%20%20%20%20%20%22calendar_interval%22%3A%20%221M%22%2C%0A%20%20%20%20%20%20%20%20%22min_doc_count%22%3A1%2C%0A%20%20%20%20%20%20%20%20%22time_zone%22%3A%22Asia%2FShanghai%22%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%22aggs%22%3A%7B%0A%20%20%20%20%20%20%20%20%20%20%222%22%3A%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22terms%22%3A%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22field%22%3A%22target_object.doc_lib.type.keyword%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22aggs%22%3A%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%223%22%3A%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22terms%22%3A%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22field%22%3A%22operation.keyword%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%20%20%22ar_dataview%22%3A%20%2212e67ca4-59c5-11ed-a2c9-426e99007676%22%0A%7D%0A%60%60%60%0A%0A%2B%20%E7%BB%93%E6%9E%9C%E5%A6%82%E4%B8%8B%EF%BC%9A%0A%0A%60%60%60json%0A%7B%0A%20%20%20%20%22took%22%3A%204%2C%0A%20%20%20%20%22timed_out%22%3A%20false%2C%0A%20%20%20%20%22_shards%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%22total%22%3A%201%2C%0A%20%20%20%20%20%20%20%20%22successful%22%3A%201%2C%0A%20%20%20%20%20%20%20%20%22skipped%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%22failed%22%3A%200%0A%20%20%20%20%7D%2C%0A%20%20%20%20%22hits%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%22total%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22value%22%3A%206%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22relation%22%3A%20%22eq%22%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%22max_score%22%3A%20null%2C%0A%20%20%20%20%20%20%20%20%22hits%22%3A%20%5B%5D%0A%20%20%20%20%7D%2C%0A%20%20%20%20%22aggregations%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%221%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22buckets%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key_as_string%22%3A%20%222021-01-01T00%3A00%3A00.000%2B08%3A00%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key%22%3A%201609430400000%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count%22%3A%201%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%222%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count_error_upper_bound%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22sum_other_doc_count%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22buckets%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key%22%3A%20%22department_doc_lib1%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count%22%3A%201%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%223%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count_error_upper_bound%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22sum_other_doc_count%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22buckets%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key%22%3A%20%22create%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count%22%3A%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key_as_string%22%3A%20%222021-04-01T00%3A00%3A00.000%2B08%3A00%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key%22%3A%201617206400000%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count%22%3A%204%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%222%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count_error_upper_bound%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22sum_other_doc_count%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22buckets%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key%22%3A%20%22department_doc_lib4%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count%22%3A%202%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%223%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count_error_upper_bound%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22sum_other_doc_count%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22buckets%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key%22%3A%20%22create%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count%22%3A%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key%22%3A%20%22rename%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count%22%3A%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key%22%3A%20%22department_doc_lib1%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count%22%3A%201%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%223%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count_error_upper_bound%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22sum_other_doc_count%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22buckets%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key%22%3A%20%22rename%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count%22%3A%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key%22%3A%20%22department_doc_lib3%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count%22%3A%201%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%223%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count_error_upper_bound%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22sum_other_doc_count%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22buckets%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key%22%3A%20%22rename%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count%22%3A%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key_as_string%22%3A%20%222021-08-01T00%3A00%3A00.000%2B08%3A00%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key%22%3A%201627747200000%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count%22%3A%201%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%222%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count_error_upper_bound%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22sum_other_doc_count%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22buckets%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key%22%3A%20%22department_doc_lib2%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count%22%3A%201%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%223%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count_error_upper_bound%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22sum_other_doc_count%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22buckets%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22key%22%3A%20%22delete%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_count%22%3A%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%60%60%60%0A%0A%23%23%23%23%23%20Scroll%E6%9F%A5%E8%AF%A2%E8%AF%B7%E6%B1%82%E7%A4%BA%E4%BE%8B%0A%0A**%E7%AC%AC1%E6%AD%A5****%C2%A0%C2%A0%20**%E5%8F%91%E9%80%81dsl%E8%AF%B7%E6%B1%82%EF%BC%9B%0A%0A%2B%20url%0A%0Aip%3Aport%EF%BC%9A%E4%B8%BA%E8%83%BD%E5%A4%9F%E9%80%9A%E4%BF%A1UniQuery%E6%9C%8D%E5%8A%A1%E7%9A%84%E5%9C%B0%E5%9D%80%E5%92%8C%E7%AB%AF%E5%8F%A3%E5%8F%B7%0A%0A%60%60%60Plain%20Text%0Ahttp%3A%2F%2Fip%3Aport%2Fapi%2Funiquery%2Fv1%2Fdsl%2Ftest%20%2F_search%3Fscroll%3D1m%0A%60%60%60%0A%0A%2B%20Body%0A%0A%E6%9F%A5%E8%AF%A2%E5%9C%BA%E6%99%AF%E5%A6%82%E4%B8%8B%EF%BC%9A%E8%8E%B7%E5%8F%96test%E5%BA%93%E4%B8%8B%E5%88%9B%E5%BB%BA%E6%93%8D%E4%BD%9C%E7%9A%84%E4%BA%8B%E4%BB%B6%0A%0A%60%60%60json%0A%7B%0A%20%20%22query%22%3A%7B%0A%20%20%20%20%20%20%22bool%22%3A%7B%0A%20%20%20%20%20%20%20%20%20%20%22filter%22%3A%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22term%22%3A%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22operation%22%3A%22create%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%7D%0A%7D%0A%60%60%60%0A%0A%2B%20%E7%BB%93%E6%9E%9C%E5%A6%82%E4%B8%8B%EF%BC%9A%0A%0A%60%60%60json%0A%7B%0A%20%20%20%20%22_scroll_id%22%3A%20%22FGluY2x1ZGVfY29udGV4dF91dWlkDXF1ZXJ5QW5kRmV0Y2gBFnVTazZRNzMzU3RXcGNFY2lkU0pmX0EAAAAAAD1J2hY3VC1YSnF6VlJOT084cVZiY1pCdG1B%22%2C%0A%20%20%20%20%22took%22%3A%201%2C%0A%20%20%20%20%22timed_out%22%3A%20false%2C%0A%20%20%20%20%22_shards%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%22total%22%3A%201%2C%0A%20%20%20%20%20%20%20%20%22successful%22%3A%201%2C%0A%20%20%20%20%20%20%20%20%22skipped%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%22failed%22%3A%200%0A%20%20%20%20%7D%2C%0A%20%20%20%20%22hits%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%22total%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22value%22%3A%202%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22relation%22%3A%20%22eq%22%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%22max_score%22%3A%200.0%2C%0A%20%20%20%20%20%20%20%20%22hits%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22_index%22%3A%20%22test-0%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22_type%22%3A%20%22_doc%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22_id%22%3A%20%221%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22_score%22%3A%200.0%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22_source%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22type%22%3A%20%22test%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%40timestamp%22%3A%20%222021-01-08T15%3A00%3A02.059158Z%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22operation%22%3A%20%22create%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22description%22%3A%20%22%E7%94%A8%E6%88%B7%E2%80%9C%E5%BC%A0%E4%B8%89%E2%80%9D%E6%96%B0%E5%BB%BA%E6%96%87%E4%BB%B6%E2%80%9C%E4%BA%A7%E5%93%81%E8%B5%84%E6%96%99%2F%E4%BA%A7%E5%93%81%E7%99%BD%E7%9A%AE%E4%B9%A61.pdf%E2%80%9D%E3%80%82%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22target_object%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22type%22%3A%20%22file%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22id%22%3A%20%22gns%3A%2F%2FD42F2729C56E489A948985D4E75C5813%2FEC3264CCC61D4560BD92C1D1411FD691%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22path%22%3A%20%22%E4%BA%A7%E5%93%81%E8%B5%84%E6%96%99%2F%E4%BA%A7%E5%93%81%E7%99%BD%E7%9A%AE%E4%B9%A61.pdf%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22size%22%3A%2012815410%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_lib%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22id%22%3A%20%22gns%3A%2F%2FD42F2729C56E489A948985D4E75C5810%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22type%22%3A%20%22department_doc_lib1%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22_index%22%3A%20%22test-0%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22_type%22%3A%20%22_doc%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22_id%22%3A%20%225%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22_score%22%3A%200.0%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22_source%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22type%22%3A%20%22test%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%40timestamp%22%3A%20%222021-04-08T15%3A00%3A02.059158Z%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22operation%22%3A%20%22create%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22description%22%3A%20%22%E7%94%A8%E6%88%B7%E2%80%9C%E5%BC%A0%E4%B8%89%E2%80%9D%E6%96%B0%E5%BB%BA%E6%96%87%E4%BB%B6%E2%80%9C%E4%BA%A7%E5%93%81%E8%B5%84%E6%96%99%2F%E4%BA%A7%E5%93%81%E7%99%BD%E7%9A%AE%E4%B9%A64.pdf%E2%80%9D%E3%80%82%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22target_object%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22type%22%3A%20%22file%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22id%22%3A%20%22gns%3A%2F%2FD42F2729C56E489A948985D4E75C5813%2FEC3264CCC61D4560BD92C1D1411FD694%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22path%22%3A%20%22%E4%BA%A7%E5%93%81%E8%B5%84%E6%96%99%2F%E4%BA%A7%E5%93%81%E7%99%BD%E7%9A%AE%E4%B9%A64.pdf%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22size%22%3A%2012815318%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22doc_lib%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22id%22%3A%20%22gns%3A%2F%2FD42F2729C56E489A948985D4E75C5813%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22type%22%3A%20%22department_doc_lib4%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%7D%0A%7D%0A%60%60%60%0A%0A**%E7%AC%AC2%E6%AD%A5****%C2%A0%C2%A0%20**%E5%8F%91%E9%80%81scroll%E8%AF%B7%E6%B1%82%0A%0A%2B%20url%EF%BC%9A%0A%0A%60%60%60Plain%20Text%0Ahttp%3A%2F%2Fip%3Aport%20%2Fapi%2Fsearch%2Fv1%2Fdsl%2Ftest%2F_search%3Fscroll%3D1m%0A%60%60%60%0A%0A%2B%20Body%EF%BC%9A%0A%0A%60%60%60json%0A%7B%0A%20%20%22scroll_id%22%3A%20%22FGluY2x1ZGVfY29udGV4dF91dWlkDXF1ZXJ5QW5kRmV0Y2gBFnVTazZRNzMzU3RXcGNFY2lkU0pmX0EAAAAAAD1J2xY3VC1YSnF6VlJOT084cVZiY1pCdG1B%22%0A%7D%0A%60%60%60%0A%0A%2B%20%E7%BB%93%E6%9E%9C%E5%A6%82%E4%B8%8B%EF%BC%9A%0A%0A%E7%94%B1%E4%BA%8E%E5%8F%AA%E6%9C%89%E4%B8%A4%E6%9D%A1%E6%95%B0%E6%8D%AE%EF%BC%8C%E6%89%80%E4%BB%A5%E7%AC%AC%E4%BA%8C%E6%AC%A1%E8%8E%B7%E5%8F%96%E4%B8%BA%E7%A9%BA%E6%95%B0%E6%8D%AE%E9%9B%86%0A%0A%60%60%60json%0A%7B%0A%20%20%20%20%22took%22%3A%2055%2C%0A%20%20%20%20%22timed_out%22%3A%20false%2C%0A%20%20%20%20%22_shards%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%22total%22%3A%201%2C%0A%20%20%20%20%20%20%20%20%22successful%22%3A%201%2C%0A%20%20%20%20%20%20%20%20%22skipped%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%22failed%22%3A%200%0A%20%20%20%20%7D%2C%0A%20%20%20%20%22hits%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%22total%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22value%22%3A%202%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22relation%22%3A%20%22eq%22%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%22max_score%22%3A%200.0%2C%0A%20%20%20%20%20%20%20%20%22hits%22%3A%20%5B%5D%0A%20%20%20%20%7D%0A%7D%0A%60%60%60%0A%0A%23%23%23%23%23%20Count%E6%9F%A5%E8%AF%A2%0A%0A%2B%20url%0A%0Aip%3Aport%EF%BC%9A%E4%B8%BA%E8%83%BD%E5%A4%9F%E9%80%9A%E4%BF%A1UniQuery%E6%9C%8D%E5%8A%A1%E7%9A%84%E5%9C%B0%E5%9D%80%E5%92%8C%E7%AB%AF%E5%8F%A3%E5%8F%B7%0A%0A%60%60%60Plain%20Text%0Ahttp%3A%2F%2Fip%3Aport%2Fapi%2Funiquery%2Fv1%2Fdsl%2Ftest%20%2F_count%0A%60%60%60%0A%0A%2B%20Body%0A%0A%E6%9F%A5%E8%AF%A2%E5%9C%BA%E6%99%AF%E5%A6%82%E4%B8%8B%EF%BC%9A%E7%BB%9F%E8%AE%A1%E6%96%87%E6%A1%A3%E6%80%BB%E6%95%B0%0A%0A%60%60%60json%0A%7B%0A%20%20%22query%22%3A%7B%0A%20%20%20%20%20%20%20%22match_all%22%3A%20%7B%7D%0A%20%20%7D%0A%7D%0A%60%60%60%0A%0A%2B%20%E7%BB%93%E6%9E%9C%E5%A6%82%E4%B8%8B%EF%BC%9A%0A%0A%60%60%60json%0A%7B%0A%20%20%20%20%22count%22%3A%206%2C%0A%20%20%20%20%22_shards%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%22total%22%3A%201%2C%0A%20%20%20%20%20%20%20%20%22successful%22%3A%201%2C%0A%20%20%20%20%20%20%20%20%22skipped%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%22failed%22%3A%200%0A%20%20%20%20%7D%0A%7D%0A%60%60%60%0A%0A%23%23%23%23%23%20Count%20%E6%9F%A5%E8%AF%A2%E4%BD%BF%E7%94%A8%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%E8%AF%B7%E6%B1%82%E7%A4%BA%E4%BE%8B%0A%2B%20url%0A%0Aip%3Aport%EF%BC%9A%E4%B8%BA%E8%83%BD%E5%A4%9F%E9%80%9A%E4%BF%A1UniQuery%E6%9C%8D%E5%8A%A1%E7%9A%84%E5%9C%B0%E5%9D%80%E5%92%8C%E7%AB%AF%E5%8F%A3%E5%8F%B7%0A%0A%60%60%60Plain%20Text%0Ahttp%3A%2F%2Fip%3Aport%2Fapi%2Funiquery%2Fv1%2Fdsl%2F_count%0A%60%60%60%0A%0A%2B%20Body%0A%0A%E6%9F%A5%E8%AF%A2%E5%9C%BA%E6%99%AF%E5%A6%82%E4%B8%8B%EF%BC%9A%E7%BB%9F%E8%AE%A1%E6%96%87%E6%A1%A3%E6%80%BB%E6%95%B0%0A%0A%60%60%60json%0A%7B%0A%20%20%22query%22%3A%7B%0A%20%20%20%20%20%20%20%22match_all%22%3A%20%7B%7D%0A%20%20%7D%2C%0A%20%20%22ar_dataview%22%3A%20%2212e67ca4-59c5-11ed-a2c9-426e99007676%22%0A%7D%0A%60%60%60%0A%0A%2B%20%E7%BB%93%E6%9E%9C%E5%A6%82%E4%B8%8B%EF%BC%9A%0A%0A%60%60%60json%0A%7B%0A%20%20%20%20%22count%22%3A%206%2C%0A%20%20%20%20%22_shards%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%22total%22%3A%201%2C%0A%20%20%20%20%20%20%20%20%22successful%22%3A%201%2C%0A%20%20%20%20%20%20%20%20%22skipped%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%22failed%22%3A%200%0A%20%20%20%20%7D%0A%7D%0A%60%60%60%0A%0A%23%23%202.3%20PromQL%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80%0A%0A%23%23%23%202.3.1%20%E5%AE%9A%E4%B9%89%0A%0APromQL%EF%BC%88Prometheus%20Query%20Language%EF%BC%89%E6%98%AFPrometheus%E5%86%85%E7%BD%AE%E7%9A%84%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80%EF%BC%8C%E5%AE%83%E8%83%BD%E5%AE%9E%E7%8E%B0%E5%AF%B9%E4%BA%8B%E4%BB%B6%E5%BA%8F%E5%88%97%E6%95%B0%E6%8D%AE%E7%9A%84%E6%9F%A5%E8%AF%A2%E3%80%81%E8%81%9A%E5%90%88%E3%80%81%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AD%89%E3%80%82%E5%AE%83%E5%B9%B6%E4%B8%94%E8%A2%AB%E5%B9%BF%E6%B3%9B%E5%BA%94%E7%94%A8%E5%9C%A8Prometheus%E7%9A%84%E6%97%A5%E5%B8%B8%E5%BA%94%E7%94%A8%E5%BD%93%E4%B8%AD%EF%BC%8C%E5%8C%85%E6%8B%AC%E5%AF%B9%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2%E3%80%81%E5%8F%AF%E8%A7%86%E5%8C%96%E3%80%81%E5%91%8A%E8%AD%A6%E5%A4%84%E7%90%86%E5%BD%93%E4%B8%AD%E3%80%82%0A%0A%E9%80%9A%E8%BF%87%20PromQL%20%E7%9A%84%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E5%8F%AF%E6%94%AF%E6%8C%81%E5%AF%B9%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E3%80%81%E6%97%A5%E5%BF%97%E6%95%B0%E6%8D%AE%E5%81%9A%E8%81%9A%E5%90%88%E6%9F%A5%E8%AF%A2%E3%80%82%E5%B9%B6%E5%9C%A8%E5%85%BC%E5%AE%B9%20Prometheus%20%E7%9A%84%20PromQL%20%E7%9A%84%E5%9F%BA%E7%A1%80%E4%B8%8A%E6%89%A9%E5%B1%95%E6%96%B0%E7%9A%84%E5%8A%9F%E8%83%BD%E4%BB%A5%E6%94%AF%E6%8C%81%E7%89%B9%E5%AE%9A%E5%9C%BA%E6%99%AF%E7%9A%84%E7%BB%9F%E8%AE%A1%E6%9F%A5%E8%AF%A2%E3%80%82%0A%0AUniQuery%20%E5%B0%86%E8%BE%93%E5%85%A5%E7%9A%84%20PromQL%20%E8%A7%A3%E6%9E%90%E6%88%90%20AST%EF%BC%8C%E5%8F%B6%E5%AD%90%E8%8A%82%E7%82%B9%E6%8A%8A%E6%9F%A5%E8%AF%A2%E8%AF%B7%E6%B1%82%E7%9A%84%E8%BF%87%E6%BB%A4%E6%9D%A1%E4%BB%B6%E5%92%8C%E8%81%9A%E5%90%88%E9%80%BB%E8%BE%91%E8%BD%AC%E6%8D%A2%E4%B8%BADSL%EF%BC%8C%E6%A0%B9%E6%8D%AE%E7%B4%A2%E5%BC%95%E9%80%89%E6%8B%A9%E5%92%8C%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E4%BC%98%E5%8C%96%E7%9A%84%E7%BB%93%E6%9E%9C%EF%BC%8C%E5%86%8D%E7%BB%93%E5%90%88%E7%B4%A2%E5%BC%95%E5%92%8C%E7%B4%A2%E5%BC%95%E7%9A%84%E5%88%86%E7%89%87%E6%95%B0%EF%BC%8C%E5%B9%B6%E5%8F%91%E4%BB%8E%20Opensearch%20%E4%B8%AD%E8%8E%B7%E5%8F%96%E7%BB%93%E6%9E%9C%E3%80%82%E4%B9%8B%E5%90%8E%E5%AF%B9%E5%90%84%E4%B8%AA%E7%B4%A2%E5%BC%95%E5%90%84%E4%B8%AA%E5%88%86%E7%89%87%E8%BF%94%E5%9B%9E%E7%9A%84%E6%95%B0%E6%8D%AE%E5%81%9A%E5%90%88%E5%B9%B6%E5%A4%84%E7%90%86%EF%BC%8C%E5%86%8D%E6%8A%8A%E6%95%B0%E6%8D%AE%E9%80%90%E5%B1%82%E6%B5%81%E8%BD%AC%E5%88%B0%E4%B8%8A%E5%B1%82%E8%8A%82%E7%82%B9%E6%89%A7%E8%A1%8C%EF%BC%8C%E7%9B%B4%E5%88%B0%E9%A1%B6%E5%B1%82%E8%8A%82%E7%82%B9%E6%89%A7%E8%A1%8C%E5%AE%8C%E6%AF%95%E3%80%82%0A%0A%E5%9C%A8%20PromQL%20%E7%9A%84%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%AF%AD%E8%A8%80%E4%B8%AD%EF%BC%8C%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%88%96%E5%AD%90%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%8F%AF%E4%BB%A5%E8%AE%A1%E7%AE%97%E4%B8%BA%E4%BB%A5%E4%B8%8B%E4%B8%89%E7%A7%8D%E7%B1%BB%E5%9E%8B%E4%B9%8B%E4%B8%80%EF%BC%9A%0A%2B%20%E7%9E%AC%E6%97%B6%E5%90%91%E9%87%8F%20-%20%E4%B8%80%E7%BB%84%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%EF%BC%8C%E6%AF%8F%E4%B8%AA%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E5%8C%85%E5%90%AB%E4%B8%80%E4%B8%AA%E6%A0%B7%E6%9C%AC%EF%BC%8C%E9%83%BD%E5%85%B1%E4%BA%AB%E7%9B%B8%E5%90%8C%E7%9A%84%E6%97%B6%E9%97%B4%E6%88%B3%E3%80%82%0A%2B%20%E8%8C%83%E5%9B%B4%E5%90%91%E9%87%8F%20-%20%E4%B8%80%E7%BB%84%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%EF%BC%8C%E5%85%B6%E4%B8%AD%E5%8C%85%E5%90%AB%E6%AF%8F%E4%B8%AA%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E5%9C%A8%E6%97%B6%E9%97%B4%E8%8C%83%E5%9B%B4%E5%86%85%E9%9A%8F%E6%97%B6%E9%97%B4%E5%8F%98%E5%8C%96%E7%9A%84%E6%95%B0%E6%8D%AE%E7%82%B9%E3%80%82%0A%2B%20%E6%A0%87%E9%87%8F%20-%20%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E6%95%B0%E5%AD%97%E6%B5%AE%E7%82%B9%E5%80%BC%E3%80%82%0A%0A%0A%23%23%23%202.3.2%20%E5%9F%BA%E6%9C%AC%E6%9F%A5%E8%AF%A2%0A%0A%23%23%23%23%202.3.2.1%20%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E9%80%89%E6%8B%A9%E5%99%A8%0A%0A1.%20%E8%AF%AD%E4%B9%89%0A%0A%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E9%80%89%E6%8B%A9%E5%99%A8%E4%B9%9F%E5%8F%AB%E7%9E%AC%E6%97%B6%E5%90%91%E9%87%8F%E9%80%89%E6%8B%A9%E5%99%A8%E3%80%82%E6%8C%87%E6%8C%89%E6%AD%A5%E9%95%BF%E8%BF%94%E5%9B%9E%E6%97%B6%E9%97%B4%E8%8C%83%E5%9B%B4%E5%86%85%E5%85%B7%E6%9C%89%E6%AD%A4%E6%8C%87%E6%A0%87%E5%90%8D%E7%A7%B0%E7%9A%84%E6%89%80%E6%9C%89%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E3%80%82%0A%0A2.%20%E8%AF%AD%E6%B3%95%E7%BB%93%E6%9E%84%0A%0A%60%60%60%20markdown%0A%3Cmetric_name%3E%7B%3Clabel_matcher_list%3E%7D%0A%60%60%60%0A%0A%2B%20%E5%BF%85%E8%A6%81%E5%8F%82%E6%95%B0%3A%0A%20%20%2B%20%60%3Cmetric_name%3E%60%3A%20%E9%9C%80%E8%A6%81%E6%9F%A5%E8%AF%A2%E7%9A%84%E6%8C%87%E6%A0%87%E5%90%8D%EF%BC%8C%E6%8C%87%E6%A0%87%E5%90%8D%E7%A7%B0%E6%98%AF%E5%AD%98%E5%82%A8%E5%9C%A8%E7%B4%A2%E5%BC%95%E5%BA%93%E4%B8%AD%E7%9A%84%E4%B8%80%E4%B8%AA%E5%AD%97%E6%AE%B5%EF%BC%8C%E6%A0%B9%E6%8D%AE%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84%E5%AE%9A%E4%B9%89%E3%80%82%0A%0A%2B%20%E9%9D%9E%E5%BF%85%E8%A6%81%E5%8F%82%E6%95%B0%3A%0A%20%20%2B%20%60%3Clabel_matcher_list%3E%60%3A%20%E6%A0%87%E7%AD%BE%E8%BF%87%E6%BB%A4%E6%9D%A1%E4%BB%B6%E5%88%97%E8%A1%A8%EF%BC%8C%E5%A4%9A%E4%B8%AA%E6%9D%A1%E4%BB%B6%E4%B9%8B%E9%97%B4%E7%94%A8%E9%80%97%E5%8F%B7%E5%88%86%E9%9A%94%E3%80%82%0A%20%20%20%20%2B%20%E8%AF%AD%E6%B3%95%EF%BC%9A%20%60%3Clabel_name%3E%20%3C%E6%A0%87%E7%AD%BE%E5%8C%B9%E9%85%8D%E8%BF%90%E7%AE%97%E7%AC%A6%3E%20%3Clabel_value%3E%60%E3%80%82%E5%A4%9A%E4%B8%AA%E8%BF%87%E6%BB%A4%E6%9D%A1%E4%BB%B6%E7%94%A8%E8%8B%B1%E6%96%87%E9%80%97%E5%8F%B7%E5%88%86%E9%9A%94%E3%80%82%0A%20%20%20%20%20%20%2B%20%60%3Clabel_name%3E%60%3A%20%E9%9C%80%E8%BF%87%E6%BB%A4%E7%9A%84%E6%A0%87%E7%AD%BE%E5%90%8D%EF%BC%8C%E6%A0%87%E7%AD%BE%E5%90%8D%E7%A7%B0%E6%98%AF%E5%AD%98%E5%82%A8%E5%9C%A8%E7%B4%A2%E5%BC%95%E5%BA%93%E4%B8%AD%E7%9A%84%E4%B8%80%E4%B8%AA%E5%AD%97%E6%AE%B5%EF%BC%8C%E6%A0%B9%E6%8D%AE%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84%E5%AE%9A%E4%B9%89%E3%80%82%0A%20%20%20%20%20%20%2B%20%60%3Clabel_value%3E%60%3A%20%E6%A0%87%E7%AD%BE%E8%BF%87%E6%BB%A4%E5%80%BC%EF%BC%8C%E6%98%AF%E4%B8%AA%E5%AD%97%E7%AC%A6%E4%B8%B2%E3%80%82%0A%20%20%20%20%20%20%2B%20%60%3C%E6%A0%87%E7%AD%BE%E5%8C%B9%E9%85%8D%E8%BF%90%E7%AE%97%E7%AC%A6%3E%60%EF%BC%9A%0A%20%20%20%20%20%20%20%20%2B%20%60%3D%60%EF%BC%9A%E9%80%89%E6%8B%A9%E4%B8%8E%E6%8F%90%E4%BE%9B%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%AE%8C%E5%85%A8%E7%9B%B8%E7%AD%89%E7%9A%84%E6%A0%87%E7%AD%BE%E3%80%82%0A%20%20%20%20%20%20%20%20%2B%20%60!%3D%60%EF%BC%9A%E9%80%89%E6%8B%A9%E4%B8%8D%E7%AD%89%E4%BA%8E%E6%8F%90%E4%BE%9B%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%A0%87%E7%AD%BE%E3%80%82%0A%20%20%20%20%20%20%20%20%2B%20%60%3D~%60%EF%BC%9A%E9%80%89%E6%8B%A9%E4%B8%8E%E6%8F%90%E4%BE%9B%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BF%9B%E8%A1%8C%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%8C%B9%E9%85%8D%E7%9A%84%E6%A0%87%E7%AD%BE%E3%80%82%0A%20%20%20%20%20%20%20%20%2B%20%60!~%60%EF%BC%9A%E9%80%89%E6%8B%A9%E4%B8%8E%E6%8F%90%E4%BE%9B%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BF%9B%E8%A1%8C%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E4%B8%8D%E5%8C%B9%E9%85%8D%E7%9A%84%E6%A0%87%E7%AD%BE%E3%80%82%0A%0A3.%20%E7%A4%BA%E4%BE%8B%0A%0A%E4%BB%A5%E4%B8%8B%E7%A4%BA%E4%BE%8B%E6%9F%A5%E8%AF%A2%E7%9A%84%E6%98%AF%E4%BB%85%E9%80%89%E6%8B%A9%E5%85%B7%E6%9C%89%20%60system_metric_memory_total_bytes%60%20%E6%8C%87%E6%A0%87%E5%90%8D%E7%A7%B0%E4%B8%94%20%60instance%60%20%E6%A0%87%E7%AD%BE%E8%AE%BE%E7%BD%AE%E4%B8%BA%20%600.0.0.0%60%20%E7%9A%84%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E3%80%82%0A%0A%60%60%60%20markdown%0Asystem_metric_memory_total_bytes%7Binstance%3D%220.0.0.0%22%7D%0A%60%60%60%0A%0A%E6%A0%87%E7%AD%BE%E5%8C%B9%E9%85%8D%E4%B9%9F%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E4%B8%8E%E5%86%85%E9%83%A8%E6%A0%87%E7%AD%BE%E5%8C%B9%E9%85%8D%E6%9D%A5%E5%BA%94%E7%94%A8%E4%BA%8E%E6%8C%87%E6%A0%87%E5%90%8D%E7%A7%B0%20%60__name__%60%E3%80%82%E4%BE%8B%E5%A6%82%EF%BC%8C%E8%A1%A8%E8%BE%BE%E5%BC%8F%60system_metric_memory_total_bytes%60%20%E7%AD%89%E4%BB%B7%E4%BA%8E%20%60%7B__name__%3D%22system_metric_memory_total_bytes%22%7D%60%E3%80%82%0A%0A%E6%8C%87%E6%A0%87%E5%90%8D%E4%B8%8D%E8%83%BD%E6%98%AF%E5%85%B3%E9%94%AE%E5%AD%97%20%60bool%60%2C%20%60on%60%2C%20%60ignoring%60%2C%20%60group_left%60%20%E5%92%8C%20%60group_right%60%E3%80%82%0A%3E%20on%7B%7D%20%23%20Bad!%0A%0A%E6%AD%A4%E9%99%90%E5%88%B6%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95%E6%98%AF%E4%BD%BF%E7%94%A8%20%60__name__%60%20%E6%A0%87%E7%AD%BE%EF%BC%9A%0A%3E%20%7B%5C_%5C_name%5C_%5C_%3D%22on%22%7D%20%23%20Good!%0A%0A%0A%23%23%23%23%202.3.2.2%20%E8%8C%83%E5%9B%B4%E5%90%91%E9%87%8F%E9%80%89%E6%8B%A9%E5%99%A8%0A%0A1.%20%E8%AF%AD%E4%B9%89%0A%0A%E8%8C%83%E5%9B%B4%E5%90%91%E9%87%8F%E9%80%89%E6%8B%A9%E5%99%A8%E9%80%89%E6%8B%A9%E7%9A%84%E6%98%AF%E5%BD%93%E5%89%8D%E6%97%B6%E9%97%B4%E5%9B%9E%E6%BA%AF%E4%B8%80%E6%AE%B5%E6%97%B6%E9%97%B4%E5%86%85%E7%9A%84%E6%89%80%E6%9C%89%E6%A0%B7%E6%9C%AC%E7%82%B9%E3%80%82%E6%88%91%E4%BB%AC%E5%BD%93%E5%89%8D%E7%9A%84%20PromQL%20%E5%B0%9A%E6%9C%AA%E6%94%AF%E6%8C%81%E8%8C%83%E5%9B%B4%E5%90%91%E9%87%8F%E9%80%89%E6%8B%A9%E5%99%A8%E7%9A%84%E5%8D%95%E7%8B%AC%E4%BD%BF%E7%94%A8%EF%BC%8C%E5%BA%94%E7%BB%93%E5%90%88%20%60irate%60%E3%80%81%60rate%60%20%E6%88%96%E8%80%85%20%60increase%60%20%E5%87%BD%E6%95%B0%E4%BD%BF%E7%94%A8%E3%80%82%0A%0A2.%20%E8%AF%AD%E6%B3%95%E7%BB%93%E6%9E%84%0A%60%60%60%20markdown%0A%3Cmetric_name%3E%7B%3Clabel_matcher_list%3E%7D%5Btime_durations%5D%0A%60%60%60%0A%0A%E8%8C%83%E5%9B%B4%E5%90%91%E9%87%8F%E9%80%89%E6%8B%A9%E5%99%A8%E7%9A%84%E8%AF%AD%E6%B3%95%E7%BB%93%E6%9E%84%E4%B8%8E%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E9%80%89%E6%8B%A9%E5%99%A8%E7%9A%84%E8%AF%AD%E6%B3%95%E7%BB%93%E6%9E%84%E7%B1%BB%E4%BC%BC%EF%BC%8C%E8%8C%83%E5%9B%B4%E5%90%91%E9%87%8F%E9%80%89%E6%8B%A9%E5%99%A8%E5%A4%9A%E4%BA%86%E4%B8%80%E4%B8%AA%E7%94%A8%E4%BA%8E%E5%AE%9A%E4%B9%89%E6%97%B6%E9%97%B4%E5%8C%BA%E9%97%B4%E7%9A%84%E6%97%B6%E9%97%B4%E8%8C%83%E5%9B%B4%E9%80%89%E6%8B%A9%E5%99%A8%20%60%5B%5D%60%E3%80%82%0A%0A%2B%20time_durations%0A%0A%E6%97%B6%E9%97%B4%E5%8C%BA%E9%97%B4%E7%94%A8%E4%B8%80%E4%B8%AA%E6%95%B0%E5%AD%97%EF%BC%8C%E5%90%8E%E9%9D%A2%E8%B7%9F%E6%97%B6%E9%97%B4%E5%8D%95%E4%BD%8D%E6%9D%A5%E5%AE%9A%E4%B9%89%E3%80%82%E6%97%B6%E9%97%B4%E5%8D%95%E4%BD%8D%E5%8F%AF%E4%BB%A5%E6%98%AF%E5%A6%82%E4%B8%8B%E4%B9%8B%E4%B8%80%EF%BC%9A%0A%3E%20-%20ms%20-%20%E6%AF%AB%E7%A7%92%0A%3E%20-%20s%20-%20%E7%A7%92%0A%3E%20-%20m%20-%20%E5%88%86%E9%92%9F%0A%3E%20-%20h%20-%20%E5%B0%8F%E6%97%B6%0A%3E%20-%20d%20-%20%E5%A4%A9%20-%20%E4%B8%80%E5%A4%A9%2024%20%E5%B0%8F%E6%97%B6%0A%3E%20-%20w%20-%20%E5%91%A8%20-%20%E4%B8%80%E5%91%A8%207%20%E5%A4%A9%0A%3E%20-%20y%20-%20%E5%B9%B4%20-%20%E4%B8%80%E5%B9%B4%20365%20%E5%A4%A9%0A%0A%0A1.%20%E7%A4%BA%E4%BE%8B%0A%0A%2B%20%E4%B8%8E%20irate%20%E7%BB%93%E5%90%88%E4%BD%BF%E7%94%A8%0A%0A%E4%BB%A5%E4%B8%8B%E7%A4%BA%E4%BE%8B%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%BF%94%E5%9B%9E%E9%92%88%E5%AF%B9%E8%8C%83%E5%9B%B4%E5%90%91%E9%87%8F%E4%B8%AD%E6%AF%8F%E4%B8%AA%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E7%9A%84%E4%B8%A4%E4%B8%AA%E6%9C%80%E8%BF%91%E6%95%B0%E6%8D%AE%E7%82%B9%E7%9A%84%20HTTP%20%E8%AF%B7%E6%B1%82%E7%9A%84%E6%AF%8F%E7%A7%92%E5%A2%9E%E9%95%BF%E9%80%9F%E7%8E%87%EF%BC%8C%E6%9C%80%E5%A4%9A%E5%8F%AF%E8%BF%BD%E6%BA%AF%205%20%E5%88%86%E9%92%9F%EF%BC%9A%0A%60%60%60%20markdown%0Airate(http_requests_total%7Bjob%3D%22api-server%22%7D%5B5m%5D)%0A%60%60%60%0A%0A%2B%20%E4%B8%8E%20rate%20%E7%BB%93%E5%90%88%E4%BD%BF%E7%94%A8%0A%0A%E4%BB%A5%E4%B8%8B%E7%A4%BA%E4%BE%8B%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%BF%94%E5%9B%9E%E9%92%88%E5%AF%B9%E8%8C%83%E5%9B%B4%E5%90%91%E9%87%8F%E4%B8%AD%E8%BF%87%E5%8E%BB%205%20%E5%88%86%E9%92%9F%E5%86%85%E7%9A%84%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE%E7%82%B9%E7%9A%84%20HTTP%20%E8%AF%B7%E6%B1%82%E7%9A%84%E6%AF%8F%E7%A7%92%E5%B9%B3%E5%9D%87%E5%A2%9E%E9%95%BF%E9%80%9F%E7%8E%87%EF%BC%9A%0A%60%60%60%20markdown%0Arate(http_requests_total%7Bjob%3D%22api-server%22%7D%5B5m%5D)%0A%60%60%60%0A%0A%0A%23%23%23%202.3.3%20%E6%93%8D%E4%BD%9C%E7%AC%A6%0A%0APromQL%20%E7%9A%84%E6%93%8D%E4%BD%9C%E7%AC%A6%E5%8C%85%E5%90%AB%E7%AE%97%E6%9C%AF%E4%BA%8C%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6%E3%80%81%E4%B8%80%E5%AF%B9%E4%B8%80%E5%8C%B9%E9%85%8D%E7%9A%84%E5%90%91%E9%87%8F%E5%8C%B9%E9%85%8D%E3%80%81%E6%AF%94%E8%BE%83%E4%BA%8C%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6%E3%80%81%E9%80%BB%E8%BE%91%2F%E9%9B%86%E5%90%88%E4%BA%8C%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6%E3%80%81%E8%81%9A%E5%90%88%E7%AE%97%E5%AD%90%E3%80%82%0A%0A%23%23%23%23%202.3.3.1%20%E7%AE%97%E6%9C%AF%E4%BA%8C%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6%0A%0A1.%20%E8%AF%AD%E4%B9%89%0A%0APromQL%20%E4%B8%AD%E5%AD%98%E5%9C%A8%E4%BB%A5%E4%B8%8B%E4%BA%8C%E5%85%83%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6%EF%BC%9A%0A%3E%20-%20%2B%EF%BC%88%E6%B7%BB%E5%8A%A0%EF%BC%89%0A%3E%20-%20-%EF%BC%88%E5%87%8F%E6%B3%95%EF%BC%89%0A%3E%20-%20*%EF%BC%88%E4%B9%98%E6%B3%95%EF%BC%89%0A%3E%20-%20%2F%EF%BC%88%E9%99%A4%E6%B3%95%EF%BC%89%0A%3E%20-%20%25%EF%BC%88%E6%A8%A1%E6%95%B0%EF%BC%89%0A%3E%20-%20%5E%EF%BC%88%E5%B9%82%EF%BC%89%0A%0A%E4%B8%8B%E9%9D%A2%E7%9A%84%E5%88%97%E8%A1%A8%E6%98%BE%E7%A4%BA%E4%BA%86%20PromQL%20%E4%B8%AD%E7%AE%97%E6%9C%AF%E4%BA%8C%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7%EF%BC%8C%E4%BB%8E%E9%AB%98%E5%88%B0%E4%BD%8E%E3%80%82%0A%3E%201.%20%5E%0A%3E%202.%20*%2C%20%2F%2C%20%25%0A%3E%203.%20%2B%2C-%0A%0A%E7%9B%B8%E5%90%8C%E4%BC%98%E5%85%88%E7%BA%A7%E7%9A%84%E8%BF%90%E7%AE%97%E7%AC%A6%E6%98%AF%E5%B7%A6%E7%BB%93%E5%90%88%E7%9A%84%E3%80%82%E4%BE%8B%E5%A6%82%EF%BC%8C%202%20*%203%20%25%202%E7%AD%89%E4%BB%B7%E4%BA%8E(2%20*%203)%20%25%202%E3%80%82%E7%84%B6%E8%80%8C%5E%E6%98%AF%E5%8F%B3%E7%BB%93%E5%90%88%E7%9A%84%EF%BC%8C%E6%89%80%E4%BB%A52%20%5E%203%20%5E%202%E7%AD%89%E4%BB%B7%E4%BA%8E2%20%5E%20(3%20%5E%202)%E3%80%82%0A%0A%E4%BA%8C%E5%85%83%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6%E5%9C%A8%E6%A0%87%E9%87%8F%2F%E6%A0%87%E9%87%8F%E3%80%81%E5%90%91%E9%87%8F%2F%E6%A0%87%E9%87%8F%E5%92%8C%E5%90%91%E9%87%8F%2F%E5%90%91%E9%87%8F%E5%80%BC%E5%AF%B9%E4%B9%8B%E9%97%B4%E5%AE%9A%E4%B9%89%3A%0A%0A**%E5%9C%A8%E4%B8%A4%E4%B8%AA%E6%A0%87%E9%87%8F%E4%B9%8B%E9%97%B4**%EF%BC%8C%E5%AE%83%E4%BB%AC%E8%AF%84%E4%BC%B0%E4%B8%BA%E5%8F%A6%E4%B8%80%E4%B8%AA%E6%A0%87%E9%87%8F%EF%BC%8C%E8%AF%A5%E6%A0%87%E9%87%8F%E6%98%AF%E5%BA%94%E7%94%A8%E4%BA%8E%E4%B8%A4%E4%B8%AA%E6%A0%87%E9%87%8F%E6%93%8D%E4%BD%9C%E6%95%B0%E7%9A%84%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9A%84%E7%BB%93%E6%9E%9C%E3%80%82%0A%0A**%E5%9C%A8%E7%9E%AC%E6%97%B6%E5%90%91%E9%87%8F%E5%92%8C%E6%A0%87%E9%87%8F%E4%B9%8B%E9%97%B4**%EF%BC%8C%E8%BF%90%E7%AE%97%E7%AC%A6%E5%BA%94%E7%94%A8%E4%BA%8E%E5%90%91%E9%87%8F%E4%B8%AD%E6%AF%8F%E4%B8%AA%E6%95%B0%E6%8D%AE%E6%A0%B7%E6%9C%AC%E7%9A%84%E5%80%BC%E3%80%82%E4%BE%8B%E5%A6%82%EF%BC%8C%E5%A6%82%E6%9E%9C%E5%B0%86%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E7%9E%AC%E6%97%B6%E5%90%91%E9%87%8F%E4%B9%98%E4%BB%A5%202%EF%BC%8C%E5%88%99%E7%BB%93%E6%9E%9C%E6%98%AF%E5%8F%A6%E4%B8%80%E4%B8%AA%E5%90%91%E9%87%8F%EF%BC%8C%E5%85%B6%E4%B8%AD%E5%8E%9F%E5%A7%8B%E5%90%91%E9%87%8F%E7%9A%84%E6%AF%8F%E4%B8%AA%E6%A0%B7%E6%9C%AC%E5%80%BC%E9%83%BD%E4%B9%98%E4%BB%A5%202%E3%80%82%0A%0A**%E5%9C%A8%E4%B8%A4%E4%B8%AA%E7%9E%AC%E6%97%B6%E5%90%91%E9%87%8F%E4%B9%8B%E9%97%B4**%EF%BC%8C%E5%AF%B9%E5%B7%A6%E4%BE%A7%E5%90%91%E9%87%8F%E4%B8%AD%E7%9A%84%E6%AF%8F%E4%B8%AA%E6%9D%A1%E7%9B%AE%E5%8F%8A%E5%85%B6%E5%8F%B3%E4%BE%A7%E5%90%91%E9%87%8F%E4%B8%AD%E7%9A%84%E5%8C%B9%E9%85%8D%E5%85%83%E7%B4%A0%E5%BA%94%E7%94%A8%E4%BA%8C%E5%85%83%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6%20%E3%80%82%E7%BB%93%E6%9E%9C%E4%BC%A0%E6%92%AD%E5%88%B0%E7%BB%93%E6%9E%9C%E5%90%91%E9%87%8F%E4%B8%AD%EF%BC%8C%E5%88%86%E7%BB%84%E6%A0%87%E7%AD%BE%E6%88%90%E4%B8%BA%E8%BE%93%E5%87%BA%E6%A0%87%E7%AD%BE%E9%9B%86%E3%80%82%E5%9C%A8%E5%8F%B3%E4%BE%A7%E5%90%91%E9%87%8F%E4%B8%AD%E6%89%BE%E4%B8%8D%E5%88%B0%E5%8C%B9%E9%85%8D%E6%9D%A1%E7%9B%AE%E7%9A%84%E6%9D%A1%E7%9B%AE%E4%B8%8D%E5%B1%9E%E4%BA%8E%E7%BB%93%E6%9E%9C%E3%80%82%0A%0A2.%20%E8%AF%AD%E6%B3%95%E7%BB%93%E6%9E%84%0A%0A%60%60%60%20markdown%0A%5B%3Cvector%20expr%3E%20%7C%20%3Cscalar%3E%5D%20%3Cbin-op%3E%20%5B%3Cvector%20expr%3E%20%7C%20%3Cscalar%3E%5D%0A%60%60%60%0A%0A3.%20%E7%A4%BA%E4%BE%8B%0A%0A%2B%20%E4%B8%A4%E4%B8%AA%E6%A0%87%E9%87%8F%E4%B9%8B%E9%97%B4%0A%3E%201%2B2%0A%0A%2B%20%E7%9E%AC%E6%97%B6%E5%90%91%E9%87%8F%E4%B8%8E%E6%A0%87%E9%87%8F%E4%B9%8B%E9%97%B4%0A%0A%E4%BB%A5%E4%B8%8B%E7%A4%BA%E4%BE%8B%E6%9F%A5%E8%AF%A2%E7%9A%84%E6%98%AF%E6%9F%90%E4%B8%AA%E4%B8%BB%E6%9C%BA%E7%9A%84%E6%80%BB%E5%86%85%E5%AD%98%2F1024%E3%80%82%0A%60%60%60%20markdown%0Asystem_metric_memory_total_bytes%7Binstance%3D%220.0.0.0%22%7D%20%2F%201024%0A%60%60%60%0A%0A%2B%20%E4%B8%A4%E4%B8%AA%E7%9E%AC%E6%97%B6%E5%90%91%E9%87%8F%E4%B9%8B%E9%97%B4%0A%0A%E4%BB%A5%E4%B8%8B%E7%A4%BA%E4%BE%8B%E6%9F%A5%E8%AF%A2%E7%9A%84%E6%98%AF%E9%80%9A%E8%BF%87%E6%8A%8A%E6%80%BB%E5%86%85%E5%AD%98%E5%87%8F%E5%8E%BB%E5%8F%AF%E7%94%A8%E5%86%85%E5%AD%98%E5%BE%97%E5%88%B0%E5%B7%B2%E7%94%A8%E5%86%85%E5%AD%98%E3%80%82%0A%60%60%60%20markdown%0Asystem_metric_memory_total_bytese_memory_MemTotal_bytes%7Binstance%3D%220.0.0.0%22%7D%20-%20system_metric_memory_available_bytes%7Binstance%3D%220.0.0.0%22%7D%0A%60%60%60%0A%0A%23%23%23%23%202.3.3.2%20%E4%B8%80%E5%AF%B9%E4%B8%80%E7%9A%84%E5%90%91%E9%87%8F%E5%8C%B9%E9%85%8D%0A%0A1.%20%E8%AF%AD%E4%B9%89%0A%0A%E4%BB%8E%E4%B8%A4%E4%B8%AA%E5%90%91%E9%87%8F%E4%B8%AD%E6%89%BE%E5%88%B0%E4%B8%80%E5%AF%B9%E5%94%AF%E4%B8%80%E7%9A%84%E6%9D%A1%E7%9B%AE%E3%80%82%E5%A6%82%E6%9E%9C%E4%B8%A4%E4%B8%AA%E5%90%91%E9%87%8F%E5%85%B7%E6%9C%89%E5%AE%8C%E5%85%A8%E7%9B%B8%E5%90%8C%E7%9A%84%E4%B8%80%E7%BB%84%E6%A0%87%E7%AD%BE%E5%92%8C%E7%9B%B8%E5%BA%94%E7%9A%84%E5%80%BC%EF%BC%8C%E5%88%99%E5%AE%83%E4%BB%AC%E5%8C%B9%E9%85%8D%E3%80%82ignoring%20%E5%85%B3%E9%94%AE%E5%AD%97%E5%85%81%E8%AE%B8%E5%9C%A8%E5%8C%B9%E9%85%8D%E6%97%B6%E5%BF%BD%E7%95%A5%E6%9F%90%E4%BA%9B%E6%A0%87%E7%AD%BE%EF%BC%8C%E8%80%8C%E5%85%B3%E9%94%AE%E5%AD%97%20on%20%E5%85%81%E8%AE%B8%E5%B0%86%E6%8C%87%E5%AE%9A%E7%9A%84%E6%A0%87%E7%AD%BE%E9%9B%86%E4%BD%9C%E4%B8%BA%E5%8C%B9%E9%85%8D%E7%9A%84%E5%AD%97%E6%AE%B5%E9%9B%86%E3%80%82%0A%0A2.%20%E8%AF%AD%E6%B3%95%E7%BB%93%E6%9E%84%0A%0A%60%60%60%20markdown%0A%3Cvector%20expr%3E%20%3Cbin-op%3E%20on(%3Clabel%20list%3E)%20%3Cvector%20expr%3E%0A%3Cvector%20expr%3E%20%3Cbin-op%3E%20ignoring(%3Clabel%20list%3E)%20%3Cvector%20expr%3E%0A%60%60%60%0A%0A3.%20%E7%A4%BA%E4%BE%8B%0A%2B%20%E7%A4%BA%E4%BE%8B%E8%BE%93%E5%85%A5%EF%BC%9A%0A%0A%60%60%60%20markdown%0Ahttp_errors%7Bmethod%3D%22get%22%2C%20code%3D%22500%22%7D%20%2024%0Ahttp_errors%7Bmethod%3D%22get%22%2C%20code%3D%22404%22%7D%20%2030%0Ahttp_errors%7Bmethod%3D%22put%22%2C%20code%3D%22501%22%7D%20%203%0Ahttp_errors%7Bmethod%3D%22post%22%2C%20code%3D%22500%22%7D%206%0Ahttp_errors%7Bmethod%3D%22post%22%2C%20code%3D%22404%22%7D%2021%0A%0Ahttp_requests%7Bmethod%3D%22get%22%7D%20%20600%0Ahttp_requests%7Bmethod%3D%22del%22%7D%20%2034%0Ahttp_requests%7Bmethod%3D%22post%22%7D%20120%0A%60%60%60%0A%0A%2B%20on%20%E7%A4%BA%E4%BE%8B%E6%9F%A5%E8%AF%A2%0A%60%60%60%20markdown%0A%20http_errors%7Bcode%3D%22500%22%7D%20%2F%20on(method)%20http_requests%0A%60%60%60%0A%2B%20on%20%E7%A4%BA%E4%BE%8B%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%0A%60%60%60%20markdown%0A%7Bmethod%3D%22get%22%7D%20%200.04%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%2024%20%2F%20600%0A%7Bmethod%3D%22post%22%7D%200.05%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%206%20%2F%20120%0A%60%60%60%0A%0A%2B%20ignoring%20%E7%A4%BA%E4%BE%8B%E6%9F%A5%E8%AF%A2%0A%60%60%60%20markdown%0A%20http_errors%7Bname%3D%22500%22%7D%20%2F%20ignoring(code)%20http_requests%0A%60%60%60%0A%2B%20ignoring%20%E7%A4%BA%E4%BE%8B%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%0A%60%60%60%20markdown%0A%7Bmethod%3D%22get%22%7D%20%200.04%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%2024%20%2F%20600%0A%7Bmethod%3D%22post%22%7D%200.05%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%206%20%2F%20120%0A%60%60%60%0A%0A%23%23%23%23%202.3.3.3%20%E6%AF%94%E8%BE%83%E4%BA%8C%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6%0A%0A1.%20%E8%AF%AD%E4%B9%89%0A%0APromQL%20%E4%B8%AD%E5%AD%98%E5%9C%A8%E4%BB%A5%E4%B8%8B%E6%AF%94%E8%BE%83%E4%BA%8C%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6%EF%BC%9A%0A%3E%20-%20%3D%3D%20(%E7%9B%B8%E7%AD%89)%0A%3E%20-%20!%3D%20(%E4%B8%8D%E7%9B%B8%E7%AD%89)%0A%3E%20-%20%5C%3E%20(%E5%A4%A7%E4%BA%8E)%0A%3E%20-%20%3C%20(%E5%B0%8F%E4%BA%8E)%0A%3E%20-%20%5C%3E%3D%20(%E5%A4%A7%E4%BA%8E%E7%AD%89%E4%BA%8E)%0A%3E%20-%20%3C%3D%20(%E5%B0%8F%E4%BA%8E%E7%AD%89%E4%BA%8E)%0A%0A%0A%E4%BA%8C%E5%85%83%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6%E5%9C%A8%E6%A0%87%E9%87%8F%2F%E6%A0%87%E9%87%8F%E3%80%81%E5%90%91%E9%87%8F%2F%E6%A0%87%E9%87%8F%E5%92%8C%E5%90%91%E9%87%8F%2F%E5%90%91%E9%87%8F%E5%80%BC%E5%AF%B9%E4%B9%8B%E9%97%B4%E5%AE%9A%E4%B9%89%EF%BC%8C%E9%BB%98%E8%AE%A4%E6%83%85%E5%86%B5%E4%B8%8B%EF%BC%8C%E5%AE%83%E4%BB%AC%E4%BC%9A%E5%AF%B9%E7%BB%93%E6%9E%9C%E8%BF%87%E6%BB%A4%E3%80%82%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%20%60bool%60%20%E4%BF%AE%E9%A5%B0%E7%AC%A6%E6%9D%A5%E4%BF%AE%E6%94%B9%E5%AE%83%E4%BB%AC%E7%9A%84%E8%A1%8C%E4%B8%BA%EF%BC%8C%E8%AF%A5%E4%BF%AE%E9%A5%B0%E7%AC%A6%E5%B0%86%E8%BF%94%E5%9B%9E%20%600%60%20%E6%88%96%20%601%60%20%E7%9A%84%E5%80%BC%E8%80%8C%E4%B8%8D%E6%98%AF%E8%BF%87%E6%BB%A4%E3%80%82%0A%0A**%E5%9C%A8%E4%B8%A4%E4%B8%AA%E6%A0%87%E9%87%8F%E4%B9%8B%E9%97%B4**%EF%BC%8C%E5%BF%85%E9%A1%BB%E6%8F%90%E4%BE%9B%20%60bool%60%20%E4%BF%AE%E9%A5%B0%E7%AC%A6%EF%BC%8C%E5%BE%97%E5%88%B0%E7%9A%84%E7%BB%93%E6%9E%9C%E6%98%AF%E5%8F%A6%E5%A4%96%E4%B8%80%E4%B8%AA%E8%A6%81%E4%B9%88%E6%98%AF%20%600%60(%60false%60)%EF%BC%8C%E8%A6%81%E4%B9%88%E6%98%AF%20%601%60(%60true%60)%E7%9A%84%E6%A0%87%E9%87%8F%E3%80%82%0A%0A**%E5%9C%A8%E7%9E%AC%E6%97%B6%E5%90%91%E9%87%8F%E5%92%8C%E6%A0%87%E9%87%8F%E4%B9%8B%E9%97%B4**%EF%BC%8C%E8%BF%90%E7%AE%97%E7%AC%A6%E5%BA%94%E7%94%A8%E4%BA%8E%E5%90%91%E9%87%8F%E4%B8%AD%E6%AF%8F%E4%B8%AA%E6%95%B0%E6%8D%AE%E6%A0%B7%E6%9C%AC%E7%9A%84%E5%80%BC%E3%80%82%E5%A6%82%E6%9E%9C%E6%A0%B7%E6%9C%AC%E5%80%BC%E4%B8%8E%E6%A0%87%E9%87%8F%E7%9A%84%E6%AF%94%E8%BE%83%E7%BB%93%E6%9E%9C%E4%B8%BA%20%60false%60%EF%BC%8C%E5%88%99%E8%AF%A5%E6%A0%B7%E6%9C%AC%E6%95%B0%E6%8D%AE%E5%B0%86%E4%BC%9A%E4%BB%8E%E7%BB%93%E6%9E%9C%E5%90%91%E9%87%8F%E4%B8%AD%E5%88%A0%E9%99%A4%E3%80%82%E8%8B%A5%E6%8F%90%E4%BE%9B%E4%BA%86%20%60bool%60%20%E4%BF%AE%E9%A5%B0%E7%AC%A6%EF%BC%8C%E5%88%99%E4%B8%8D%E4%BC%9A%E8%BF%87%E6%BB%A4%E6%8E%89%E6%AF%94%E8%BE%83%E7%BB%93%E6%9E%9C%E4%B8%BA%20%60false%60%20%E7%9A%84%E6%95%B0%E6%8D%AE%EF%BC%8C%E8%80%8C%E6%98%AF%E6%AF%94%E8%BE%83%E7%BB%93%E6%9E%9C%E4%B8%BA%20%60false%60%20%E7%9A%84%E5%90%91%E9%87%8F%E5%85%83%E7%B4%A0%E7%9A%84%E5%80%BC%E4%B8%BA%20%600%60%EF%BC%8C%E6%AF%94%E8%BE%83%E7%BB%93%E6%9E%9C%E4%B8%BA%20%60true%60%20%E7%9A%84%E5%90%91%E9%87%8F%E5%85%83%E7%B4%A0%E7%9A%84%E5%80%BC%E4%B8%BA%20%601%60%E3%80%82%0A%0A**%E5%9C%A8%E4%B8%A4%E4%B8%AA%E7%9E%AC%E6%97%B6%E5%90%91%E9%87%8F%E4%B9%8B%E9%97%B4**%EF%BC%8C%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6%E9%BB%98%E8%AE%A4%E6%98%AF%E4%BD%9C%E4%B8%BA%E4%B8%80%E4%B8%AA%E8%BF%87%E6%BB%A4%E5%99%A8%EF%BC%8C%E5%BA%94%E7%94%A8%E4%B8%8E%E5%8C%B9%E9%85%8D%E6%9D%A1%E7%9B%AE%E3%80%82%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%BB%93%E6%9E%9C%E4%B8%8D%E6%98%AF%20%60true%60%20%E6%88%96%E8%80%85%E5%9C%A8%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E5%8F%A6%E4%B8%80%E4%BE%A7%E6%89%BE%E4%B8%8D%E5%88%B0%E5%8C%B9%E9%85%8D%E9%A1%B9%E7%9A%84%E5%90%91%E9%87%8F%E5%85%83%E7%B4%A0%E5%B0%86%E4%BB%8E%E7%BB%93%E6%9E%9C%E4%B8%AD%E5%88%A0%E9%99%A4%EF%BC%9B%E5%A6%82%E6%9E%9C%E5%8C%B9%E9%85%8D%E4%B8%8A%E4%BA%86%EF%BC%8C%E5%88%99%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%E4%B8%BA%E5%B7%A6%E4%BE%A7%E5%90%91%E9%87%8F%E7%9A%84%E6%A0%87%E7%AD%BE%E9%9B%86%E5%92%8C%E5%80%BC%E3%80%82%E5%A6%82%E6%9E%9C%E6%8F%90%E4%BE%9B%E4%BA%86%20%60bool%60%20%E4%BF%AE%E9%A5%B0%E7%AC%A6%EF%BC%8C%E5%88%99%E6%AF%94%E8%BE%83%E7%BB%93%E6%9E%9C%E4%B8%BA%20%60false%60%20%E7%9A%84%E5%90%91%E9%87%8F%E5%85%83%E7%B4%A0%E7%9A%84%E5%80%BC%E4%B8%BA%20%600%60%EF%BC%8C%E8%80%8C%E6%AF%94%E8%BE%83%E7%BB%93%E6%9E%9C%E4%B8%BA%20%60true%60%20%E7%9A%84%E5%90%91%E9%87%8F%E5%85%83%E7%B4%A0%E7%9A%84%E5%80%BC%E4%B8%BA%20%601%60%E3%80%82%0A%0A2.%20%E8%AF%AD%E6%B3%95%E7%BB%93%E6%9E%84%0A%0A%60%60%60%20markdown%0A%5B%3Cvector%20expr%3E%20%7C%20%3Cscalar%3E%5D%20%3Cbin-op%3E%20%5Bbool%5D%20%5B%3Cvector%20expr%3E%20%7C%20%3Cscalar%3E%5D%0A%60%60%60%0A%0A3.%20%E7%A4%BA%E4%BE%8B%0A%0A%2B%20%E4%B8%A4%E4%B8%AA%E6%A0%87%E9%87%8F%E4%B9%8B%E9%97%B4%0A%3E%205%20%5C%3E%20bool%203%0A%0A%2B%20%E7%9E%AC%E6%97%B6%E5%90%91%E9%87%8F%E4%B8%8E%E6%A0%87%E9%87%8F%E4%B9%8B%E9%97%B4%0A%0A%E4%BB%A5%E4%B8%8B%E7%A4%BA%E4%BE%8B%E6%9F%A5%E8%AF%A2%E7%9A%84%E6%98%AF%E6%89%80%E6%9C%89%E4%B8%BB%E6%9C%BA%E5%86%85%E5%AD%98%E4%BD%BF%E7%94%A8%E7%8E%87%E5%A4%A7%E4%BA%8E%E6%8C%87%E5%AE%9A%E9%98%88%E5%80%BC%E7%9A%84%E8%8A%82%E7%82%B9%E6%95%B0%E9%87%8F%E3%80%82%0A%60%60%60%20markdown%0Acount%20((1%20-%20(node_memory_MemAvailable_bytes%20%2F%20node_memory_MemTotal_bytes))*%20100%20%3E%3D%2085)%0A%60%60%60%0A%0A%2B%20%E4%B8%A4%E4%B8%AA%E7%9E%AC%E6%97%B6%E5%90%91%E9%87%8F%E4%B9%8B%E9%97%B4%0A%0A%E4%BB%A5%E4%B8%8B%E7%A4%BA%E4%BE%8B%E6%9F%A5%E8%AF%A2%E7%9A%84%E6%98%AF%E6%89%80%E6%9C%89%E4%B8%BB%E6%9C%BA%E5%B7%B2%E7%94%A8%E5%86%85%E5%AD%98%E5%A4%A7%E4%BA%8E%E5%8F%AF%E7%94%A8%E5%86%85%E5%AD%98%E7%9A%84%E8%8A%82%E7%82%B9%E6%95%B0%E9%87%8F%E3%80%82%0A%60%60%60%20markdown%0Acount(node_memory_MemUsed_bytes%20%3E%20node_memory_MemAvailable_bytes)%0A%60%60%60%0A%0A%0A%23%23%23%23%202.3.3.4%20%E9%80%BB%E8%BE%91%2F%E9%9B%86%E5%90%88%E4%BA%8C%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6%0A%0A1.%20%E8%AF%AD%E4%B9%89%0A%0APromQL%20%E4%B8%AD%E7%9A%84%E9%80%BB%E8%BE%91%2F%E9%9B%86%E5%90%88%E4%BA%8C%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6%E5%8F%AA%E8%83%BD%E5%AE%9A%E4%B9%89%E5%9C%A8%E4%B8%A4%E4%B8%AA%E5%90%91%E9%87%8F%E4%B9%8B%E9%97%B4%EF%BC%8C%E9%80%BB%E8%BE%91%2F%E9%9B%86%E5%90%88%E4%BA%8C%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6%E6%9C%89%EF%BC%9A%0A%3E%20-%20and%20(%E4%BA%A4%E9%9B%86)%0A%3E%20-%20or%20(%E5%B9%B6%E9%9B%86)%0A%3E%20-%20unless%20(%E6%8E%92%E9%99%A4)%0A%0A%0A**vector1%20and%20vector2**%EF%BC%8C%E4%BC%9A%E7%94%9F%E6%88%90%E4%B8%80%E4%B8%AA%E5%90%91%E9%87%8F%EF%BC%8C%E8%AF%A5%E5%90%91%E9%87%8F%E7%94%B1%20%60vector1%60%20%E4%B8%AD%E4%B8%8E%20%60vector2%60%20%E7%9A%84%E6%A0%87%E7%AD%BE%E9%9B%86%E5%AE%8C%E5%85%A8%E5%8C%B9%E9%85%8D%E7%9A%84%E5%85%83%E7%B4%A0%E7%BB%84%E6%88%90%EF%BC%8C%E6%8C%87%E6%A0%87%E5%90%8D%E5%92%8C%E6%8C%87%E6%A0%87%E5%80%BC%E4%BB%8E%E5%B7%A6%E4%BE%A7%E5%90%91%E9%87%8F%E4%B8%AD%E7%BB%A7%E6%89%BF%E3%80%82%0A%0A**vector1%20or%20vector2**%EF%BC%8C%E4%BC%9A%E7%94%9F%E6%88%90%E4%B8%80%E4%B8%AA%E5%90%91%E9%87%8F%EF%BC%8C%E8%AF%A5%E5%90%91%E9%87%8F%E5%8C%85%E5%90%AB%20%60vector1%60%20%E4%B8%AD%E6%89%80%E6%9C%89%E7%9A%84%E5%85%83%E7%B4%A0%EF%BC%8C%E4%BB%A5%E5%8F%8A%20%60vector2%60%20%E4%B8%AD%E6%B2%A1%E6%9C%89%E4%B8%8E%20%60vector1%60%20%E5%8C%B9%E9%85%8D%E5%88%B0%E7%9A%84%E6%89%80%E6%9C%89%E5%85%83%E7%B4%A0%E3%80%82%0A%0A**vector1%20unless%20vector2**%EF%BC%8C%E4%BC%9A%E7%94%9F%E6%88%90%E4%B8%80%E4%B8%AA%E5%90%91%E9%87%8F%EF%BC%8C%E8%AF%A5%E5%90%91%E9%87%8F%E4%B8%AD%E7%9A%84%E5%85%83%E7%B4%A0%E7%94%B1%20%60vector1%60%20%E4%B8%AD%E6%B2%A1%E6%9C%89%E4%B8%8E%20%60vector2%60%20%E5%8C%B9%E9%85%8D%E7%9A%84%E5%85%83%E7%B4%A0%E7%BB%84%E6%88%90%E3%80%82%0A%0A2.%20%E8%AF%AD%E6%B3%95%E7%BB%93%E6%9E%84%0A%0A%60%60%60%20markdown%0A%5B%3Cvector%20expr%3E%5D%20%3Cbin-op%3E%20%5B%3Cvector%20expr%3E%5D%0A%60%60%60%0A%0A3.%20%E7%A4%BA%E4%BE%8B%0A%0A%2B%20vector1%20and%20vector2%0A%0A%E4%BB%A5%E4%B8%8B%E7%A4%BA%E4%BE%8B%E6%9F%A5%E8%AF%A2%E7%9A%84%E6%98%AF%20k8s%20%E7%9A%84%E6%9C%89%E7%8A%B6%E6%80%81%E5%BA%94%E7%94%A8%E7%9A%84%E4%B8%8D%E5%8F%AF%E7%94%A8%E6%95%B0%E3%80%82%0A%60%60%60%20markdown%0Acount((kube_statefulset_status_replicas_ready%7Bnamespace%3D~%22namespace%22%7D%20%3D%3D%200)%20and%20(kube_statefulset_status_replicas%7Bnamespace%3D~%22namespace%22%7D%20%3E%200))%0A%60%60%60%0A%0A%2B%20vector1%20or%20vector2%0A%0A%E4%BB%A5%E4%B8%8B%E7%A4%BA%E4%BE%8B%E6%9F%A5%E8%AF%A2%E7%9A%84%E6%98%AF%E5%90%84%E8%8A%82%E7%82%B9%E7%9A%84%E7%A3%81%E7%9B%98%E5%AE%B9%E9%87%8F%E3%80%82%0A%60%60%60%20markdown%0Asum(node_filesystem_size_bytes%7Bfstype%3D%22xfs%22%2Cmountpoint%3D%22%2F%22%7D%20or%20node_filesystem_size_bytes%7Bfstype%3D~%22ext.*%22%7D)by(kubernetes_node_name)%0A%60%60%60%0A%0A%2B%20vector1%20and%20vector2%0A%0A%E4%BB%A5%E4%B8%8B%E7%A4%BA%E4%BE%8B%E6%9F%A5%E8%AF%A2%E7%9A%84%E6%98%AF%E5%90%84%E8%8A%82%E7%82%B9%E4%B8%AD%E6%8C%87%E5%AE%9A%E6%8C%82%E8%BD%BD%E8%B7%AF%E5%BE%84%E4%B8%8B%E9%99%A4%E5%8E%BB%20ext%20%E7%9A%84%E7%A3%81%E7%9B%98%E5%AE%B9%E9%87%8F%E3%80%82%0A%60%60%60%20markdown%0Asum(node_filesystem_size_bytes%7Bmountpoint%3D%22%2F%22%7D%20unless%20node_filesystem_size_bytes%7Bfstype%3D~%22ext.*%22%7D)by(kubernetes_node_name)%0A%60%60%60%0A%0A%0A%23%23%23%23%202.3.3.5%20%E8%81%9A%E5%90%88%E7%AE%97%E5%AD%90%0A%0A1.%20%E8%AF%AD%E4%B9%89%0A%0A%E6%94%AF%E6%8C%81%E4%BB%A5%E4%B8%8B%E5%86%85%E7%BD%AE%E8%81%9A%E5%90%88%E8%BF%90%E7%AE%97%E7%AC%A6%EF%BC%8C%E5%8F%AF%E7%94%A8%E4%BA%8E%E8%81%9A%E5%90%88%E6%8C%87%E6%A0%87%E4%B8%8B%E7%9A%84%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%EF%BC%8C%E4%BB%8E%E8%80%8C%E7%94%9F%E6%88%90%E5%85%B7%E6%9C%89%E8%81%9A%E5%90%88%E5%80%BC%E7%9A%84%E6%A0%87%E7%AD%BE%E6%9B%B4%E5%B0%91%E7%9A%84%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%EF%BC%9A%0A%0A%E7%94%A8%E4%BA%8E%E8%81%9A%E5%90%88%E5%8D%95%E4%B8%AA%E5%8D%B3%E6%97%B6%E5%90%91%E9%87%8F%E7%9A%84%E5%85%83%E7%B4%A0%EF%BC%8C%E4%BB%8E%E8%80%8C%E7%94%9F%E6%88%90%E5%85%B7%E6%9C%89%E8%81%9A%E5%90%88%E5%80%BC%E7%9A%84%E5%85%83%E7%B4%A0%E6%9B%B4%E5%B0%91%E7%9A%84%E6%96%B0%E5%90%91%E9%87%8F%0A%3E%20-%20count%20%EF%BC%88%E5%9F%BA%E4%BA%8E%E6%A0%87%E7%AD%BE%E5%AF%B9%E4%B8%80%E7%BB%84%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E5%88%86%E7%BB%84%E8%AE%A1%E6%95%B0%EF%BC%89%0A%3E%20-%20sum%20%EF%BC%88%E5%9F%BA%E4%BA%8E%E6%A0%87%E7%AD%BE%E5%AF%B9%E4%B8%80%E7%BB%84%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E5%88%86%E7%BB%84%E5%90%8E%E5%AF%B9%E6%8C%87%E6%A0%87%E5%80%BC%E6%B1%82%E5%92%8C%EF%BC%89%0A%3E%20-%20avg%20%EF%BC%88%E5%9F%BA%E4%BA%8E%E6%A0%87%E7%AD%BE%E5%AF%B9%E4%B8%80%E7%BB%84%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E5%88%86%E7%BB%84%E5%90%8E%E5%AF%B9%E6%8C%87%E6%A0%87%E5%80%BC%E6%B1%82%E5%B9%B3%E5%9D%87%E5%80%BC%EF%BC%89%0A%3E%20-%20max%20%EF%BC%88%E5%9F%BA%E4%BA%8E%E6%A0%87%E7%AD%BE%E5%AF%B9%E4%B8%80%E7%BB%84%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E5%88%86%E7%BB%84%E5%90%8E%E5%AF%B9%E6%8C%87%E6%A0%87%E5%80%BC%E6%B1%82%E6%9C%80%E5%A4%A7%E5%80%BC%EF%BC%89%0A%3E%20-%20min%20%EF%BC%88%E5%9F%BA%E4%BA%8E%E6%A0%87%E7%AD%BE%E5%AF%B9%E4%B8%80%E7%BB%84%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E5%88%86%E7%BB%84%E5%90%8E%E5%AF%B9%E6%8C%87%E6%A0%87%E5%80%BC%E6%B1%82%E6%9C%80%E5%B0%8F%E5%80%BC%EF%BC%89%0A%3E%20-%20topk%20%EF%BC%88%E5%9F%BA%E4%BA%8E%E6%A0%87%E7%AD%BE%E5%AF%B9%E4%B8%80%E7%BB%84%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E5%88%86%E7%BB%84%E5%90%8E%E5%AF%B9%E6%8C%87%E6%A0%87%E5%80%BC%E9%99%8D%E5%BA%8F%E5%8F%96%E5%89%8Dk%EF%BC%89%0A%3E%20-%20bottomk%20%EF%BC%88%E5%9F%BA%E4%BA%8E%E6%A0%87%E7%AD%BE%E5%AF%B9%E4%B8%80%E7%BB%84%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E5%88%86%E7%BB%84%E5%90%8E%E5%AF%B9%E6%8C%87%E6%A0%87%E5%80%BC%E5%8D%87%E5%BA%8F%E5%8F%96%E5%89%8Dk%0A%0A%E8%BF%99%E4%BA%9B%E8%BF%90%E7%AE%97%E7%AC%A6%E6%97%A2%E5%8F%AF%E4%BB%A5%E7%94%A8%E4%BA%8E%E8%81%9A%E5%90%88%E6%89%80%E6%9C%89%E7%9A%84%E6%A0%87%E7%AD%BE%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E5%8C%85%E5%90%AB%20%60by%60%20%E6%88%96%E8%80%85%20%60without%60%20%E5%AD%90%E5%8F%A5%E6%9D%A5%E4%BF%9D%E7%95%99%E4%B8%8D%E5%90%8C%E7%9A%84%E6%A0%87%E7%AD%BE%E3%80%82%E8%BF%99%E4%BA%9B%E5%AD%90%E5%8F%A5%E5%8F%AF%E4%BB%A5%E5%9C%A8%E8%A1%A8%E8%BE%BE%E5%BC%8F%E4%B9%8B%E5%89%8D%E6%88%96%E8%80%85%E4%B9%8B%E5%90%8E%E4%BD%BF%E7%94%A8%E3%80%82%0A%0A2.%20%E8%AF%AD%E6%B3%95%E7%BB%93%E6%9E%84%0A%0A%60%60%60%20markdown%0A%3Caggr-op%3E%20%5Bwithout%7Cby%20(%3Clabel%20list%3E)%5D%20(%5Bparameter%2C%5D%20%3Cvector%20expression%3E)%0A%60%60%60%0A%E6%88%96%E8%80%85%0A%60%60%60%20markdown%0A%3Caggr-op%3E(%5Bparameter%2C%5D%20%3Cvector%20expression%3E)%20%5Bwithout%7Cby%20(%3Clabel%20list%3E)%5D%0A%60%60%60%0A%0A%60%3Clabel%20list%3E%60%20%E6%98%AF%E4%B8%80%E4%B8%AA%E6%9C%AA%E5%8A%A0%E5%BC%95%E5%8F%B7%E7%9A%84%E6%A0%87%E7%AD%BE%E5%88%97%E8%A1%A8%EF%BC%8C%E5%85%B6%E4%B8%AD%E5%8F%AF%E8%83%BD%E5%8C%85%E5%90%AB%E4%B8%80%E4%B8%AA%E5%B0%BE%E9%9A%8F%E9%80%97%E5%8F%B7%EF%BC%8C%E5%8D%B3%20%60(label1%2C%20label2)%60%20%E5%92%8C%20%60(label1%2C%20label2%2C)%60%20%E9%83%BD%E6%98%AF%E6%9C%89%E6%95%88%E7%9A%84%E8%AF%AD%E6%B3%95%E3%80%82%0A%0A%60without%60%20%E4%BB%8E%E7%BB%93%E6%9E%9C%E5%90%91%E9%87%8F%E4%B8%AD%E5%88%A0%E9%99%A4%E5%88%97%E5%87%BA%E7%9A%84%E6%A0%87%E7%AD%BE%EF%BC%8C%E8%80%8C%E6%89%80%E6%9C%89%E5%85%B6%E4%BB%96%E6%A0%87%E7%AD%BE%E9%83%BD%E4%BF%9D%E7%95%99%E5%9C%A8%E8%BE%93%E5%87%BA%E4%B8%AD%E3%80%82%60by%60%20%E4%BB%8E%E7%BB%93%E6%9E%9C%E5%90%91%E9%87%8F%E4%B8%AD%E5%88%A0%E9%99%A4%60by%60%20%E5%AD%90%E5%8F%A5%E4%B8%AD%E6%9C%AA%E5%88%97%E5%87%BA%E7%9A%84%E6%A0%87%E7%AD%BE%E3%80%82%0A%0A%60parameter%60%20%E5%8F%AA%E9%80%82%E7%94%A8%E4%BA%8E%20%60topk%60%20%E5%92%8C%20%60bottomk%60%20%E4%B8%AD%E3%80%82%0A%0A%60topk%60%20%E5%92%8C%20%60bottomk%60%20%E4%B8%8E%E5%85%B6%E4%BB%96%E8%81%9A%E5%90%88%E7%AE%97%E5%AD%90%E7%9A%84%E4%B8%8D%E5%90%8C%E4%B9%8B%E5%A4%84%E5%9C%A8%E4%BA%8E%EF%BC%8C%E8%BE%93%E5%85%A5%E6%A0%B7%E6%9C%AC%E7%9A%84%E5%AD%90%E9%9B%86%EF%BC%88%E5%8C%85%E6%8B%AC%E5%8E%9F%E5%A7%8B%E6%A0%87%E7%AD%BE%EF%BC%89%E5%9C%A8%E7%BB%93%E6%9E%9C%E5%90%91%E9%87%8F%E4%B8%AD%E8%BF%94%E5%9B%9E%E3%80%82%60by%60%20%E5%B9%B6%E4%B8%94%20%60without%60%20%E4%BB%85%E7%94%A8%E4%BA%8E%E5%AF%B9%E8%BE%93%E5%85%A5%E5%90%91%E9%87%8F%E8%BF%9B%E8%A1%8C%E5%88%86%E7%BB%84%E3%80%82%0A%0A3.%20%E7%A4%BA%E4%BE%8B%0A%0A%2B%20%E7%A4%BA%E4%BE%8B%E8%BE%93%E5%85%A5%EF%BC%9A%0A%60%60%60%20markdown%0Ahttp_errors%7Bmethod%3D%22get%22%2C%20code%3D%22500%22%7D%20%2024%0Ahttp_errors%7Bmethod%3D%22get%22%2C%20code%3D%22404%22%7D%20%2030%0Ahttp_errors%7Bmethod%3D%22put%22%2C%20code%3D%22501%22%7D%20%203%0Ahttp_errors%7Bmethod%3D%22post%22%2C%20code%3D%22500%22%7D%206%0Ahttp_errors%7Bmethod%3D%22post%22%2C%20code%3D%22404%22%7D%2021%0A%60%60%60%0A%0A%2B%20sum%20%E7%A4%BA%E4%BE%8B%0A%60%60%60%20markdown%0Asum(http_errors)%20without(method)%0A%60%60%60%0A%0A%E7%AD%89%E4%BB%B7%E4%BA%8E%EF%BC%9A%0A%60%60%60%20markdown%0Asum(http_errors)%20by(code)%0A%60%60%60%0A%0A%2B%20sum%20%E7%A4%BA%E4%BE%8B%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%0A%60%60%60%20markdown%0A%7Bcode%3D%22500%22%7D%20%2030%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%2024%20%2B%206%0A%7Bcode%3D%22404%22%7D%20%2051%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%2030%20%2B%2021%0A%7Bcode%3D%22501%22%7D%20%203%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%203%0A%60%60%60%0A%0A%E5%A6%82%E6%9E%9C%E4%BB%85%E4%BB%85%E6%98%AF%E6%83%B3%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89%20HTTP%20%E8%AF%B7%E6%B1%82%E5%8F%91%E7%94%9F%E9%94%99%E8%AF%AF%E7%9A%84%E6%80%BB%E6%95%B0%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%9A%0A%60%60%60%20markdown%0Asum(http_errors)%0A%60%60%60%0A%0A%2B%20topk%20%E7%A4%BA%E4%BE%8B%0A%0A%E5%A6%82%E6%9E%9C%E6%83%B3%E6%9F%A5%E7%9C%8B%E6%89%80%E6%9C%89%E8%AF%B7%E6%B1%82%E4%B8%AD%E6%9C%80%E5%A4%A7%E7%9A%84%203%20%E4%B8%AA%20HTTP%20%E9%94%99%E8%AF%AF%E7%9A%84%E8%AF%B7%E6%B1%82%E6%95%B0%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%9A%0A%60%60%60%20markdown%0Atopk(3%2C%20http_errors)%0A%60%60%60%0A%0A%2B%20topk%20%E7%A4%BA%E4%BE%8B%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%0A%60%60%60%20markdown%0Ahttp_errors%7Bmethod%3D%22get%22%2C%20code%3D%22404%22%7D%20%2030%0Ahttp_errors%7Bmethod%3D%22get%22%2C%20code%3D%22500%22%7D%20%2024%0Ahttp_errors%7Bmethod%3D%22post%22%2C%20code%3D%22404%22%7D%2021%0A%60%60%60%0A%0A%23%23%23%202.3.4%20%E5%87%BD%E6%95%B0%0APromQL%20%E6%8F%90%E4%BE%9B%E7%9A%84%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0%E6%9C%89%EF%BC%9A%20time()%2C%20irate%20%2C%20rate%2C%20increase%2C%20sort%2C%20sort_desc%2C%20label_replace%2C%20label_join%E3%80%82%0A%0A%23%23%23%23%202.3.4.1%20time()%0A%0A1.%20%E8%AF%AD%E4%B9%89%0A%0Atime()%20%E8%BF%94%E5%9B%9E%E8%87%AA%20UTC%20%E6%97%B6%E9%97%B4%EF%BC%881970.1.1%EF%BC%89%E4%BB%A5%E6%9D%A5%E7%9A%84%E7%A7%92%E6%95%B0%E3%80%82%E8%AF%B7%E6%B3%A8%E6%84%8F%EF%BC%8C%E8%BF%99%E5%AE%9E%E9%99%85%E4%B8%8A%E5%B9%B6%E4%B8%8D%E8%BF%94%E5%9B%9E%E5%BD%93%E5%89%8D%E6%97%B6%E9%97%B4%EF%BC%8C%E8%80%8C%E6%98%AF%E8%A6%81%E8%AE%A1%E7%AE%97%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E6%97%B6%E9%97%B4%E3%80%82%E5%BD%93%E6%88%91%E4%BB%AC%E5%90%91%20query%20%E6%8E%A5%E5%8F%A3%E8%AF%B7%E6%B1%82%20time()%EF%BC%8C%E5%88%99%E8%BF%94%E5%9B%9E%E7%9A%84%E6%98%AF%E5%BD%93%E5%89%8D%E6%97%B6%E9%97%B4%E3%80%82%0A%0A2.%20%E7%A4%BA%E4%BE%8B%0A%0A%2B%20%E7%A4%BA%E4%BE%8B1%0A%0A%E5%A6%82%E4%B8%8B%E6%98%AF%20time()%20%E8%AF%B7%E6%B1%82%20query%20%E6%8E%A5%E5%8F%A3%E8%BF%94%E5%9B%9E%E5%BD%93%E5%89%8D%E6%97%B6%E9%97%B4%E6%88%B3%E7%9A%84%E7%A4%BA%E4%BE%8B%0A%60%60%60%20markdown%0A%24%20curl%20'http%3A%2F%2Flocalhost%3A13011%2Fapi%2Fv1%2Fquery%3Fquery%3Dtime()'%0A%7B%0A%20%20%20%20%22status%22%3A%20%22success%22%2C%0A%20%20%20%20%22data%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%22resultType%22%3A%20%22scalar%22%2C%0A%20%20%20%20%20%20%20%20%22result%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%201658469674.961%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%221658469674.961%22%0A%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%7D%0A%7D%0A%60%60%60%0A%0A%2B%20%E7%A4%BA%E4%BE%8B2%0A%0A%E5%A6%82%E4%B8%8B%E6%98%AF%20time()%20%E8%AF%B7%E6%B1%82%20query%20%E6%8E%A5%E5%8F%A3%E8%BF%94%E5%9B%9E%E8%AE%A1%E7%AE%97%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%97%B6%E9%97%B4%E7%9A%84%E7%A4%BA%E4%BE%8B%0A%60%60%60%20markdown%0A%24%20curl%20-X%20POST%20http%3A%2F%2Flocalhost%3A13011%2Fapi%2Fv1%2Fquery%20%5C%0A-H%20%22Content-Type%3Aapplication%2Fx-www-form-urlencoded%22%20%5C%0A-d%20'query%3Dtime()%26time%3D1650883560'%0A%7B%0A%20%20%20%20%22status%22%3A%20%22success%22%2C%0A%20%20%20%20%22data%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%22resultType%22%3A%20%22scalar%22%2C%0A%20%20%20%20%20%20%20%20%22result%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%201650883560%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%221650883560%22%0A%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%7D%0A%7D%0A%60%60%60%0A%0A%23%23%23%23%202.3.4.2%20irate%0A%0A1.%20%E8%AF%AD%E4%B9%89%0A%0A%60irate(v%20range-vector)%60%20%E8%AE%A1%E7%AE%97%E8%8C%83%E5%9B%B4%E5%90%91%E9%87%8F%E4%B8%AD%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E7%9A%84%E6%AF%8F%E7%A7%92%E7%9E%AC%E6%97%B6%E5%A2%9E%E9%95%BF%E7%8E%87%E3%80%82irate%E5%87%BD%E6%95%B0%E6%98%AF%E5%9F%BA%E4%BA%8E%E5%8C%BA%E9%97%B4%E5%90%91%E9%87%8F%E4%B8%AD%E6%9C%80%E5%90%8E%E4%B8%A4%E4%B8%AA%E6%A0%B7%E6%9C%AC%E6%95%B0%E6%8D%AE%E6%9D%A5%E8%AE%A1%E7%AE%97%E5%8C%BA%E9%97%B4%E5%90%91%E9%87%8F%E7%9A%84%E5%A2%9E%E9%95%BF%E9%80%9F%E7%8E%87%E3%80%82%0A%0A2.%20%E8%AF%AD%E6%B3%95%E7%BB%93%E6%9E%84%0A%60%60%60%20markdown%0Airate(v%20range-vector)%0A%60%60%60%0A%E5%85%B6%E4%B8%AD%20%60range-vector%60%20%E7%9A%84%E8%AF%AD%E6%B3%95%E7%BB%93%E6%9E%84%E5%8F%82%E8%80%83%5B%E8%8C%83%E5%9B%B4%E5%90%91%E9%87%8F%E9%80%89%E6%8B%A9%E5%99%A8%5D%E3%80%82%0A%0A1.%20%E7%A4%BA%E4%BE%8B%0A%0A%E4%BB%A5%E4%B8%8B%E7%A4%BA%E4%BE%8B%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%BF%94%E5%9B%9E%E9%92%88%E5%AF%B9%E8%8C%83%E5%9B%B4%E5%90%91%E9%87%8F%E4%B8%AD%E6%AF%8F%E4%B8%AA%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E7%9A%84%E4%B8%A4%E4%B8%AA%E6%9C%80%E8%BF%91%E6%95%B0%E6%8D%AE%E7%82%B9%E7%9A%84%20HTTP%20%E8%AF%B7%E6%B1%82%E7%9A%84%E6%AF%8F%E7%A7%92%E5%A2%9E%E9%95%BF%E9%80%9F%E7%8E%87%EF%BC%8C%E6%9C%80%E5%A4%9A%E5%8F%AF%E8%BF%BD%E6%BA%AF%205%20%E5%88%86%E9%92%9F%EF%BC%9A%0A%60%60%60%20markdown%0Airate(http_requests_total%7Bjob%3D%22api-server%22%7D%5B5m%5D)%0A%60%60%60%0A%0A%23%23%23%23%202.3.4.3%20rate%0A%0A1.%20%E8%AF%AD%E4%B9%89%0A%0A%60rate(v%20range-vector)%60%20%E8%AE%A1%E7%AE%97%E8%8C%83%E5%9B%B4%E5%90%91%E9%87%8F%E4%B8%AD%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E7%9A%84%E6%AF%8F%E7%A7%92%E5%B9%B3%E5%9D%87%E5%A2%9E%E9%95%BF%E7%8E%87%E3%80%82%E5%8D%95%E8%B0%83%E6%80%A7%E7%9A%84%E4%B8%AD%E6%96%AD%EF%BC%88%E4%BE%8B%E5%A6%82%E7%94%B1%E4%BA%8E%E7%9B%AE%E6%A0%87%E9%87%8D%E6%96%B0%E5%90%AF%E5%8A%A8%E8%80%8C%E5%AF%BC%E8%87%B4%E7%9A%84%E8%AE%A1%E6%95%B0%E5%99%A8%E9%87%8D%E7%BD%AE%EF%BC%89%E4%BC%9A%E8%87%AA%E5%8A%A8%E8%B0%83%E6%95%B4%E3%80%82%E6%AD%A4%E5%A4%96%EF%BC%8C%E8%AE%A1%E7%AE%97%E5%A4%96%E6%8E%A8%E5%88%B0%E6%97%B6%E9%97%B4%E8%8C%83%E5%9B%B4%E7%9A%84%E6%9C%AB%E7%AB%AF%EF%BC%8C%E5%85%81%E8%AE%B8%E9%81%97%E6%BC%8F%E9%87%87%E9%9B%86%E6%88%96%E9%87%87%E9%9B%86%E5%91%A8%E6%9C%9F%E4%B8%8E%E8%AF%A5%E8%8C%83%E5%9B%B4%E7%9A%84%E6%97%B6%E9%97%B4%E6%AE%B5%E7%9A%84%E4%B8%8D%E5%AE%8C%E7%BE%8E%E5%AF%B9%E9%BD%90%E3%80%82%0A%0A2.%20%E8%AF%AD%E6%B3%95%E7%BB%93%E6%9E%84%0A%60%60%60%20markdown%0Arate(v%20range-vector)%0A%60%60%60%0A%E5%85%B6%E4%B8%AD%20%60range-vector%60%20%E7%9A%84%E8%AF%AD%E6%B3%95%E7%BB%93%E6%9E%84%E5%8F%82%E8%80%83%5B%E8%8C%83%E5%9B%B4%E5%90%91%E9%87%8F%E9%80%89%E6%8B%A9%E5%99%A8%5D%E3%80%82%0A%0A1.%20%E7%A4%BA%E4%BE%8B%0A%0A%E4%BB%A5%E4%B8%8B%E7%A4%BA%E4%BE%8B%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%BF%94%E5%9B%9E%E9%92%88%E5%AF%B9%E8%8C%83%E5%9B%B4%E5%90%91%E9%87%8F%E4%B8%AD%E8%BF%87%E5%8E%BB%205%20%E5%88%86%E9%92%9F%E5%86%85%E7%9A%84%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE%E7%82%B9%E7%9A%84%20HTTP%20%E8%AF%B7%E6%B1%82%E7%9A%84%E6%AF%8F%E7%A7%92%E5%B9%B3%E5%9D%87%E5%A2%9E%E9%95%BF%E9%80%9F%E7%8E%87%EF%BC%9A%0A%60%60%60%20markdown%0Arate(http_requests_total%7Bjob%3D%22api-server%22%7D%5B5m%5D)%0A%60%60%60%0A%0A%23%23%23%23%202.3.4.4%20increase%0A%0A1.%20%E8%AF%AD%E4%B9%89%0A%0A%60increase(v%20range-vector)%60%20%E8%AE%A1%E7%AE%97%E8%8C%83%E5%9B%B4%E5%90%91%E9%87%8F%E4%B8%AD%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E7%9A%84%E4%B8%80%E6%A0%B7%E6%9C%AC%E5%A2%9E%E9%95%BF%E9%87%8F%E3%80%82%E5%8D%95%E8%B0%83%E6%80%A7%E7%9A%84%E4%B8%AD%E6%96%AD%EF%BC%88%E4%BE%8B%E5%A6%82%E7%94%B1%E4%BA%8E%E7%9B%AE%E6%A0%87%E9%87%8D%E6%96%B0%E5%90%AF%E5%8A%A8%E8%80%8C%E5%AF%BC%E8%87%B4%E7%9A%84%E8%AE%A1%E6%95%B0%E5%99%A8%E9%87%8D%E7%BD%AE%EF%BC%89%E4%BC%9A%E8%87%AA%E5%8A%A8%E8%B0%83%E6%95%B4%E3%80%82%E6%AD%A4%E5%A4%96%EF%BC%8C%E8%AE%A1%E7%AE%97%E5%A4%96%E6%8E%A8%E5%88%B0%E6%97%B6%E9%97%B4%E8%8C%83%E5%9B%B4%E7%9A%84%E6%9C%AB%E7%AB%AF%EF%BC%8C%E5%85%81%E8%AE%B8%E9%81%97%E6%BC%8F%E9%87%87%E9%9B%86%E6%88%96%E9%87%87%E9%9B%86%E5%91%A8%E6%9C%9F%E4%B8%8E%E8%AF%A5%E8%8C%83%E5%9B%B4%E7%9A%84%E6%97%B6%E9%97%B4%E6%AE%B5%E7%9A%84%E4%B8%8D%E5%AE%8C%E7%BE%8E%E5%AF%B9%E9%BD%90%E3%80%82%0A%0A2.%20%E8%AF%AD%E6%B3%95%E7%BB%93%E6%9E%84%0A%60%60%60%20markdown%0Aincrease(v%20range-vector)%0A%60%60%60%0A%E5%85%B6%E4%B8%AD%20%60range-vector%60%20%E7%9A%84%E8%AF%AD%E6%B3%95%E7%BB%93%E6%9E%84%E5%8F%82%E8%80%83%5B%E8%8C%83%E5%9B%B4%E5%90%91%E9%87%8F%E9%80%89%E6%8B%A9%E5%99%A8%5D%E3%80%82%0A%0A3.%20%E7%A4%BA%E4%BE%8B%0A%0A%E4%BB%A5%E4%B8%8B%E7%A4%BA%E4%BE%8B%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%BF%94%E5%9B%9E%E9%92%88%E5%AF%B9%E8%8C%83%E5%9B%B4%E5%90%91%E9%87%8F%E4%B8%AD%E8%BF%87%E5%8E%BB%205%20%E5%88%86%E9%92%9F%E5%86%85%E7%9A%84%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE%E7%82%B9%E7%9A%84%20HTTP%20%E8%AF%B7%E6%B1%82%E7%9A%84%E5%A2%9E%E9%95%BF%E9%87%8F%EF%BC%9A%0A%60%60%60%20markdown%0Aincrease(http_requests_total%7Bjob%3D%22api-server%22%7D%5B5m%5D)%0A%60%60%60%0A%0A2.3.4.5%20sort%0A%0A%60sort(v%20instant-vector)%60%20%E5%B0%86%E7%9E%AC%E6%97%B6%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%BF%94%E5%9B%9E%E7%9A%84%E6%A0%B7%E6%9C%AC%E6%95%B0%E6%8D%AE%E8%BF%9B%E8%A1%8C%E5%8D%87%E5%BA%8F%E6%8E%92%E5%BA%8F%E3%80%82%60sort%60%20%E5%AF%B9%20%60query_range%60%20%E6%9F%A5%E8%AF%A2%E6%97%A0%E6%8E%92%E5%BA%8F%E6%95%88%E6%9E%9C%EF%BC%8C%E5%9B%A0%E6%AD%A4%EF%BC%8C%E7%A6%81%E6%AD%A2%20%60sort%60%20%E5%9C%A8query_range%E6%8E%A5%E5%8F%A3%E7%9A%84%E4%BD%BF%E7%94%A8%E3%80%82%0A%0A2.3.4.6%20sort_desc%0A%0A%60sort_desc(v%20instant-vector)%60%20%E5%B0%86%E7%9E%AC%E6%97%B6%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%BF%94%E5%9B%9E%E7%9A%84%E6%A0%B7%E6%9C%AC%E6%95%B0%E6%8D%AE%E8%BF%9B%E8%A1%8C%E9%99%8D%E5%BA%8F%E6%8E%92%E5%BA%8F%E3%80%82%60sort_desc%60%20%E5%AF%B9%20%60query_range%60%20%E6%9F%A5%E8%AF%A2%E6%97%A0%E6%8E%92%E5%BA%8F%E6%95%88%E6%9E%9C%EF%BC%8C%E5%9B%A0%E6%AD%A4%EF%BC%8C%E7%A6%81%E6%AD%A2%20%60sort_desc%60%20%E5%9C%A8query_range%E6%8E%A5%E5%8F%A3%E7%9A%84%E4%BD%BF%E7%94%A8%E3%80%82%0A%0A%0A2.3.4.7%20label_replace%0A%0A1.%20%E8%AF%AD%E4%B9%89%0A%0A%60label_replace%60%20%E4%B8%BA%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E6%B7%BB%E5%8A%A0%E9%A2%9D%E5%A4%96%E7%9A%84%E6%A0%87%E7%AD%BE%E6%88%96%E4%BF%AE%E6%94%B9%E5%B7%B2%E6%9C%89%E6%A0%87%E7%AD%BE%E3%80%82%0A%0A2.%20%E8%AF%AD%E6%B3%95%E7%BB%93%E6%9E%84%0A%60%60%60%20markdown%0Alabel_replace(v%20instant-vector%2C%20dst_label%20string%2C%20replacement%20string%2C%20src_label%20string%2C%20regex%20string)%0A%60%60%60%0A%0A%60label_replace%60%20%E5%87%BD%E6%95%B0%E4%BC%9A%E4%BE%9D%E6%AC%A1%E5%AF%B9%20%60v%60%20%E4%B8%AD%E7%9A%84%E6%AF%8F%E4%B8%80%E6%9D%A1%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E8%BF%9B%E8%A1%8C%E5%A4%84%E7%90%86%EF%BC%8C%E9%80%9A%E8%BF%87%20%60regex%60%20%E5%8C%B9%E9%85%8D%20%60src_label%60%20%E7%9A%84%E5%80%BC%EF%BC%8C%E5%B9%B6%E5%B0%86%E5%8C%B9%E9%85%8D%E9%83%A8%E5%88%86%20%60relacement%60%20%E5%86%99%E5%85%A5%E5%88%B0%20%60dst_label%60%20%E6%A0%87%E7%AD%BE%E4%B8%AD%E3%80%82%E5%85%B6%E4%B8%AD5%E4%B8%AA%E5%8F%82%E6%95%B0%E9%83%BD%E6%98%AF%E5%BF%85%E9%A1%BB%E7%9A%84%E3%80%82%0A%0A%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E6%98%AF%EF%BC%8C%E5%BD%93%E6%83%B3%E8%A6%81%E5%B0%86%E5%B8%B8%E9%87%8F%20%60replacement%60%20%E8%B5%8B%E4%BA%88%E6%96%B0%E7%9A%84%20%60dst_label%60%20%E6%97%B6%EF%BC%8C%E4%B8%8E%20%60src_label%60%20%E6%97%A0%E5%85%B3%EF%BC%8C%E4%BD%86%E6%98%AF%20%60src_label%60%20%E4%B8%8E%20%60regex%60%20%E4%BC%9A%E5%BD%B1%E5%93%8D%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%EF%BC%8C%E5%BB%BA%E8%AE%AE%E8%BF%99%E7%A7%8D%E6%83%85%E5%86%B5%E4%B8%8B%EF%BC%8C%60regex%60%20%E5%8F%96%20%60%5E.*%24%60%E3%80%82%0A%0A%0A3.%20%E7%A4%BA%E4%BE%8B%0A%0A%E5%A6%82%E4%B8%8B%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%98%AF%E7%BB%99%20%60node_cpu_seconds_total%60%20%E4%B8%8B%E7%9A%84%E6%89%80%E6%9C%89%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E9%83%BD%E7%94%9F%E6%88%90%E4%B8%80%E4%B8%AA%20%60host%60%20%E6%A0%87%E7%AD%BE%EF%BC%8C%E6%A0%87%E7%AD%BE%E5%80%BC%E4%B8%BA%E4%BB%8E%20%60instance%60%20%E4%B8%AD%E9%80%9A%E8%BF%87%E6%AD%A3%E5%88%99%E5%8C%B9%E9%85%8D%E5%88%B0%E7%9A%84%E5%86%85%E5%AE%B9%EF%BC%9A%0A%60%60%60%20markdown%0Alabel_replace(node_cpu_seconds_total%2C%20%22host%22%2C%20%22%241%22%2C%20%22instance%22%2C%20%22(.*)%3A.*%22)%0A%60%60%60%0A%0A%2B%20%E7%A4%BA%E4%BE%8B%E8%BE%93%E5%87%BA%0A%0A%60%60%60%20markdown%0Anode_cpu_seconds_total%7Bhost%3D%22localhost%22%2Cinstance%3D%22localhost%3A8080%22%2Cjob%3D%22cadvisor%22%7D%201%0Anode_cpu_seconds_total%7Bhost%3D%22localhost%22%2Cinstance%3D%22localhost%3A9090%22%2Cjob%3D%22prometheus%22%7D%201%0Anode_cpu_seconds_total%7Bhost%3D%22localhost%22%2Cinstance%3D%22localhost%3A9100%22%2Cjob%3D%22node%22%7D%201%0A%60%60%60%0A%0A2.3.4.8%20label_join%0A%0A1.%20%E5%AE%9A%E4%B9%89%0A%0A%60label_join%60%20%E4%B8%BA%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E6%B7%BB%E5%8A%A0%E4%B8%80%E4%B8%AA%E6%A0%87%E7%AD%BE%EF%BC%8C%E6%AD%A4%E6%A0%87%E7%AD%BE%E4%B8%AD%E7%9A%84%E5%80%BC%E4%B8%BA%E5%A4%9A%E4%B8%AA%E6%A0%87%E7%AD%BE%E7%9A%84%E5%80%BC%E9%80%9A%E8%BF%87%E6%8C%87%E5%AE%9A%E8%BF%9E%E6%8E%A5%E7%AC%A6%E8%BF%9E%E6%8E%A5%E8%B5%B7%E6%9D%A5%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E3%80%82%0A%0A2.%20%E8%AF%AD%E6%B3%95%E7%BB%93%E6%9E%84%0A%0A%60%60%60%20markdown%0Alabel_join(v%20instant-vector%2C%20dst_label%20string%2C%20separator%20string%2C%20src_label_1%20string%2C%20src_label_2%20string%2C%20...)%0A%60%60%60%0A%0A%60label_join%60%20%E5%87%BD%E6%95%B0%E4%BC%9A%E4%BE%9D%E6%AC%A1%E5%AF%B9%20%60v%60%E4%B8%AD%E7%9A%84%E6%AF%8F%E4%B8%80%E6%9D%A1%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E8%BF%9B%E8%A1%8C%E5%A4%84%E7%90%86%EF%BC%8C%E5%87%BD%E6%95%B0%E5%8F%AF%E4%BB%A5%E5%B0%86%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%20%60v%60%20%E4%B8%AD%E5%A4%9A%E4%B8%AA%E6%A0%87%E7%AD%BE%20%60src_label%60%20%E7%9A%84%E5%80%BC%EF%BC%8C%E9%80%9A%E8%BF%87%20%60separator%60%20%E4%BD%9C%E4%B8%BA%E8%BF%9E%E6%8E%A5%E7%AC%A6%E5%86%99%E5%85%A5%E5%88%B0%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84%E6%A0%87%E7%AD%BE%20%60dst_label%60%20%E4%B8%AD%E3%80%82%E5%8F%AF%E4%BB%A5%E6%9C%89%E5%A4%9A%E4%B8%AA%20%60src_label%60%20%E6%A0%87%E7%AD%BE%E3%80%82%0A%0A3.%20%E7%A4%BA%E4%BE%8B%0A%0A%E5%A6%82%E4%B8%8B%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%98%AF%E7%BB%99%20%60node_cpu_seconds_total%60%20%E4%B8%8B%E7%9A%84%E6%89%80%E6%9C%89%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E9%83%BD%E7%94%9F%E6%88%90%E4%B8%80%E4%B8%AA%20%60host%60%20%E6%A0%87%E7%AD%BE%EF%BC%8C%E6%A0%87%E7%AD%BE%E5%80%BC%E4%B8%BA%20%60instance%60%20%E5%92%8C%20%60job%60%20%E7%9A%84%E6%8B%BC%E6%8E%A5%EF%BC%9A%0A%0A%60%60%60%20markdown%0Alabel_join(node_cpu_seconds_total%2C%20%22host%22%2C%20%22---%22%2C%20%22instance%22%2C%20%22job%22)%0A%60%60%60%0A%0A%2B%20%E7%A4%BA%E4%BE%8B%E8%BE%93%E5%87%BA%0A%0A%60%60%60%20markdown%0Anode_cpu_seconds_total%7Bhost%3D%22localhost%3A8080---cadvisor%22%2Cinstance%3D%22localhost%3A8080%22%2Cjob%3D%22cadvisor%22%7D%201%0Anode_cpu_seconds_total%7Bhost%3D%22localhost%3A9090---prometheus%22%2Cinstance%3D%22localhost%3A9090%22%2Cjob%3D%22prometheus%22%7D%201%0Anode_cpu_seconds_total%7Bhost%3D%22localhost%3A9100---node%22%2Cinstance%3D%22localhost%3A9100%22%2Cjob%3D%22node%22%7D%201%0A%60%60%60%0A%0A%23%23%23%202.3.5%20HTTP%20API%0A%0AAPI%20%E5%93%8D%E5%BA%94%E6%A0%BC%E5%BC%8F%E4%B8%BA%20JSON%E3%80%82%0A%E6%A0%BC%E5%BC%8F%E5%A6%82%E4%B8%8B%EF%BC%9A%0A%60%60%60json%0A%7B%0A%20%20%22status%22%3A%20%22success%22%20%7C%20%22error%22%2C%0A%20%20%2F%2F%20Only%20set%20if%20status%20is%20%22success%22.%0A%20%20%22data%22%3A%20%3Cdata%3E%2C%0A%0A%20%20%2F%2F%20Only%20set%20if%20status%20is%20%22error%22.%0A%20%20%22errorType%22%3A%20%22%3Cstring%3E%22%2C%0A%20%20%22error%22%3A%20%22%3Cstring%3E%22%0A%7D%0A%60%60%60%0A%0A%23%23%23%202.3.5.1%20Instant%20query%E6%9F%A5%E8%AF%A2%E6%8E%A5%E5%8F%A3%0A%0A%E5%9C%A8%E5%8D%95%E4%B8%AA%E6%97%B6%E9%97%B4%E7%82%B9%E4%B8%8A%E8%AE%A1%E7%AE%97%20PromQL%20%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E5%80%BC%E3%80%82%0A%2B%20URL%EF%BC%9A%2Fapi%2Funiquery%2Fv1%2Fpromql%2Fquery%0A%0A%2B%20%E8%AF%B7%E6%B1%82%E6%96%B9%E5%BC%8F%EF%BC%9APOST%0A%0A%2B%20%E5%86%85%E5%AE%B9%E6%A0%BC%E5%BC%8F%EF%BC%9Ax-www-form-urlencoded%0A%0A%2B%20%E8%AF%B7%E6%B1%82%E4%BD%93%E5%8F%82%E6%95%B0%EF%BC%9A%0A%0A%7C%20%E5%8F%82%E6%95%B0%20%20%20%20%20%20%20%20%7C%20%E6%98%AF%E5%90%A6%E5%BF%85%E5%A1%AB%20%7C%20%E7%B1%BB%E5%9E%8B%20%20%20%7C%20%E8%AF%B4%E6%98%8E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20-----------%20%7C%20--------%20%7C%20------%20%7C%20------------------------------------------------------------------------------------------------%20%7C%0A%7C%20query%20%20%20%20%20%20%20%7C%20%E6%98%AF%20%20%20%20%20%20%20%7C%20string%20%7C%20PromQL%20%E8%A1%A8%E8%BE%BE%E5%BC%8F%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20ar_dataview%20%7C%20%E5%90%A6%20%20%20%20%20%20%20%7C%20string%20%7C%20%E6%9F%A5%E8%AF%A2%E7%9A%84%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84id%EF%BC%8C%E5%8F%AA%E6%94%AF%E6%8C%81%E6%8C%87%E5%AE%9A%E4%B8%80%E4%B8%AA%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84id%E3%80%82%E5%BD%93%E6%B6%89%E5%8F%8A%E5%88%B0%E6%8C%87%E6%A0%87%E6%9F%A5%E8%AF%A2%E6%97%B6%E5%BF%85%E9%A1%BB%EF%BC%8C%E8%8B%A5%E5%8F%AA%E6%98%AF%E6%A0%87%E9%87%8F%E4%B9%8B%E9%97%B4%E7%9A%84%E8%BF%90%E7%AE%97%E5%8F%AF%E4%B8%8D%E5%A1%AB%E3%80%82%20%7C%0A%7C%20time%20%20%20%20%20%20%20%20%7C%20%E5%90%A6%20%20%20%20%20%20%20%7C%20string%20%7C%20%E8%AE%A1%E7%AE%97%20PromQL%20%E7%9A%84%E6%97%B6%E9%97%B4%E6%88%B3%EF%BC%8C%E4%BB%A5%E7%A7%92%E4%B8%BA%E5%8D%95%E4%BD%8D%E7%9A%84%20Unix%20%E6%97%B6%E9%97%B4%E6%88%B3%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%0A%60time%60%20%E5%A6%82%E6%9E%9C%E7%9C%81%E7%95%A5%EF%BC%8C%E5%88%99%E4%BD%BF%E7%94%A8%E5%BD%93%E5%89%8D%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%97%B6%E9%97%B4%E3%80%82%0A%0A%2B%20%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%EF%BC%9A%0A%0A%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%20%60data%60%20%E9%83%A8%E5%88%86%E7%9A%84%E6%A0%BC%E5%BC%8F%E5%A6%82%E4%B8%8B%EF%BC%9A%0A%60%60%60json%0A%7B%0A%20%20%22resultType%22%3A%20%22matrix%22%20%7C%20%22vector%22%20%7C%20%22scalar%22%2C%0A%20%20%22result%22%3A%20%3Cvalue%3E%0A%7D%0A%60%60%60%0A%60%3Cvalue%3E%60%20%E6%8C%87%E7%9A%84%E6%98%AF%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E6%95%B0%E6%8D%AE%EF%BC%8C%E5%85%B6%E6%A0%BC%E5%BC%8F%E6%A0%B9%E6%8D%AE%20%60resultType%60%20%E8%80%8C%E6%9C%89%E6%89%80%E4%B8%8D%E5%90%8C.%20%E8%AF%B7%E5%8F%82%E9%98%85%20%5B%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E6%A0%BC%E5%BC%8F%5D%E3%80%82%0A%0A%0A%23%23%23%202.3.5.2%20Range%20query%E6%9F%A5%E8%AF%A2%E6%8E%A5%E5%8F%A3%0A%0A%E5%9C%A8%E4%B8%80%E6%AE%B5%E6%97%B6%E9%97%B4%E5%86%85%E4%B8%8A%E8%AE%A1%E7%AE%97%20PromQL%20%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E5%80%BC%E3%80%82%0A%2B%20URL%EF%BC%9A%2Fapi%2Funiquery%2Fv1%2Fpromql%2Fquery_range%0A%0A%2B%20%E8%AF%B7%E6%B1%82%E6%96%B9%E5%BC%8F%EF%BC%9APOST%0A%0A%2B%20%E5%86%85%E5%AE%B9%E6%A0%BC%E5%BC%8F%EF%BC%9Ax-www-form-urlencoded%0A%0A%2B%20%E8%AF%B7%E6%B1%82%E4%BD%93%E5%8F%82%E6%95%B0%EF%BC%9A%0A%0A%7C%20%E5%8F%82%E6%95%B0%20%20%20%20%20%20%20%20%7C%20%E6%98%AF%E5%90%A6%E5%BF%85%E5%A1%AB%20%7C%20%E7%B1%BB%E5%9E%8B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20%E8%AF%B4%E6%98%8E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20-----------%20%7C%20--------%20%7C%20---------------------%20%7C%20------------------------------------------------------------------------------------------------%20%7C%0A%7C%20query%20%20%20%20%20%20%20%7C%20%E6%98%AF%20%20%20%20%20%20%20%7C%20string%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20PromQL%20%E8%A1%A8%E8%BE%BE%E5%BC%8F%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20start%20%20%20%20%20%20%20%7C%20%E6%98%AF%20%20%20%20%20%20%20%7C%20int64%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20%E5%BC%80%E5%A7%8B%E6%97%B6%E9%97%B4%EF%BC%8C%E4%BB%A5%E7%A7%92%E4%B8%BA%E5%8D%95%E4%BD%8D%E7%9A%84%20Unix%20%E6%97%B6%E9%97%B4%E6%88%B3%E6%88%B3%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20end%20%20%20%20%20%20%20%20%20%7C%20%E6%98%AF%20%20%20%20%20%20%20%7C%20int64%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20%E7%BB%93%E6%9D%9F%E6%97%B6%E9%97%B4%EF%BC%8C%E4%BB%A5%E7%A7%92%E4%B8%BA%E5%8D%95%E4%BD%8D%E7%9A%84%20Unix%20%E6%97%B6%E9%97%B4%E6%88%B3%E6%88%B3%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20step%20%20%20%20%20%20%20%20%7C%20%E6%98%AF%20%20%20%20%20%20%20%7C%20%60%3Cduration%20%5C%7C%20float%3E%60%20%7C%20%E4%BB%A5%20%60duration%60%20%E6%A0%BC%E5%BC%8F%EF%BC%88%E5%8F%82%E8%80%83%20%5Btime_durations%5D%EF%BC%89%E6%88%96%E6%B5%AE%E7%82%B9%E7%A7%92%E6%95%B0%E8%A1%A8%E7%A4%BA%E7%9A%84%E6%9F%A5%E8%AF%A2%E6%AD%A5%E9%95%BF%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20ar_dataview%20%7C%20%E5%90%A6%20%20%20%20%20%20%20%7C%20string%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20%E6%9F%A5%E8%AF%A2%E7%9A%84%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84id%EF%BC%8C%E5%8F%AA%E6%94%AF%E6%8C%81%E6%8C%87%E5%AE%9A%E4%B8%80%E4%B8%AA%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84id%E3%80%82%E5%BD%93%E6%B6%89%E5%8F%8A%E5%88%B0%E6%8C%87%E6%A0%87%E6%9F%A5%E8%AF%A2%E6%97%B6%E5%BF%85%E9%A1%BB%EF%BC%8C%E8%8B%A5%E5%8F%AA%E6%98%AF%E6%A0%87%E9%87%8F%E4%B9%8B%E9%97%B4%E7%9A%84%E8%BF%90%E7%AE%97%E5%8F%AF%E4%B8%8D%E5%A1%AB%E3%80%82%20%7C%0A%0A%0A%2B%20%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%EF%BC%9A%0A%0A%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%20%60data%60%20%E9%83%A8%E5%88%86%E7%9A%84%E6%A0%BC%E5%BC%8F%E5%A6%82%E4%B8%8B%EF%BC%9A%0A%60%60%60json%0A%7B%0A%20%20%22resultType%22%3A%20%22matrix%22%2C%0A%20%20%22result%22%3A%20%3Cvalue%3E%0A%7D%0A%60%60%60%0A%60%3Cvalue%3E%60%20%E6%8C%87%E7%9A%84%E6%98%AF%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E6%95%B0%E6%8D%AE%EF%BC%8C%E8%AF%B7%E5%8F%82%E9%98%85%20%5B%E8%8C%83%E5%9B%B4%E5%90%91%E9%87%8F%E7%BB%93%E6%9E%9C%E6%A0%BC%E5%BC%8F%5D%E3%80%82%0A%0A%23%23%23%202.3.5.3%20Series%E6%9F%A5%E8%AF%A2%E6%8E%A5%E5%8F%A3%0A%0A%E8%BF%94%E5%9B%9E%E4%B8%8E%E6%9F%90%E4%B8%AA%E6%A0%87%E7%AD%BE%E9%9B%86%E5%8C%B9%E9%85%8D%E7%9A%84%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E5%88%97%E8%A1%A8%E3%80%82%0A%2B%20URL%EF%BC%9A%2Fapi%2Funiquery%2Fv1%2Fpromql%2Fseries%0A%0A%2B%20%E8%AF%B7%E6%B1%82%E6%96%B9%E5%BC%8F%EF%BC%9APOST%0A%0A%2B%20%E5%86%85%E5%AE%B9%E6%A0%BC%E5%BC%8F%EF%BC%9Ax-www-form-urlencoded%0A%0A%2B%20%E8%AF%B7%E6%B1%82%E4%BD%93%E5%8F%82%E6%95%B0%EF%BC%9A%0A%0A%7C%20%E5%8F%82%E6%95%B0%20%20%20%20%20%20%20%20%7C%20%E6%98%AF%E5%90%A6%E5%BF%85%E5%A1%AB%20%7C%20%E7%B1%BB%E5%9E%8B%20%20%20%7C%20%E8%AF%B4%E6%98%8E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20-----------%20%7C%20--------%20%7C%20------%20%7C%20------------------------------------------------------------------------------------------------%20%7C%0A%7C%20match%5B%5D%20%20%20%20%20%7C%20%E6%98%AF%20%20%20%20%20%20%20%7C%20string%20%7C%20%E9%87%8D%E5%A4%8D%E7%B3%BB%E5%88%97%E9%80%89%E6%8B%A9%E5%99%A8%E5%8F%82%E6%95%B0%E3%80%82%E6%A0%BC%E5%BC%8F%E4%B8%BA%EF%BC%9A%20%60match%5B%5D%3D%3C%20series_selector%20%3E%60%E3%80%82%20%60match%5B%5D%60%20%E5%BF%85%E9%A1%BB%E6%8F%90%E4%BE%9B%E8%87%B3%E5%B0%91%E4%B8%80%E4%B8%AA%E5%8F%82%E6%95%B0%20%20%20%20%20%20%7C%0A%7C%20start%20%20%20%20%20%20%20%7C%20%E5%90%A6%20%20%20%20%20%20%20%7C%20int64%20%20%7C%20%E5%BC%80%E5%A7%8B%E6%97%B6%E9%97%B4%EF%BC%8C%E4%BB%A5%E7%A7%92%E4%B8%BA%E5%8D%95%E4%BD%8D%E7%9A%84%20Unix%20%E6%97%B6%E9%97%B4%E6%88%B3%E3%80%82%E9%BB%98%E8%AE%A4%E6%98%AF%200xFFDF%203B81%204940%209A0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20end%20%20%20%20%20%20%20%20%20%7C%20%E5%90%A6%20%20%20%20%20%20%20%7C%20int64%20%20%7C%20%E7%BB%93%E6%9D%9F%E6%97%B6%E9%97%B4%EF%BC%8C%E4%BB%A5%E7%A7%92%E4%B8%BA%E5%8D%95%E4%BD%8D%E7%9A%84%20Unix%20%E6%97%B6%E9%97%B4%E6%88%B3%E3%80%82%E9%BB%98%E8%AE%A4%E6%98%AF%E5%BD%93%E5%89%8D%E7%B3%BB%E7%BB%9F%E6%97%B6%E9%97%B4%E6%88%B3%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20ar_dataview%20%7C%20%E5%90%A6%20%20%20%20%20%20%20%7C%20string%20%7C%20%E6%9F%A5%E8%AF%A2%E7%9A%84%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84id%EF%BC%8C%E5%8F%AA%E6%94%AF%E6%8C%81%E6%8C%87%E5%AE%9A%E4%B8%80%E4%B8%AA%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84id%E3%80%82%E5%BD%93%E6%B6%89%E5%8F%8A%E5%88%B0%E6%8C%87%E6%A0%87%E6%9F%A5%E8%AF%A2%E6%97%B6%E5%BF%85%E9%A1%BB%EF%BC%8C%E8%8B%A5%E5%8F%AA%E6%98%AF%E6%A0%87%E9%87%8F%E4%B9%8B%E9%97%B4%E7%9A%84%E8%BF%90%E7%AE%97%E5%8F%AF%E4%B8%8D%E5%A1%AB%E3%80%82%20%7C%0A%0A%0A%2B%20%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%EF%BC%9A%0A%0A%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%20%60data%60%20%E9%83%A8%E5%88%86%E7%9A%84%E6%A0%BC%E5%BC%8F%E5%A6%82%E4%B8%8B%EF%BC%9A%0A%60%60%60json%0A%5B%0A%20%20%20%20%20%7B%20%22%3Clabel_name%3E%22%3A%20%22%3Clabel_value%3E%22%2C%20...%20%7D%2C%0A%20%20%20%20%20...%0A%5D%0A%60%60%60%0A%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E7%9A%84%20%60data%60%20%E9%83%A8%E5%88%86%E5%8C%85%E5%90%AB%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%E5%88%97%E8%A1%A8%EF%BC%8C%E5%85%B6%E4%B8%AD%E5%8C%85%E5%90%AB%E6%A0%87%E8%AF%86%E6%AF%8F%E4%B8%AA%E7%B3%BB%E5%88%97%E7%9A%84%E6%A0%87%E7%AD%BE%E5%90%8D%E7%A7%B0%2F%E5%80%BC%E5%AF%B9%E3%80%82%0A%0A%0A%0A%23%23%23%202.3.5.4%20%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E6%A0%BC%E5%BC%8F%0A%0A%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%9F%A5%E8%AF%A2%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%E7%9A%84%20%60result%60%20%E5%B1%9E%E6%80%A7%E4%B8%AD%E7%9A%84%20%60data%60%20%E9%83%A8%E5%88%86%E5%8F%AF%E8%83%BD%E6%98%AF%E5%A6%82%E4%B8%8B%E7%9A%84%E6%A0%BC%E5%BC%8F%E3%80%82%60%3Csample_value%3E%60%20%E6%98%AF%E6%95%B0%E5%AD%97%E6%A0%B7%E6%9C%AC%E5%80%BC%E3%80%82JSON%20%E4%B8%8D%E6%94%AF%E6%8C%81%E7%89%B9%E6%AE%8A%E7%9A%84%E6%B5%AE%E7%82%B9%E5%80%BC%EF%BC%8C%E4%BE%8B%E5%A6%82%20%60NaN%60%E3%80%81%60Inf%60%20%E5%92%8C%20%60-Inf%60%EF%BC%8C%E5%9B%A0%E6%AD%A4%E6%A0%B7%E6%9C%AC%E5%80%BC%E4%BD%9C%E4%B8%BA%E5%B8%A6%E5%BC%95%E5%8F%B7%E7%9A%84%20JSON%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%80%8C%E4%B8%8D%E6%98%AF%E5%8E%9F%E5%A7%8B%E6%95%B0%E5%AD%97%E4%BC%A0%E8%BE%93%E3%80%82%0A%0A%2B%20%E8%8C%83%E5%9B%B4%E5%90%91%E9%87%8F%0A%0A%E8%8C%83%E5%9B%B4%E5%90%91%E9%87%8F%E8%BF%94%E5%9B%9E%E7%9A%84%E7%BB%93%E6%9E%9C%E7%B1%BB%E5%9E%8B%E4%B8%BA%20%60matrix%60%E3%80%82%E7%9B%B8%E5%BA%94%E7%9A%84%20%60result%60%20%E5%B1%9E%E6%80%A7%E6%9C%89%E5%A6%82%E4%B8%8B%E6%A0%BC%E5%BC%8F%EF%BC%9A%0A%60%60%60json%0A%5B%0A%20%20%7B%0A%20%20%20%20%22metric%22%3A%20%7B%20%22%3Clabel_name%3E%22%3A%20%22%3Clabel_value%3E%22%2C%20...%20%7D%2C%0A%20%20%20%20%22values%22%3A%20%5B%20%5B%20%3Cunix_time%3E%2C%20%22%3Csample_value%3E%22%20%5D%2C%20...%20%5D%0A%20%20%7D%2C%0A%20%20...%0A%5D%0A%60%60%60%0A%0A%2B%20%E7%9E%AC%E6%97%B6%E5%90%91%E9%87%8F%0A%0A%E7%9E%AC%E6%97%B6%E5%90%91%E9%87%8F%E8%BF%94%E5%9B%9E%E7%9A%84%E7%BB%93%E6%9E%9C%E7%B1%BB%E5%9E%8B%E4%B8%BA%20%60vector%60%E3%80%82%E7%9B%B8%E5%BA%94%E7%9A%84%20%60result%60%20%E5%B1%9E%E6%80%A7%E6%9C%89%E5%A6%82%E4%B8%8B%E6%A0%BC%E5%BC%8F%EF%BC%9A%0A%60%60%60json%0A%5B%0A%20%20%7B%0A%20%20%20%20%22metric%22%3A%20%7B%20%22%3Clabel_name%3E%22%3A%20%22%3Clabel_value%3E%22%2C%20...%20%7D%2C%0A%20%20%20%20%22value%22%3A%20%5B%20%3Cunix_time%3E%2C%20%22%3Csample_value%3E%22%20%5D%0A%20%20%7D%2C%0A%20%20...%0A%5D%0A%60%60%60%0A%0A%2B%20%E6%A0%87%E9%87%8F%0A%0A%E6%A0%87%E9%87%8F%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%BF%94%E5%9B%9E%E7%9A%84%E7%BB%93%E6%9E%9C%E7%B1%BB%E5%9E%8B%E4%B8%BA%20%60scalar%60%E3%80%82%E7%9B%B8%E5%BA%94%E7%9A%84%20%60result%60%20%E5%B1%9E%E6%80%A7%E6%9C%89%E5%A6%82%E4%B8%8B%E6%A0%BC%E5%BC%8F%EF%BC%9A%0A%60%60%60json%0A%5B%20%3Cunix_time%3E%2C%20%22%3Cscalar_value%3E%22%20%5D%0A%60%60%60%0A%0A%0A%23%23%23%202.3.6%20%E5%BC%80%E5%8F%91%E4%B8%8E%E5%AE%9E%E8%B7%B5%0A%0A%23%23%23%202.3.6.1%20%E8%B0%83%E7%94%A8%E6%B5%81%E7%A8%8B%0A%0A%EF%83%98%E8%B0%83%E7%94%A8%E8%BF%87%E7%A8%8B%E5%A6%82%E4%B8%8B%E5%9B%BE%E6%89%80%E7%A4%BA%EF%BC%9A%0A%0A!%5Bimage%5D(images%2Fpromql_query_process.png)%0A%0A%23%23%23%23%202.3.6.2%20%E8%AF%B7%E6%B1%82%E7%A4%BA%E4%BE%8B%0A%0A**%E7%AC%AC1%E6%AD%A5****%C2%A0%C2%A0%20**%E5%BE%80%20opensearch%2Fes%20%E5%86%99%E5%85%A5%20promql_test%20%E7%B1%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%EF%BC%9A%0A%0A%60%60%60json%0Acurl%20-X%20POST%20%2210.4.14.35%3A30000%2F_bulk%3Fpretty%22%20-uadmin%3Aeisoo.com123%20-H%20'Content-Type%3A%20application%2Fjson'%20-d'%0A%7B%20%22index%22%20%3A%20%7B%20%22_index%22%20%3A%20%22promql_test-01%22%2C%20%22_id%22%20%3A%20%221%22%20%7D%20%7D%0A%7B%20%22type%22%20%3A%22promql_test%22%2C%20%22%40timestamp%22%20%3A%20%222022-04-25T09%3A46%3A00.000Z%22%2C%20%22labels_str%22%20%3A%20%22labels.cpu%3Dcpu0%2Clabels.instance%3D10.4.14.35%2Clabels.mode%3Duser%22%2C%22metrics.system_metric_cpu_seconds_total%22%3A%2011%2C%22labels.cpu%22%3A%20%22cpu0%22%2C%22labels.instance%22%3A%20%2210.4.106.127%22%2C%22labels.mode%22%3A%20%22user%22%20%7D%0A%7B%20%22index%22%20%3A%20%7B%20%22_index%22%20%3A%20%22promql_test-01%22%2C%20%22_id%22%20%3A%20%222%22%20%7D%20%7D%0A%7B%20%22type%22%20%3A%22promql_test%22%2C%20%22%40timestamp%22%20%3A%20%222022-04-25T09%3A46%3A30.000Z%22%2C%20%22labels_str%22%20%3A%20%22labels.cpu%3Dcpu0%2Clabels.instance%3D10.4.14.35%2Clabels.mode%3Duser%22%2C%22metrics.system_metric_cpu_seconds_total%22%3A%2012%2C%22labels.cpu%22%3A%20%22cpu0%22%2C%22labels.instance%22%3A%20%2210.4.106.127%22%2C%22labels.mode%22%3A%20%22user%22%20%7D%0A%7B%20%22index%22%20%3A%20%7B%20%22_index%22%20%3A%20%22promql_test-01%22%2C%20%22_id%22%20%3A%20%223%22%20%7D%20%7D%0A%7B%20%22type%22%20%3A%22promql_test%22%2C%20%22%40timestamp%22%20%3A%20%222022-04-25T09%3A47%3A00.000Z%22%2C%20%22labels_str%22%20%3A%20%22labels.cpu%3Dcpu0%2Clabels.instance%3D10.4.14.35%2Clabels.mode%3Duser%22%2C%22metrics.system_metric_cpu_seconds_total%22%3A%2012%2C%22labels.cpu%22%3A%20%22cpu0%22%2C%22labels.instance%22%3A%20%2210.4.106.127%22%2C%22labels.mode%22%3A%20%22user%22%20%7D%0A%7B%20%22index%22%20%3A%20%7B%20%22_index%22%20%3A%20%22promql_test-01%22%2C%20%22_id%22%20%3A%20%224%22%20%7D%20%7D%0A%7B%20%22type%22%20%3A%22promql_test%22%2C%20%22%40timestamp%22%20%3A%20%222022-04-25T09%3A47%3A30.000Z%22%2C%20%22labels_str%22%20%3A%20%22labels.cpu%3Dcpu0%2Clabels.instance%3D10.4.14.35%2Clabels.mode%3Duser%22%2C%22metrics.system_metric_cpu_seconds_total%22%3A%2013%2C%22labels.cpu%22%3A%20%22cpu0%22%2C%22labels.instance%22%3A%20%2210.4.106.127%22%2C%22labels.mode%22%3A%20%22user%22%20%7D%0A%7B%20%22index%22%20%3A%20%7B%20%22_index%22%20%3A%20%22promql_test-01%22%2C%20%22_id%22%20%3A%20%225%22%20%7D%20%7D%0A%7B%20%22type%22%20%3A%22promql_test%22%2C%20%22%40timestamp%22%20%3A%20%222022-04-25T09%3A48%3A00.000Z%22%2C%20%22labels_str%22%20%3A%20%22labels.cpu%3Dcpu0%2Clabels.instance%3D10.4.14.35%2Clabels.mode%3Duser%22%2C%22metrics.system_metric_cpu_seconds_total%22%3A%2014%2C%22labels.cpu%22%3A%20%22cpu0%22%2C%22labels.instance%22%3A%20%2210.4.106.127%22%2C%22labels.mode%22%3A%20%22user%22%20%7D%0A%7B%20%22index%22%20%3A%20%7B%20%22_index%22%20%3A%20%22promql_test-01%22%2C%20%22_id%22%20%3A%20%226%22%20%7D%20%7D%0A%7B%20%22type%22%20%3A%22promql_test%22%2C%20%22%40timestamp%22%20%3A%20%222022-04-25T09%3A48%3A30.000Z%22%2C%20%22labels_str%22%20%3A%20%22labels.cpu%3Dcpu0%2Clabels.instance%3D10.4.14.35%2Clabels.mode%3Duser%22%2C%22metrics.system_metric_cpu_seconds_total%22%3A%2015%2C%22labels.cpu%22%3A%20%22cpu0%22%2C%22labels.instance%22%3A%20%2210.4.106.127%22%2C%22labels.mode%22%3A%20%22user%22%20%7D%0A%7B%20%22index%22%20%3A%20%7B%20%22_index%22%20%3A%20%22promql_test-01%22%2C%20%22_id%22%20%3A%20%227%22%20%7D%20%7D%0A%7B%20%22type%22%20%3A%22promql_test%22%2C%20%22%40timestamp%22%20%3A%20%222022-04-25T09%3A46%3A00.000Z%22%2C%20%22labels_str%22%20%3A%20%22labels.cpu%3Dcpu1%2Clabels.instance%3D10.4.14.35%2Clabels.mode%3Duser%22%2C%22metrics.system_metric_cpu_seconds_total%22%3A%2021%2C%22labels.cpu%22%3A%20%22cpu1%22%2C%22labels.instance%22%3A%20%2210.4.106.127%22%2C%22labels.mode%22%3A%20%22user%22%20%7D%0A%7B%20%22index%22%20%3A%20%7B%20%22_index%22%20%3A%20%22promql_test-01%22%2C%20%22_id%22%20%3A%20%228%22%20%7D%20%7D%0A%7B%20%22type%22%20%3A%22promql_test%22%2C%20%22%40timestamp%22%20%3A%20%222022-04-25T09%3A46%3A30.000Z%22%2C%20%22labels_str%22%20%3A%20%22labels.cpu%3Dcpu1%2Clabels.instance%3D10.4.14.35%2Clabels.mode%3Duser%22%2C%22metrics.system_metric_cpu_seconds_total%22%3A%2022%2C%22labels.cpu%22%3A%20%22cpu1%22%2C%22labels.instance%22%3A%20%2210.4.106.127%22%2C%22labels.mode%22%3A%20%22user%22%20%7D%0A%7B%20%22index%22%20%3A%20%7B%20%22_index%22%20%3A%20%22promql_test-01%22%2C%20%22_id%22%20%3A%20%229%22%20%7D%20%7D%0A%7B%20%22type%22%20%3A%22promql_test%22%2C%20%22%40timestamp%22%20%3A%20%222022-04-25T09%3A47%3A00.000Z%22%2C%20%22labels_str%22%20%3A%20%22labels.cpu%3Dcpu1%2Clabels.instance%3D10.4.14.35%2Clabels.mode%3Duser%22%2C%22metrics.system_metric_cpu_seconds_total%22%3A%2022%2C%22labels.cpu%22%3A%20%22cpu1%22%2C%22labels.instance%22%3A%20%2210.4.106.127%22%2C%22labels.mode%22%3A%20%22user%22%20%7D%0A%7B%20%22index%22%20%3A%20%7B%20%22_index%22%20%3A%20%22promql_test-01%22%2C%20%22_id%22%20%3A%20%2210%22%20%7D%20%7D%0A%7B%20%22type%22%20%3A%22promql_test%22%2C%20%22%40timestamp%22%20%3A%20%222022-04-25T09%3A47%3A30.000Z%22%2C%20%22labels_str%22%20%3A%20%22labels.cpu%3Dcpu1%2Clabels.instance%3D10.4.14.35%2Clabels.mode%3Duser%22%2C%22metrics.system_metric_cpu_seconds_total%22%3A%2023%2C%22labels.cpu%22%3A%20%22cpu1%22%2C%22labels.instance%22%3A%20%2210.4.106.127%22%2C%22labels.mode%22%3A%20%22user%22%20%7D%0A%7B%20%22index%22%20%3A%20%7B%20%22_index%22%20%3A%20%22promql_test-01%22%2C%20%22_id%22%20%3A%20%2211%22%20%7D%20%7D%0A%7B%20%22type%22%20%3A%22promql_test%22%2C%20%22%40timestamp%22%20%3A%20%222022-04-25T09%3A48%3A00.000Z%22%2C%20%22labels_str%22%20%3A%20%22labels.cpu%3Dcpu1%2Clabels.instance%3D10.4.14.35%2Clabels.mode%3Duser%22%2C%22metrics.system_metric_cpu_seconds_total%22%3A%2024%2C%22labels.cpu%22%3A%20%22cpu1%22%2C%22labels.instance%22%3A%20%2210.4.106.127%22%2C%22labels.mode%22%3A%20%22user%22%20%7D%0A%7B%20%22index%22%20%3A%20%7B%20%22_index%22%20%3A%20%22promql_test-01%22%2C%20%22_id%22%20%3A%20%2212%22%20%7D%20%7D%0A%7B%20%22type%22%20%3A%22promql_test%22%2C%20%22%40timestamp%22%20%3A%20%222022-04-25T09%3A48%3A30.000Z%22%2C%20%22labels_str%22%20%3A%20%22labels.cpu%3Dcpu1%2Clabels.instance%3D10.4.14.35%2Clabels.mode%3Duser%22%2C%22metrics.system_metric_cpu_seconds_total%22%3A%2025%2C%22labels.cpu%22%3A%20%22cpu1%22%2C%22labels.instance%22%3A%20%2210.4.106.127%22%2C%22labels.mode%22%3A%20%22user%22%20%7D%0A%7B%20%22index%22%20%3A%20%7B%20%22_index%22%20%3A%20%22promql_test-01%22%2C%20%22_id%22%20%3A%20%2213%22%20%7D%20%7D%0A%7B%20%22type%22%20%3A%22promql_test%22%2C%20%22%40timestamp%22%20%3A%20%222022-04-25T09%3A46%3A00.000Z%22%2C%20%22labels_str%22%20%3A%20%22labels.cpu%3Dcpu0%2Clabels.instance%3D10.4.14.35%2Clabels.mode%3Dsystem%22%2C%22metrics.system_metric_cpu_seconds_total%22%3A%2031%2C%22labels.cpu%22%3A%20%22cpu0%22%2C%22labels.instance%22%3A%20%2210.4.106.127%22%2C%22labels.mode%22%3A%20%22system%22%20%7D%0A%7B%20%22index%22%20%3A%20%7B%20%22_index%22%20%3A%20%22promql_test-01%22%2C%20%22_id%22%20%3A%20%2214%22%20%7D%20%7D%0A%7B%20%22type%22%20%3A%22promql_test%22%2C%20%22%40timestamp%22%20%3A%20%222022-04-25T09%3A46%3A30.000Z%22%2C%20%22labels_str%22%20%3A%20%22labels.cpu%3Dcpu0%2Clabels.instance%3D10.4.14.35%2Clabels.mode%3Dsystem%22%2C%22metrics.system_metric_cpu_seconds_total%22%3A%2032%2C%22labels.cpu%22%3A%20%22cpu0%22%2C%22labels.instance%22%3A%20%2210.4.106.127%22%2C%22labels.mode%22%3A%20%22system%22%20%7D%0A%7B%20%22index%22%20%3A%20%7B%20%22_index%22%20%3A%20%22promql_test-01%22%2C%20%22_id%22%20%3A%20%2215%22%20%7D%20%7D%0A%7B%20%22type%22%20%3A%22promql_test%22%2C%20%22%40timestamp%22%20%3A%20%222022-04-25T09%3A47%3A00.000Z%22%2C%20%22labels_str%22%20%3A%20%22labels.cpu%3Dcpu0%2Clabels.instance%3D10.4.14.35%2Clabels.mode%3Dsystem%22%2C%22metrics.system_metric_cpu_seconds_total%22%3A%2032%2C%22labels.cpu%22%3A%20%22cpu0%22%2C%22labels.instance%22%3A%20%2210.4.106.127%22%2C%22labels.mode%22%3A%20%22system%22%20%7D%0A%7B%20%22index%22%20%3A%20%7B%20%22_index%22%20%3A%20%22promql_test-01%22%2C%20%22_id%22%20%3A%20%2216%22%20%7D%20%7D%0A%7B%20%22type%22%20%3A%22promql_test%22%2C%20%22%40timestamp%22%20%3A%20%222022-04-25T09%3A47%3A30.000Z%22%2C%20%22labels_str%22%20%3A%20%22labels.cpu%3Dcpu0%2Clabels.instance%3D10.4.14.35%2Clabels.mode%3Dsystem%22%2C%22metrics.system_metric_cpu_seconds_total%22%3A%2033%2C%22labels.cpu%22%3A%20%22cpu0%22%2C%22labels.instance%22%3A%20%2210.4.106.127%22%2C%22labels.mode%22%3A%20%22system%22%20%7D%0A%7B%20%22index%22%20%3A%20%7B%20%22_index%22%20%3A%20%22promql_test-01%22%2C%20%22_id%22%20%3A%20%2217%22%20%7D%20%7D%0A%7B%20%22type%22%20%3A%22promql_test%22%2C%20%22%40timestamp%22%20%3A%20%222022-04-25T09%3A48%3A00.000Z%22%2C%20%22labels_str%22%20%3A%20%22labels.cpu%3Dcpu0%2Clabels.instance%3D10.4.14.35%2Clabels.mode%3Dsystem%22%2C%22metrics.system_metric_cpu_seconds_total%22%3A%2034%2C%22labels.cpu%22%3A%20%22cpu0%22%2C%22labels.instance%22%3A%20%2210.4.106.127%22%2C%22labels.mode%22%3A%20%22system%22%20%7D%0A%7B%20%22index%22%20%3A%20%7B%20%22_index%22%20%3A%20%22promql_test-01%22%2C%20%22_id%22%20%3A%20%2218%22%20%7D%20%7D%0A%7B%20%22type%22%20%3A%22promql_test%22%2C%20%22%40timestamp%22%20%3A%20%222022-04-25T09%3A48%3A30.000Z%22%2C%20%22labels_str%22%20%3A%20%22labels.cpu%3Dcpu0%2Clabels.instance%3D10.4.14.35%2Clabels.mode%3Dsystem%22%2C%22metrics.system_metric_cpu_seconds_total%22%3A%2035%2C%22labels.cpu%22%3A%20%22cpu0%22%2C%22labels.instance%22%3A%20%2210.4.106.127%22%2C%22labels.mode%22%3A%20%22system%22%20%7D%0A%7B%20%22index%22%20%3A%20%7B%20%22_index%22%20%3A%20%22promql_test-01%22%2C%20%22_id%22%20%3A%20%2219%22%20%7D%20%7D%0A%7B%20%22type%22%20%3A%22promql_test%22%2C%20%22%40timestamp%22%20%3A%20%222022-04-25T09%3A46%3A00.000Z%22%2C%20%22labels_str%22%20%3A%20%22labels.cpu%3Dcpu1%2Clabels.instance%3D10.4.14.35%2Clabels.mode%3Dsystem%22%2C%22metrics.system_metric_cpu_seconds_total%22%3A%2041%2C%22labels.cpu%22%3A%20%22cpu1%22%2C%22labels.instance%22%3A%20%2210.4.106.127%22%2C%22labels.mode%22%3A%20%22system%22%20%7D%0A%7B%20%22index%22%20%3A%20%7B%20%22_index%22%20%3A%20%22promql_test-01%22%2C%20%22_id%22%20%3A%20%2220%22%20%7D%20%7D%0A%7B%20%22type%22%20%3A%22promql_test%22%2C%20%22%40timestamp%22%20%3A%20%222022-04-25T09%3A46%3A30.000Z%22%2C%20%22labels_str%22%20%3A%20%22labels.cpu%3Dcpu1%2Clabels.instance%3D10.4.14.35%2Clabels.mode%3Dsystem%22%2C%22metrics.system_metric_cpu_seconds_total%22%3A%2042%2C%22labels.cpu%22%3A%20%22cpu1%22%2C%22labels.instance%22%3A%20%2210.4.106.127%22%2C%22labels.mode%22%3A%20%22system%22%20%7D%0A%7B%20%22index%22%20%3A%20%7B%20%22_index%22%20%3A%20%22promql_test-01%22%2C%20%22_id%22%20%3A%20%2221%22%20%7D%20%7D%0A%7B%20%22type%22%20%3A%22promql_test%22%2C%20%22%40timestamp%22%20%3A%20%222022-04-25T09%3A47%3A00.000Z%22%2C%20%22labels_str%22%20%3A%20%22labels.cpu%3Dcpu1%2Clabels.instance%3D10.4.14.35%2Clabels.mode%3Dsystem%22%2C%22metrics.system_metric_cpu_seconds_total%22%3A%2042%2C%22labels.cpu%22%3A%20%22cpu1%22%2C%22labels.instance%22%3A%20%2210.4.106.127%22%2C%22labels.mode%22%3A%20%22system%22%20%7D%0A%7B%20%22index%22%20%3A%20%7B%20%22_index%22%20%3A%20%22promql_test-01%22%2C%20%22_id%22%20%3A%20%2222%22%20%7D%20%7D%0A%7B%20%22type%22%20%3A%22promql_test%22%2C%20%22%40timestamp%22%20%3A%20%222022-04-25T09%3A47%3A30.000Z%22%2C%20%22labels_str%22%20%3A%20%22labels.cpu%3Dcpu1%2Clabels.instance%3D10.4.14.35%2Clabels.mode%3Dsystem%22%2C%22metrics.system_metric_cpu_seconds_total%22%3A%2043%2C%22labels.cpu%22%3A%20%22cpu1%22%2C%22labels.instance%22%3A%20%2210.4.106.127%22%2C%22labels.mode%22%3A%20%22system%22%20%7D%0A%7B%20%22index%22%20%3A%20%7B%20%22_index%22%20%3A%20%22promql_test-01%22%2C%20%22_id%22%20%3A%20%2223%22%20%7D%20%7D%0A%7B%20%22type%22%20%3A%22promql_test%22%2C%20%22%40timestamp%22%20%3A%20%222022-04-25T09%3A48%3A00.000Z%22%2C%20%22labels_str%22%20%3A%20%22labels.cpu%3Dcpu1%2Clabels.instance%3D10.4.14.35%2Clabels.mode%3Dsystem%22%2C%22metrics.system_metric_cpu_seconds_total%22%3A%2044%2C%22labels.cpu%22%3A%20%22cpu1%22%2C%22labels.instance%22%3A%20%2210.4.106.127%22%2C%22labels.mode%22%3A%20%22system%22%20%7D%0A%7B%20%22index%22%20%3A%20%7B%20%22_index%22%20%3A%20%22promql_test-01%22%2C%20%22_id%22%20%3A%20%2224%22%20%7D%20%7D%0A%7B%20%22type%22%20%3A%22promql_test%22%2C%20%22%40timestamp%22%20%3A%20%222022-04-25T09%3A48%3A30.000Z%22%2C%20%22labels_str%22%20%3A%20%22labels.cpu%3Dcpu1%2Clabels.instance%3D10.4.14.35%2Clabels.mode%3Dsystem%22%2C%22metrics.system_metric_cpu_seconds_total%22%3A%2045%2C%22labels.cpu%22%3A%20%22cpu1%22%2C%22labels.instance%22%3A%20%2210.4.106.127%22%2C%22labels.mode%22%3A%20%22system%22%20%7D%0A'%0A%60%60%60%0A%0A**%E7%AC%AC2%E6%AD%A5****%C2%A0%C2%A0%20**%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%E5%A6%82%E5%9B%BE%20%60errors%60%20%E4%B8%BA%20%60false%60%EF%BC%8C%E5%88%99%E5%86%99%E5%85%A5%E6%88%90%E5%8A%9F%E3%80%82%0A%0A!%5Bimage%5D(images%2Fpromql_test_result_of_bulk.png)%0A%0A%E7%94%B1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%8F%AF%E7%9F%A5%EF%BC%8C%E8%AF%A5%E7%B4%A2%E5%BC%95%E4%B8%BA%20promql_test-01%EF%BC%8C%E5%88%99%E7%B4%A2%E5%BC%95%E5%BA%93%E5%90%8D%E7%A7%B0%E4%B8%BA%20promql_test%E3%80%82%0A%0A%0A**%E7%AC%AC3%E6%AD%A5****%C2%A0%C2%A0%20**%E7%BB%99%E7%B4%A2%E5%BC%95%E5%BA%93%E5%88%9B%E5%BB%BA%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%EF%BC%9A%0A%0A%E5%88%9B%E5%BB%BA%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%E5%8F%AF%E9%80%9A%E8%BF%87%20AnyRobot%20%E7%AE%A1%E7%90%86%E9%A1%B5%E9%9D%A2%E5%88%9B%E5%BB%BA%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E8%B0%83%E7%94%A8%20API%20%E5%88%9B%E5%BB%BA%E3%80%82%E5%85%B7%E4%BD%93%E6%96%B9%E5%BC%8F%E5%A6%82%E4%B8%8B%EF%BC%9A%0A%0A1.%20%E6%96%B9%E5%BC%8F%E4%B8%80%EF%BC%9A%E7%99%BB%E5%BD%95%20AnyRobot%20%E9%A1%B5%E9%9D%A2%E5%88%9B%E5%BB%BA%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%EF%BC%9A%0A%2B%20%E7%99%BB%E5%BD%95%20AnyRobot%EF%BC%8C%E6%96%B0%E5%BB%BA%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%EF%BC%9A%0A%0A%E9%80%9A%E8%BF%87%20%22%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86-%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84-%E6%96%B0%E5%BB%BA%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%22%0A!%5Bimage%5D(images%2Fcreate_log_group1.png)%0A!%5Bimage%5D(images%2Fcreate_promql_loggroup.png)%0A%0A%2B%20%E8%8E%B7%E5%8F%96%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84id%EF%BC%9A%0A%0A%E6%96%B0%E5%BB%BA%E4%B9%8B%E5%90%8E%E7%82%B9%E5%87%BB%E4%BF%9D%E5%AD%98%EF%BC%8C%E5%9C%A8%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%E8%AF%A6%E6%83%85%E9%A1%B5%E5%8F%AF%E4%BB%A5%E6%9F%A5%E7%9C%8B%E5%88%B0%E8%AF%A5%E5%88%86%E7%BB%84%E7%9A%84id%EF%BC%9A%0A!%5Bimage%5D(images%2Floggroup_id_of_promql_test.png)%0A%0A2.%20%E6%96%B9%E5%BC%8F%E4%BA%8C%EF%BC%9A%E8%B0%83%E7%94%A8%20API%20%E5%88%9B%E5%BB%BA%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%EF%BC%9A%0A%2B%20%E5%85%88%E8%8E%B7%E5%8F%96%E6%97%A5%E5%BF%97%E5%BA%93id%EF%BC%9A%0A%60%60%60json%0Acurl%20http%3A%2F%2F10.4.14.35%2Fapi%2Fv1%2FdataManager%2FlogWareHouse%3FdataType%3Dpromql_test%20%7Cjq%20.data%5B0%5D.id%0A%60%60%60%0A%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%E5%A6%82%E4%B8%8B%E5%9B%BE%EF%BC%9A%0A!%5Bimage%5D(images%2Fget_logwarehouse_id.png)%0A%0A%0A%2B%20%E5%88%9B%E5%BB%BA%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%EF%BC%9A%0A%0A%E6%8A%8A%E4%B8%8A%E9%9D%A2%E8%8E%B7%E5%8F%96%E5%88%B0%E7%9A%84%E6%97%A5%E5%BF%97%E5%BA%93%20id%20%E6%94%BE%E5%85%A5%E8%AF%B7%E6%B1%82%20body%20%E7%9A%84%20logWareHouse%20%E4%B8%AD%EF%BC%8C%E7%84%B6%E5%90%8E%E8%B0%83%E7%94%A8%E6%8E%A5%E5%8F%A3%E5%88%9B%E5%BB%BA%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%E3%80%82%0A%60%60%60json%0Acurl%20-X%20POST%20'http%3A%2F%2F10.4.14.35%2Fmanager%2Floggroup%3Foperate%3Dcreate'%20-H%20'user%3A%20f5a08cb056c539d76f373bbc94458e39'%20-H%20'Content-Type%3A%20application%2Fjson'%20-d'%0A%7B%0A%09%22description%22%3A%20%22%22%2C%0A%09%22filters%22%3A%20%7B%0A%09%09%22advance%22%3A%20%22%22%2C%0A%09%09%22host%22%3A%20%5B%0A%09%09%09%22*%22%0A%09%09%5D%2C%0A%09%09%22logWareHouse%22%3A%20%5B%0A%09%09%09%22029a792d76d23108eb77aedacf0c365e%22%0A%09%09%5D%2C%0A%09%09%22tags%22%3A%20%5B%0A%09%09%09%22*%22%0A%09%09%5D%2C%0A%09%09%22type%22%3A%20%5B%0A%09%09%09%7B%0A%09%09%09%09%22negative%22%3A%200%2C%0A%09%09%09%09%22type%22%3A%200%2C%0A%09%09%09%09%22value%22%3A%20%22promql_test%22%0A%09%09%09%7D%0A%09%09%5D%0A%09%7D%2C%0A%09%22groupName%22%3A%20%22promql_test%22%2C%0A%09%22parentGroupId%22%3A%20%22%22%0A%7D%0A'%0A%60%60%60%0A%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%E5%8D%B3%E4%B8%BA%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84id%EF%BC%8C%E5%A6%82%E4%B8%8B%E5%A6%82%E6%89%80%E7%A4%BA%EF%BC%9A%0A!%5Bimage%5D(images%2Floggroup_id2.png)%0A%0A%0A**%E7%AC%AC4%E6%AD%A5****%C2%A0%C2%A0%20**%E5%8F%91%E9%80%81%20PromQL%20%E6%9F%A5%E8%AF%A2%E8%AF%B7%E6%B1%82%0A%0A%23%23%23%23%23%20Instant%20query%20%E6%9F%A5%E8%AF%A2%0A%0A%2B%20url%0A%0Aip%3Aport%EF%BC%9A%E4%B8%BA%E8%83%BD%E5%A4%9F%E9%80%9A%E4%BF%A1UniQuery%E6%9C%8D%E5%8A%A1%E7%9A%84%E5%9C%B0%E5%9D%80%E5%92%8C%E7%AB%AF%E5%8F%A3%E5%8F%B7%0A%0A%60%60%60Plain%20Text%0Ahttp%3A%2F%2Fip%3Aport%2Fapi%2Funiquery%2Fv1%2Fpromql%2Fquery%0A%60%60%60%0A%0A%2B%20Body%0A%0A%E6%9F%A5%E8%AF%A2%E5%9C%BA%E6%99%AF%E5%A6%82%E4%B8%8B%EF%BC%9A%E6%9F%A5%E8%AF%A2%E6%9F%90%E4%B8%AA%E4%B8%BB%E6%9C%BA%E7%9A%84%20cpu%20%E6%80%BB%E6%A0%B8%E6%95%B0%E3%80%82%0A%0A%60%60%60Plain%20Text%0Acurl%20-X%20POST%20http%3A%2F%2Fip%3Aport%2Fapi%2Funiquery%2Fv1%2Fpromql%2Fquery%20%5C%0A-H%20%22Content-Type%3Aapplication%2Fx-www-form-urlencoded%22%20%5C%0A-d%20'query%3Dcount(system_metric_cpu_seconds_total%7Bmode%3D%22system%22%2Cinstance%3D%2210.4.106.127%22%7D)%0A%20%26ar_dataview%3D%220f8cfbcc-5b24-11ed-8316-6a49cc377d43%22%26time%3D2022-04-25T09%3A48%3A30.000Z'%0A%60%60%60%0A%0A%2B%20%E7%BB%93%E6%9E%9C%E5%A6%82%E4%B8%8B%EF%BC%9A%0A%0A%60%60%60json%0A%7B%0A%20%20%20%20%22status%22%3A%20%22success%22%2C%0A%20%20%20%20%22data%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%22resultType%22%3A%20%22vector%22%2C%0A%20%20%20%20%20%20%20%20%22result%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22metric%22%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22value%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%201650880110%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%222%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%7D%0A%7D%0A%60%60%60%0A%0A%23%23%23%23%23%20Range%20query%20%E6%9F%A5%E8%AF%A2%0A%0A%2B%20url%0A%0Aip%3Aport%EF%BC%9A%E4%B8%BA%E8%83%BD%E5%A4%9F%E9%80%9A%E4%BF%A1UniQuery%E6%9C%8D%E5%8A%A1%E7%9A%84%E5%9C%B0%E5%9D%80%E5%92%8C%E7%AB%AF%E5%8F%A3%E5%8F%B7%0A%0A%60%60%60Plain%20Text%0Ahttp%3A%2F%2Fip%3Aport%2Fapi%2Funiquery%2Fv1%2Fpromql%2Fquery_range%0A%60%60%60%0A%0A%2B%20Body%0A%0A%E6%9F%A5%E8%AF%A2%E5%9C%BA%E6%99%AF%E5%A6%82%E4%B8%8B%EF%BC%9A%E6%9F%A5%E8%AF%A2%E6%9F%90%E4%B8%AA%E4%B8%BB%E6%9C%BA%E7%9A%84%20system%20%E6%A8%A1%E5%BC%8F%E4%B8%8B%E7%9A%84%E5%90%84%E4%B8%AA%E6%A0%B8%E7%9A%84%20cpu%20%E4%BD%BF%E7%94%A8%E7%8E%87%E3%80%82%0A%0A%60%60%60Plain%20Text%0Acurl%20-X%20POST%20http%3A%2F%2Fip%3Aport%2Fapi%2Funiquery%2Fv1%2Fpromql%2Fquery_range%20%5C%0A-H%20%22Content-Type%3Aapplication%2Fx-www-form-urlencoded%22%20%5C%0A-d%20'query%3Dirate(system_metric_cpu_seconds_total%7Bmode%3D%22system%22%2Cinstance%3D%2210.4.106.127%22%7D%5B1m%5D)%0A%26ar_dataview%3D%220f8cfbcc-5b24-11ed-8316-6a49cc377d43%22%26start%3D2022-04-25T09%3A46%3A00.000Z%26end%3D2022-04-25T09%3A48%3A30.000Z%26step%3D30s'%0A%60%60%60%0A%0A%2B%20%E7%BB%93%E6%9E%9C%E5%A6%82%E4%B8%8B%EF%BC%9A%0A%0A%60%60%60json%0A%7B%0A%20%20%20%20%22status%22%3A%20%22success%22%2C%0A%20%20%20%20%22data%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%22resultType%22%3A%20%22matrix%22%2C%0A%20%20%20%20%20%20%20%20%22result%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22metric%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22labels.cpu%22%3A%20%22cpu0%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22labels.instance%22%3A%20%2210.4.14.35%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22labels.mode%22%3A%20%22system%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22values%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%201650880020%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%220%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%201650880050%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%220.03333333333333333%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%201650880080%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%220.03333333333333333%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%201650880110%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%220.03333333333333333%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22metric%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22labels.cpu%22%3A%20%22cpu1%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22labels.instance%22%3A%20%2210.4.14.35%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22labels.mode%22%3A%20%22system%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22values%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%201650880020%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%220%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%201650880050%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%220.03333333333333333%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%201650880080%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%220.03333333333333333%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%201650880110%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%220.03333333333333333%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%7D%0A%7D%0A%60%60%60%0A%0A%23%23%23%23%23%20Series%20%E6%9F%A5%E8%AF%A2%0A%0A%2B%20url%0A%0Aip%3Aport%EF%BC%9A%E4%B8%BA%E8%83%BD%E5%A4%9F%E9%80%9A%E4%BF%A1UniQuery%E6%9C%8D%E5%8A%A1%E7%9A%84%E5%9C%B0%E5%9D%80%E5%92%8C%E7%AB%AF%E5%8F%A3%E5%8F%B7%0A%0A%60%60%60Plain%20Text%0Ahttp%3A%2F%2Fip%3Aport%2Fapi%2Funiquery%2Fv1%2Fpromql%2Fseries%0A%60%60%60%0A%0A%2B%20Body%0A%0A%E6%9F%A5%E8%AF%A2%E5%9C%BA%E6%99%AF%E5%A6%82%E4%B8%8B%EF%BC%9A%E6%9F%A5%E8%AF%A2%E6%8C%87%E6%A0%87%20%60system_metric_cpu_seconds_total%60%20%E4%B8%8B%E7%9A%84%E5%BA%8F%E5%88%97%E5%88%97%E8%A1%A8%E3%80%82%0A%0A%60%60%60Plain%20Text%0Acurl%20-X%20POST%20http%3A%2F%2Fip%3Aport%2Fapi%2Funiquery%2Fv1%2Fpromql%2Fseries%20%5C%0A-H%20%22Content-Type%3Aapplication%2Fx-www-form-urlencoded%22%20%5C%0A-d%20'match%5B%5D%3Dsystem_metric_cpu_seconds_total%0A%20%26ar_dataview%3D%220f8cfbcc-5b24-11ed-8316-6a49cc377d43%22%26start%3D2022-04-25T09%3A46%3A00.000Z%26end%3D2022-04-25T09%3A48%3A30.000Z'%0A%60%60%60%0A%0A%2B%20%E7%BB%93%E6%9E%9C%E5%A6%82%E4%B8%8B%EF%BC%9A%0A%0A%60%60%60json%0A%7B%0A%20%20%20%20%22status%22%3A%20%22success%22%2C%0A%20%20%20%20%22data%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22labels.cpu%22%3A%20%22cpu0%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22labels.instance%22%3A%20%2210.4.14.35%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22labels.mode%22%3A%20%22system%22%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22labels.cpu%22%3A%20%22cpu0%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22labels.instance%22%3A%20%2210.4.14.35%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22labels.mode%22%3A%20%22user%22%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22labels.cpu%22%3A%20%22cpu1%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22labels.instance%22%3A%20%2210.4.14.35%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22labels.mode%22%3A%20%22system%22%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22labels.cpu%22%3A%20%22cpu1%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22labels.instance%22%3A%20%2210.4.14.35%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22labels.mode%22%3A%20%22user%22%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%5D%0A%7D%0A%60%60%60%0A%0A%2B%20%E7%BB%93%E5%90%88%20grafana%20%E7%9A%84%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E%0A%0A**%E7%AC%AC1%E6%AD%A5****%C2%A0%C2%A0%20**%E9%85%8D%E7%BD%AE%20anyrobot%20%E6%95%B0%E6%8D%AE%E6%BA%90%EF%BC%9A%0A%0A%E7%99%BB%E5%BD%95%20grafana%20%E9%85%8D%E7%BD%AE%20anyrobot%20%E6%95%B0%E6%8D%AE%E6%BA%90%EF%BC%8C%E9%85%8D%E7%BD%AE%20uniquery%20%E5%92%8C%20data-manager%20%E7%9A%84%E8%BF%9E%E6%8E%A5%E4%BF%A1%E6%81%AF%EF%BC%8C%E5%A6%82%E4%B8%8B%E5%9B%BE%EF%BC%9A%0A!%5Bimage%5D(images%2Fanyrobot_datasource.png)%0A%0A%E5%88%9B%E5%BB%BA%E4%BB%AA%E8%A1%A8%E7%9B%98%E6%88%96%E8%80%85%E5%AF%BC%E5%85%A5%E4%BB%AA%E8%A1%A8%E7%9B%98%E6%A8%A1%E6%9D%BF%E6%9F%A5%E8%AF%A2%E5%B1%95%E7%A4%BA%20anyrobot%20%E4%B8%AD%E7%9A%84%E4%BB%AA%E8%A1%A8%E7%9B%98%E6%95%B0%E6%8D%AE%E3%80%82%E6%AD%A4%E6%97%B6%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E6%98%AF%EF%BC%8C%E9%9C%80%E8%A6%81%E7%BB%99%E4%BB%AA%E8%A1%A8%E7%9B%98%E5%AE%9A%E4%B9%89%E5%85%B3%E4%BA%8E%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%E7%9A%84%E5%8F%98%E9%87%8F%E3%80%82%0A%0A%2B%20%E6%A0%B9%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%E7%9A%84%E5%AE%9A%E4%B9%89%0A%0A%E7%BC%96%E8%BE%91%E4%BB%AA%E8%A1%A8%E7%9B%98%EF%BC%8C%E6%96%B0%E5%A2%9E%E4%B8%80%E4%B8%AA%E5%85%B3%E4%BA%8E%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%E7%9A%84%E5%8F%98%E9%87%8F%EF%BC%8C%E6%A0%B9%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%E7%9A%84%E5%8F%98%E9%87%8F%E7%9A%84%E5%87%BD%E6%95%B0%E6%98%AF%20%60root_group(%24%E6%A0%B9%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%E5%90%8D%E7%A7%B0)%60%E3%80%82%E5%A6%82%E4%B8%8B%E5%9B%BE%E6%89%80%E7%A4%BA%EF%BC%9A%0A!%5Bimage%5D(images%2Froot_group.png)%0A%0A%2B%20%E5%AD%90%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%E7%9A%84%E5%AE%9A%E4%B9%89%0A%0A%E5%AE%9A%E4%B9%89%E5%A5%BD%E6%A0%B9%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%E5%90%8E%EF%BC%8C%E5%8F%AF%E5%AE%9A%E4%B9%89%E5%AD%90%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%EF%BC%8C%E5%AD%90%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%E7%9A%84%E5%8F%98%E9%87%8F%E7%9A%84%E5%87%BD%E6%95%B0%E6%98%AF%20%60sub_log_group(%24%7BrootGroup%7D)%60%E3%80%82%E5%AF%B9%E4%BA%8E%E6%9C%80%E5%BA%95%E5%B1%82%E5%AD%90%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84%E5%8F%98%E9%87%8F%EF%BC%8C%E5%85%B6%E5%90%8D%E7%A7%B0%E9%9C%80%E5%91%BD%E5%90%8D%E4%B8%BA%20%60ar_dataview%60%E3%80%82%E5%A6%82%E4%B8%8B%E5%9B%BE%E6%89%80%E7%A4%BA%EF%BC%9A%0A!%5Bimage%5D(images%2Fchild_group.png)%0A%0A%2B%20%E6%99%AE%E9%80%9A%E5%8F%98%E9%87%8F%E5%AE%9A%E4%B9%89%0A%0A%E5%BD%93%E6%88%91%E4%BB%AC%E9%9C%80%E8%A6%81%E4%BB%8E%E6%8C%87%E6%A0%87%E4%B8%AD%E6%9F%A5%E8%AF%A2%E5%87%BA%E6%9F%90%E4%B8%AA%E6%A0%87%E7%AD%BE%E5%80%BC%E4%BD%9C%E4%B8%BA%E4%BB%AA%E8%A1%A8%E7%9B%98%E7%9A%84%E8%BF%87%E6%BB%A4%E5%8F%98%E9%87%8F%E6%97%B6%EF%BC%8C%E5%8F%AF%E9%80%9A%E8%BF%87%20%60label_values%60%20%E5%87%BD%E6%95%B0%E6%9D%A5%E5%AE%9A%E4%B9%89%E4%B8%80%E4%B8%AA%E6%9F%A5%E8%AF%A2%E5%8F%98%E9%87%8F%E3%80%82%E5%A6%82%E4%B8%8B%E5%9B%BE%E6%89%80%E7%A4%BA%EF%BC%9A%0A!%5Bimage%5D(images%2Fcommon_variable.png)%0A%0A%0A%0A%23%23%23%202.3.7%20PromQL%20%E9%99%90%E5%88%B6%E6%80%A7%E8%AF%B4%E6%98%8E%0A%0A%2B%20%E7%9E%AC%E6%97%B6%E6%9F%A5%E8%AF%A2%E6%97%B6%E9%97%B4%E9%99%90%E5%88%B6%0A%0A%E5%A6%82%E6%9E%9C%E5%9C%A8%E6%9F%A5%E8%AF%A2%E6%97%B6%E9%97%B4%E6%88%B3%E5%89%8D%205%20%E5%88%86%E9%92%9F%EF%BC%88%E9%BB%98%E8%AE%A4%E6%83%85%E5%86%B5%E4%B8%8B%EF%BC%89%E6%9C%AA%E6%89%BE%E5%88%B0%E6%A0%B7%E6%9C%AC%EF%BC%8C%E5%88%99%E6%AD%A4%E6%97%B6%E4%B8%8D%E4%BC%9A%E8%BF%94%E5%9B%9E%E8%AF%A5%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E7%9A%84%E5%80%BC%E3%80%82%E8%BF%99%E5%AE%9E%E9%99%85%E4%B8%8A%E6%84%8F%E5%91%B3%E7%9D%80%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E6%9C%80%E6%96%B0%E6%94%B6%E9%9B%86%E5%88%B0%E7%9A%84%E6%A0%B7%E6%9C%AC%E8%B7%9D%E7%A6%BB%E6%9F%A5%E8%AF%A2%E6%97%B6%E9%97%B4%E6%88%B3%E8%B6%85%E8%BF%87%205%20%E5%88%86%E9%92%9F%E3%80%82%0A%0A%2B%20%E9%81%BF%E5%85%8D%E6%85%A2%E6%9F%A5%E8%AF%A2%E5%92%8C%E8%BF%87%E8%BD%BD%0A%0A%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E6%8C%87%E6%A0%87%EF%BC%8C%E4%BE%8B%E5%A6%82%20%60system_metric_memory_total_bytes%60%20%E5%8F%AF%E4%BB%A5%E6%89%A9%E5%B1%95%E5%88%B0%E6%95%B0%E5%8D%83%E4%B8%AA%E5%85%B7%E6%9C%89%E4%B8%8D%E5%90%8C%E6%A0%87%E7%AD%BE%E7%9A%84%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E3%80%82%E6%89%80%E4%BB%A5%EF%BC%8C%E5%8D%B3%E4%BD%BF%E8%BE%93%E5%87%BA%E5%8F%AA%E6%98%AF%E5%B0%91%E6%95%B0%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%EF%BC%8C%E8%81%9A%E5%90%88%E5%A4%9A%E4%B8%AA%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E7%9A%84%E8%AF%AD%E5%8F%A5%E4%B9%9F%E4%BC%9A%E5%9C%A8%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E4%BA%A7%E7%94%9F%E8%B4%9F%E8%BD%BD%E3%80%82%E8%BF%99%E7%B1%BB%E4%BC%BC%E4%BA%8E%E5%9C%A8%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%E5%AF%B9%E5%88%97%E7%9A%84%E6%89%80%E6%9C%89%E5%80%BC%E6%B1%82%E5%92%8C%E4%BC%9A%E5%BE%88%E6%85%A2%EF%BC%8C%E5%8D%B3%E4%BD%BF%E8%BE%93%E5%87%BA%E5%80%BC%E5%8F%AA%E6%98%AF%E4%B8%80%E4%B8%AA%E6%95%B0%E5%AD%97%E3%80%82%0A%0A%2B%20%E6%9F%A5%E8%AF%A2%E5%BA%8F%E5%88%97%E9%99%90%E5%88%B6%0A%0A%E9%BB%98%E8%AE%A4%E6%83%85%E5%86%B5%E4%B8%8B%EF%BC%8C%E5%85%81%E8%AE%B8%E4%BB%8E%20%60opensearch%60%20%E4%B8%AD%E6%9F%A5%E8%AF%A2%E5%88%B0%E7%9A%84%E6%9C%80%E5%A4%A7%E7%9A%84%E5%BA%8F%E5%88%97%E4%B8%AA%E6%95%B0%E4%B8%BA%2010000%20%E3%80%82%0A%0A%2B%20%E5%8D%95%E4%B8%AA%E5%BA%8F%E5%88%97%E6%9F%A5%E8%AF%A2%E7%82%B9%E6%95%B0%E9%99%90%E5%88%B6%0A%0A%E5%8D%95%E4%B8%AA%E5%BA%8F%E5%88%97%E5%85%81%E8%AE%B8%E6%9F%A5%E8%AF%A2%E7%9A%84%E6%9C%80%E5%A4%A7%E7%9A%84%E7%82%B9%E6%95%B0%E4%B8%BA%2011000%E3%80%82%0A%0A%0A%0A%23%23%202.4%20%E9%99%90%E5%88%B6%E4%B8%8E%E5%85%BC%E5%AE%B9%E6%80%A7%0A%0A%23%23%23%202.4.1%20%E9%83%A8%E7%BD%B2%E8%A6%81%E6%B1%82%0A%0A%2B%20CPU%E6%9E%B6%E6%9E%84%E4%BE%9D%E8%B5%96%EF%BC%9Aamd64%E3%80%81arm64%0A%0A%23%23%23%202.4.2%20%E5%85%BC%E5%AE%B9%E6%80%A7%0A%0A%2B%20%E8%AF%AD%E6%B3%95%E4%B8%8A%E5%85%BC%E5%AE%B9ElasticSearch7.10%E6%9F%A5%E8%AF%A2%E8%AF%AD%E6%B3%95%0A%0A%2B%20%E7%89%88%E6%9C%AC%E4%B8%8A%E5%85%BC%E5%AE%B9AnyRobot-5.0.0%E5%8F%8A%E4%BB%A5%E5%90%8E%0A%0A%23%20%E7%AC%AC3%E7%AB%A0%20%E6%9C%AF%E8%AF%AD%E5%8F%8A%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE%0A%0A%23%23%203.1%20%E6%9C%AF%E8%AF%AD%E8%AF%B4%E6%98%8E%0A%0A%7C%20%E4%B8%AD%E6%96%87%E7%AE%80%E4%BD%93%20%20%20%20%20%20%20%20%20%20%20%7C%20%E4%B8%AD%E6%96%87%E7%B9%81%E4%BD%93%20%20%20%20%20%20%20%20%20%20%20%7C%20%E8%8B%B1%E6%96%87%20%20%20%20%20%20%20%20%7C%20%E6%B3%A8%E9%87%8A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20------------------%20%7C%20------------------%20%7C%20-----------%20%7C%20---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------%20%7C%0A%7C%20%5C-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20%5C-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20RESTful%20API%20%7C%20%E4%B8%80%E7%A7%8D%E5%88%86%E5%B8%83%E5%BC%8F%E5%BA%94%E7%94%A8%E7%9A%84%E6%9E%B6%E6%9E%84%E9%A3%8E%E6%A0%BC%EF%BC%8C%E4%B9%9F%E6%98%AF%E4%B8%80%E7%A7%8D%E5%A4%A7%E6%B5%81%E9%87%8F%E5%88%86%E5%B8%83%E5%BC%8F%E5%BA%94%E7%94%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E6%96%B9%E6%B3%95%E8%AE%BA%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20%E8%B6%85%E6%96%87%E6%9C%AC%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE%20%20%20%20%20%7C%20%E8%B6%85%E6%96%87%E6%9C%AC%E5%82%B3%E8%BC%B8%E5%8D%94%E8%AD%B0%20%20%20%20%20%7C%20HTTP%20%20%20%20%20%20%20%20%7C%20%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1%E4%B8%AD%E7%9A%84%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20%E8%B6%85%E6%96%87%E6%9C%AC%E4%BC%A0%E8%BE%93%E5%AE%89%E5%85%A8%E5%8D%8F%E8%AE%AE%20%7C%20%E8%B6%85%E6%96%87%E6%9C%AC%E5%82%B3%E8%BC%B8%E5%AE%89%E5%85%A8%E5%8D%94%E8%AD%B0%20%7C%20HTTPS%20%20%20%20%20%20%20%7C%20%E7%94%B1%20SSL%2BHTTP%20%E5%8D%8F%E8%AE%AE%E6%9E%84%E5%BB%BA%E7%9A%84%E5%8F%AF%E8%BF%9B%E8%A1%8C%E5%8A%A0%E5%AF%86%E4%BC%A0%E8%BE%93%E3%80%81%E8%BA%AB%E4%BB%BD%E8%AE%A4%E8%AF%81%E7%9A%84%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%EF%BC%8C%E8%A6%81%E6%AF%94HTTP%E5%8D%8F%E8%AE%AE%E5%AE%89%E5%85%A8%EF%BC%8C%E5%8F%AF%E9%98%B2%E6%AD%A2%E6%95%B0%E6%8D%AE%E5%9C%A8%E4%BC%A0%E8%BE%93%E8%BF%87%E7%A8%8B%E4%B8%AD%E8%A2%AB%E7%AA%83%E5%8F%96%E3%80%81%E6%94%B9%E5%8F%98%EF%BC%8C%E7%A1%AE%E4%BF%9D%E6%95%B0%E6%8D%AE%E7%9A%84%E5%AE%8C%E6%95%B4%E6%80%A7%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20%5C-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20%5C-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20DSL%20%20%20%20%20%20%20%20%20%7C%20%E9%A2%86%E5%9F%9F%E7%89%B9%E5%AE%9A%E8%AF%AD%E8%A8%80%EF%BC%88%E8%8B%B1%E8%AF%AD%EF%BC%9Adomain-specific%20%20%20language%E3%80%81DSL%EF%BC%89%E6%8C%87%E7%9A%84%E6%98%AF%E4%B8%93%E6%B3%A8%E4%BA%8E%E6%9F%90%E4%B8%AA%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E9%A2%86%E5%9F%9F%E7%9A%84%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20%5C-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20%5C-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20JSON%20%20%20%20%20%20%20%20%7C%20JSON%EF%BC%88JavaScript%20%20%20Object%20Notation%2C%20JS%20%E5%AF%B9%E8%B1%A1%E7%AE%80%E8%B0%B1%EF%BC%89%E6%98%AF%E4%B8%80%E7%A7%8D%E8%BD%BB%E9%87%8F%E7%BA%A7%E7%9A%84%E6%95%B0%E6%8D%AE%E4%BA%A4%E6%8D%A2%E6%A0%BC%E5%BC%8F%E3%80%82%E5%AE%83%E5%9F%BA%E4%BA%8E%20ECMAScript%20(%E6%AC%A7%E6%B4%B2%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%8D%8F%E4%BC%9A%E5%88%B6%E5%AE%9A%E7%9A%84js%E8%A7%84%E8%8C%83)%E7%9A%84%E4%B8%80%E4%B8%AA%E5%AD%90%E9%9B%86%EF%BC%8C%E9%87%87%E7%94%A8%E5%AE%8C%E5%85%A8%E7%8B%AC%E7%AB%8B%E4%BA%8E%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E7%9A%84%E6%96%87%E6%9C%AC%E6%A0%BC%E5%BC%8F%E6%9D%A5%E5%AD%98%E5%82%A8%E5%92%8C%E8%A1%A8%E7%A4%BA%E6%95%B0%E6%8D%AE%20%7C%0A%7C%20%5C-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20%5C-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20PromQL%20%20%20%20%20%20%7C%20Prometheus%20%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80%EF%BC%88%E8%8B%B1%E8%AF%AD%EF%BC%9APrometheus%20Query%20Language%E3%80%81PromQL%EF%BC%89%E5%85%81%E8%AE%B8%E7%94%A8%E6%88%B7%E6%9F%A5%E8%AF%A2%E5%92%8C%E8%81%9A%E5%90%88%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%95%B0%E6%8D%AE%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A</center></span>
</div></body></html> 